[32m[2022-01-07T04:40:17.605] [INFO] HealthManager.js - [39mHealthManager initialized
[32m[2022-01-07T04:40:17.607] [INFO] MessageManager.js - [39mMessageManager.init() connection state: MM_INIT
[32m[2022-01-07T04:40:17.651] [INFO] TenantPool.js - [39mTenantPool::initializeTenantPool
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_CORE_AUTHORIZATION_SERVICE val: http://cb-core-authorization-service.dev-core.svc.cluster.local:4004
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_CORE_AUTH val: https://cb-core-auth-internal.dev-core.svc.cluster.local:4001
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_BUDGET_SERVICE val: http://cb-budget-adapter.dev-core.svc.cluster.local:5051
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_CORE_CREDENTIAL_SERVICE val: http://cb-cred-svc.dev-core.svc.cluster.local:8000
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_NOTIFICATION_SERVICE val: http://cb-notification-api.dev-core.svc.cluster.local:5056
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: CB_CORE_CONF_SERVICE val: http://cb-core-configuration-service.dev-core.svc.cluster.local:5054
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: ECAM_API_SERVER val: http://ecam-api-server.ecam:8080
[32m[2022-01-07T04:40:17.652] [INFO] tenant.context.service.js - [39menv: ECAM_ENRICHMENT_SERVER val: http://ecam-enrichment-server.ecam:8090
[32m[2022-01-07T04:40:17.653] [INFO] tenant.context.service.js - [39menv: INSIGHTS_URL val: undefined
[32m[2022-01-07T04:40:17.653] [INFO] tenant.context.service.js - [39menv: CB_CORE_AUDIT val: http://cb-audit-service.dev-core.svc.cluster.local:80
[32m[2022-01-07T04:40:17.653] [INFO] tenant.context.service.js - [39menv: CB_CORE_JOB_SERVICE val: http://cb-core-job-service.dev-core.svc.cluster.local:5062
[32m[2022-01-07T04:40:17.653] [INFO] tenant.context.service.js - [39menv: CB_CORE_ACCOUNT_SERVICE val: http://cb-core-account-svc.dev-core.svc.cluster.local:4010
[32m[2022-01-07T04:40:17.653] [INFO] tenant.context.service.js - [39menv: ECAM_DISCOVERY_ADAPTER val: http://ecam-discovery-adapter.ecam:9099
[32m[2022-01-07T04:40:17.655] [INFO] TenantDbManager.js - [39mpulling tenants from db
[32m[2022-01-07T04:40:17.662] [INFO] MessageManager.js - [39mAMQP_URL: amqp://***:***@rabbitmq.ecam-ext.svc.cluster.local
[32m[2022-01-07T04:40:17.667] [INFO] index.js - [39mRunning ecam orc on port 8090
[32m[2022-01-07T04:40:17.668] [INFO] MessageManager.js - [39mChecking if messageManager is connected - connection state MM_INIT
[32m[2022-01-07T04:40:17.674] [INFO] TenantDbManager.js - [39mtopologyOpening; {"topologyId":0}
[32m[2022-01-07T04:40:17.674] [INFO] TenantDbManager.js - [39mserverOpening; {"topologyId":0,"address":"mongodb-headless.ecam-ext:27017"}
[32m[2022-01-07T04:40:17.678] [INFO] TenantDbManager.js - [39mconnectionPoolCreated; {"time":"2022-01-07T04:40:17.678Z","address":"mongodb-headless.ecam-ext:27017"}
[32m[2022-01-07T04:40:17.701] [INFO] TenantDbManager.js - [39mserverDescriptionChanged; {"topologyId":0,"address":"mongodb-headless.ecam-ext:27017","previousDescription":{"address":"mongodb-headless.ecam-ext:27017","roundTripTime":-1,"lastUpdateTime":49794626,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]}}
[32m[2022-01-07T04:40:17.701] [INFO] TenantDbManager.js - [39mserverOpening; {"topologyId":0,"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.702] [INFO] TenantDbManager.js - [39mserverOpening; {"topologyId":0,"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.702] [INFO] TenantDbManager.js - [39mserverOpening; {"topologyId":0,"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.704] [INFO] TenantDbManager.js - [39mconnectionPoolClosed; {"time":"2022-01-07T04:40:17.704Z","address":"mongodb-headless.ecam-ext:27017"}
[32m[2022-01-07T04:40:17.704] [INFO] TenantDbManager.js - [39mserverClosed; {"topologyId":0,"address":"mongodb-headless.ecam-ext:27017"}
[32m[2022-01-07T04:40:17.705] [INFO] TenantDbManager.js - [39mconnectionPoolCreated; {"time":"2022-01-07T04:40:17.705Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.705] [INFO] TenantDbManager.js - [39mconnectionPoolCreated; {"time":"2022-01-07T04:40:17.705Z","address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.705] [INFO] TenantDbManager.js - [39mconnectionPoolCreated; {"time":"2022-01-07T04:40:17.705Z","address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[32m[2022-01-07T04:40:17.707] [INFO] MessageManager.js - [39mMessage Manager created connection
[32m[2022-01-07T04:40:17.712] [INFO] swagger-spec.js - [39mSwagger sucessfully posted for http://cb-swagger-service.dev-core.svc.cluster.local:3986/cb-core-swagger/v1/applications/ecam/services/ecam-orc
[32m[2022-01-07T04:40:17.720] [INFO] TenantDbManager.js - [39mserverDescriptionChanged; {"topologyId":0,"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49794655,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":15,"lastUpdateTime":49794672,"lastWriteDate":"2022-01-07T04:40:15.000Z","opTime":{"ts":"7050319447814307841","t":486},"type":"RSPrimary","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"electionId":"7fffffff00000000000001e6","primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30,"$clusterTime":{"clusterTime":"7050319447814307841","signature":{"hash":{"type":"Buffer","data":[216,38,43,55,182,35,69,92,94,64,62,57,218,227,166,193,154,246,6,188]},"keyId":"7023279991576068101"}}}}
[32m[2022-01-07T04:40:17.722] [INFO] TenantDbManager.js - [39mserverDescriptionChanged; {"topologyId":0,"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49794655,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":19,"lastUpdateTime":49794675,"lastWriteDate":"2022-01-07T04:40:15.000Z","opTime":{"ts":"7050319447814307841","t":486},"type":"RSSecondary","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30,"$clusterTime":{"clusterTime":"7050319447814307841","signature":{"hash":{"type":"Buffer","data":[216,38,43,55,182,35,69,92,94,64,62,57,218,227,166,193,154,246,6,188]},"keyId":"7023279991576068101"}}}}
[32m[2022-01-07T04:40:17.723] [INFO] TenantDbManager.js - [39mserverDescriptionChanged; {"topologyId":0,"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49794655,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":19,"lastUpdateTime":49794676,"lastWriteDate":"2022-01-07T04:40:15.000Z","opTime":{"ts":"7050319447814307841","t":486},"type":"RSArbiter","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30}}
[32m[2022-01-07T04:40:17.725] [INFO] MessageManager.js - [39mChannel created
[32m[2022-01-07T04:40:17.729] [INFO] MessageManager.js - [39mexchange Asserted
[32m[2022-01-07T04:40:17.729] [INFO] MessageManager.js - [39mevent Names: []
[32m[2022-01-07T04:40:17.729] [INFO] MessageManager.js - [39mSuccesfull
[32m[2022-01-07T04:40:17.745] [INFO] TenantDbManager.js - [39mconnectionReady; {"time":"2022-01-07T04:40:17.745Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":1}
[32m[2022-01-07T04:40:17.750] [INFO] TenantDbManager.js - [39mDatabase stats  {"db":"ECAMApp","collections":5,"views":0,"objects":13,"avgObjSize":459.84615384615387,"dataSize":5978,"storageSize":135168,"numExtents":0,"indexes":6,"indexSize":159744,"scaleFactor":1,"fsUsedSize":349959749632,"fsTotalSize":500684595200,"ok":1,"$clusterTime":{"clusterTime":"7050319447814307841","signature":{"hash":"2CYrN7YjRVxeQD452uOmwZr2Brw=","keyId":"7023279991576068101"}},"operationTime":"7050319447814307841"}
(node:1) DeprecationWarning: collection.insert is deprecated. Use insertOne, insertMany or bulkWrite instead.
[32m[2022-01-07T04:40:17.758] [INFO] TenantDbManager.js - [39mtenant exists
[32m[2022-01-07T04:40:17.763] [INFO] TenantDbManager.js - [39mtenants_sanitized:
[
  {
    _id: 'global',
    name: 'global',
    mongo_db: 'global',
    tenant_host: undefined,
    tenant_api_host: undefined
  },
  {
    _id: '617908584e8e82e75f244ae0',
    name: 'ibm',
    mongo_db: '617908584e8e82e75f244ae0_ecam',
    tenant_host: 'ibm.gravitant.net',
    tenant_api_host: 'ibm-api.gravitant.net'
  },
  {
    _id: '618f69b8b3db277bfee4070d',
    name: 'cam1',
    mongo_db: '618f69b8b3db277bfee4070d_ecam',
    tenant_host: 'cam1.gravitant.net',
    tenant_api_host: 'cam1-api.gravitant.net'
  },
  {
    _id: '61a515fabc0b60e8e5f241c1',
    name: 'cam2',
    mongo_db: '61a515fabc0b60e8e5f241c1_ecam',
    tenant_host: 'cam2.gravitant.net',
    tenant_api_host: 'cam2-api.gravitant.net'
  },
  {
    _id: '61a712df65a85477f1dc3e4b',
    name: 'cam3',
    mongo_db: '61a712df65a85477f1dc3e4b_ecam',
    tenant_host: 'cam3.gravitant.net',
    tenant_api_host: 'cam3-api.gravitant.net'
  },
  {
    _id: '61b9b81d9efc3e6b7da2283a',
    name: 'cam6',
    mongo_db: '61b9b81d9efc3e6b7da2283a_ecam',
    tenant_host: 'cam6.gravitant.net',
    tenant_api_host: 'cam6-api.gravitant.net'
  },
  [length]: 6
]
[32m[2022-01-07T04:40:17.765] [INFO] index.js - [39mTenant Pool initialized
[32m[2022-01-07T04:40:22.668] [INFO] MessageManager.js - [39mMessageManager connected - connection state MM_CONNECTED
[32m[2022-01-07T04:40:22.669] [INFO] EnrichmentManager.js - [39mEnrichmentManager:init
[32m[2022-01-07T04:40:22.669] [INFO] MessageManager.js - [39minitTopic(job)
[32m[2022-01-07T04:40:22.669] [INFO] MessageManager.js - [39minitTopic(s3.extract)
[32m[2022-01-07T04:40:22.669] [INFO] HealthManager.js - [39mProcessing Jobs
[32m[2022-01-07T04:40:22.670] [INFO] LockManager.js - [39msynchronize HEALTH_MANAGER global HealthManager:processJobs
[32m[2022-01-07T04:40:22.670] [INFO] LockManager.js - [39m[global] attempt lock acquire {"_id":{"moduleName":"HEALTH_MANAGER","lock_id":"HealthManager:processJobs"},"timestamp":{"$lte":1641530362670}}
(node:1) DeprecationWarning: collection.findAndModify is deprecated. Use findOneAndUpdate, findOneAndReplace or findOneAndDelete instead.
(node:1) [MONGODB DRIVER] Warning: Top-level use of w, wtimeout, j, and fsync is deprecated. Use writeConcern instead.
[32m[2022-01-07T04:40:22.676] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-CAjL851ONYKRgRGR0_iZHQ"}
[32m[2022-01-07T04:40:22.676] [INFO] MessageManager.js - [39minitTopic(jobQ)
[32m[2022-01-07T04:40:22.677] [INFO] TenantDbManager.js - [39mconnectionReady; {"time":"2022-01-07T04:40:22.677Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":2}
[32m[2022-01-07T04:40:22.677] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-SwxfOrTohHENl-3-dGJybQ"}
[32m[2022-01-07T04:40:22.678] [INFO] LockManager.js - [39m[global] lock acquired, {"_id":{"moduleName":"HEALTH_MANAGER","lock_id":"HealthManager:processJobs"},"timestamp":{"$lte":1641530362670}}
[32m[2022-01-07T04:40:22.680] [INFO] HealthManager.js - [39mDeleting the active job references:  Set { 'ecam-enrichment-server-5d7cb9b99-9gt2r' }
[32m[2022-01-07T04:40:22.682] [INFO] HealthManager.js - [39mJobs:  Map {}
[32m[2022-01-07T04:40:22.683] [INFO] LockManager.js - [39m[global] attempt lock free  HealthManager:processJobs
[32m[2022-01-07T04:40:22.683] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-QadVK_BYsd7OdfQXWwpEYw"}
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(alicloud.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(aws.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(azure.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(gcp.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(ibmcloud.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(democloud.extract.reply)
[32m[2022-01-07T04:40:22.684] [INFO] MessageManager.js - [39minitTopic(s3.extract.reply)
[32m[2022-01-07T04:40:22.685] [INFO] LockManager.js - [39m[global] lock freed: HealthManager:processJobs
[32m[2022-01-07T04:40:22.693] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-OxKZMlfszxunNnSZJTwzEw"}
[32m[2022-01-07T04:40:22.693] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-iFGlvxsDYW4k3tiDKzJ7Ww"}
[32m[2022-01-07T04:40:22.694] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-4lXVUEaBaiK2pgp8YKNbSw"}
[32m[2022-01-07T04:40:22.694] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-4pJHFAKRBqJ6-tEZLorB5Q"}
[32m[2022-01-07T04:40:22.695] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-AienaKYidTW21ifABkpryA"}
[32m[2022-01-07T04:40:22.695] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-DzoRH_XMgmv_I1tJNk5D8A"}
[32m[2022-01-07T04:40:22.695] [INFO] MessageManager.js - [39maddListener consumer tag {"consumerTag":"amq.ctag-T56sLu4TqILatDh9EiVH7g"}
[32m[2022-01-07T04:41:40.574] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 48062 ::: UserDataCache.get userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b8cb9efc3e6b7da2284f
[32m[2022-01-07T04:41:40.574] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 48062 ::: No user_data_promise - creating new promise
[32m[2022-01-07T04:41:40.575] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 48062 ::: UserDataCache.set userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b8cb9efc3e6b7da2284f
[32m[2022-01-07T04:41:40.576] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 48062 ::: UserDataCache.set in 3 ms
[32m[2022-01-07T04:41:40.596] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 48062 ::: Resolving core call
[2022-01-07T04:41:40.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- topologyOpening; {"topologyId":2}
[2022-01-07T04:41:40.614Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverOpening; {"topologyId":2,"address":"mongodb-headless.ecam-ext:27017"}
(node:1) [MONGODB DRIVER] Warning: the options [servers] is not supported
(node:1) [MONGODB DRIVER] Warning: the options [caseTranslate] is not supported
(node:1) [MONGODB DRIVER] Warning: the options [dbName] is not supported
(node:1) [MONGODB DRIVER] Warning: the options [credentials] is not supported
[2022-01-07T04:41:40.615Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionPoolCreated; {"time":"2022-01-07T04:41:40.615Z","address":"mongodb-headless.ecam-ext:27017"}
[2022-01-07T04:41:40.617Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverDescriptionChanged; {"topologyId":2,"address":"mongodb-headless.ecam-ext:27017","previousDescription":{"address":"mongodb-headless.ecam-ext:27017","roundTripTime":-1,"lastUpdateTime":49877566,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]}}
[2022-01-07T04:41:40.617Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverOpening; {"topologyId":2,"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.617Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverOpening; {"topologyId":2,"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.618Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverOpening; {"topologyId":2,"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.619Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionPoolClosed; {"time":"2022-01-07T04:41:40.619Z","address":"mongodb-headless.ecam-ext:27017"}
[2022-01-07T04:41:40.620Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverClosed; {"topologyId":2,"address":"mongodb-headless.ecam-ext:27017"}
[2022-01-07T04:41:40.620Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionPoolCreated; {"time":"2022-01-07T04:41:40.620Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.620Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionPoolCreated; {"time":"2022-01-07T04:41:40.620Z","address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.620Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionPoolCreated; {"time":"2022-01-07T04:41:40.620Z","address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"}
[2022-01-07T04:41:40.622Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverDescriptionChanged; {"topologyId":2,"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49877570,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":5,"lastUpdateTime":49877576,"lastWriteDate":"2022-01-07T04:41:39.000Z","opTime":{"ts":"7050319808591560705","t":486},"type":"RSPrimary","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"electionId":"7fffffff00000000000001e6","primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30,"$clusterTime":{"clusterTime":"7050319808591560705","signature":{"hash":{"type":"Buffer","data":[191,4,210,18,83,184,74,175,96,49,52,85,130,145,53,130,244,0,110,178]},"keyId":"7023279991576068101"}}}}
[2022-01-07T04:41:40.623Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverDescriptionChanged; {"topologyId":2,"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49877570,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":6,"lastUpdateTime":49877577,"lastWriteDate":"2022-01-07T04:41:39.000Z","opTime":{"ts":"7050319808591560705","t":486},"type":"RSSecondary","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30,"$clusterTime":{"clusterTime":"7050319808591560705","signature":{"hash":{"type":"Buffer","data":[191,4,210,18,83,184,74,175,96,49,52,85,130,145,53,130,244,0,110,178]},"keyId":"7023279991576068101"}}}}
[2022-01-07T04:41:40.624Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- serverDescriptionChanged; {"topologyId":2,"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","previousDescription":{"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":-1,"lastUpdateTime":49877570,"lastWriteDate":null,"opTime":null,"type":"Unknown","minWireVersion":0,"maxWireVersion":0,"hosts":[],"passives":[],"arbiters":[],"tags":[]},"newDescription":{"address":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","roundTripTime":5,"lastUpdateTime":49877578,"lastWriteDate":"2022-01-07T04:41:39.000Z","opTime":{"ts":"7050319808591560705","t":486},"type":"RSArbiter","minWireVersion":0,"maxWireVersion":8,"maxBsonObjectSize":16777216,"maxMessageSizeBytes":48000000,"maxWriteBatchSize":100000,"me":"mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","hosts":["mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","mongodb-secondary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"passives":[],"arbiters":["mongodb-arbiter-0.mongodb-headless.ecam-ext.svc.cluster.local:27017"],"tags":[],"setName":"rs0","setVersion":3,"primary":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","logicalSessionTimeoutMinutes":30}}
[2022-01-07T04:41:40.626Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.626Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":1}
[32m[2022-01-07T04:41:40.632] [INFO] tenant.context.service.js - [39mDatabase stats  {"db":"61b9b81d9efc3e6b7da2283a_ecam","collections":101,"views":0,"objects":558316,"avgObjSize":952.9631749761784,"dataSize":532054588,"storageSize":78516224,"numExtents":0,"indexes":325,"indexSize":29560832,"scaleFactor":1,"fsUsedSize":349959151616,"fsTotalSize":500684595200,"ok":1,"$clusterTime":{"clusterTime":"7050319808591560705","signature":{"hash":"vwTSElO4Sq9gMTRVgpE1gvQAbrI=","keyId":"7023279991576068101"}},"operationTime":"7050319808591560705"}
[2022-01-07T04:41:40.633Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:159 --- MongoStoreServer:init
[32m[2022-01-07T04:41:40.633] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] MongoCache init
[32m[2022-01-07T04:41:40.634] [INFO] ReportModelManager.js - [39m[61b9b81d9efc3e6b7da2283a] in ReportModelManager
[2022-01-07T04:41:40.634Z] [61b9b81d9efc3e6b7da2283a] [INFO] NotificationManager.js:32 --- NotificationManager.init(http://cb-notification-api.dev-core.svc.cluster.local:5056)
[2022-01-07T04:41:40.639Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] NotificationManager.js:55 --- NotificationManager Ok
[2022-01-07T04:41:40.641Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:60 --- [61b9b81d9efc3e6b7da2283a]::Creating new mongo cache instance for partition manager!
[32m[2022-01-07T04:41:40.641] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] MongoCache init
[32m[2022-01-07T04:41:40.642] [INFO] tenant.context.service.js - [39mInitialized common objects for tenant =>  61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:40.642] [INFO] tenant.orc.middleware.js - [39mTenant 61b9b81d9efc3e6b7da2283a State: 0
[2022-01-07T04:41:40.643Z] [61b9b81d9efc3e6b7da2283a] [INFO] TenantBootManager.js:373 --- Booting tenant (orc) ...
[2022-01-07T04:41:40.648Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.648Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":2}
[2022-01-07T04:41:40.649Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.649Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":3}
[2022-01-07T04:41:40.655Z] [61b9b81d9efc3e6b7da2283a] [INFO] TenantBootManager.js:212 --- locationsLen: 400, tenantMigrationStatus: {"_id":"61b9b81d9efc3e6b7da2283a","status":"done"}
[2022-01-07T04:41:40.655Z] [61b9b81d9efc3e6b7da2283a] [INFO] TenantBootManager.js:385 --- Migration is already done, continue to update lookup data
[32m[2022-01-07T04:41:40.656] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 41732 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:40.656] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 41732 ::: NO refresh_token_promise, getting refreshToken [class URL]
[32m[2022-01-07T04:41:40.657] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 41732 ::: RefreshTokenCache.set TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:40.657] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 41732 ::: RefreshTokenCache.set in 1 ms
[2022-01-07T04:41:40.659Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.659Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":6}
[2022-01-07T04:41:40.660Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.660Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":5}
[2022-01-07T04:41:40.661Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.661Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":4}
[2022-01-07T04:41:40.664Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.664Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":7}
[2022-01-07T04:41:40.665Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:40.665Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":8}
[2022-01-07T04:41:40.667Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:190 --- Requesting GET function http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/serviceProviders
[2022-01-07T04:41:40.684Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:195 --- Response (200) from http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/serviceProviders
[2022-01-07T04:41:40.684Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:203 --- Retrieved providers from core: ["alicloud","aws","azure","gcp","git","ibmcloud","icam","icd","icds","rhm","snow","vra"]
[2022-01-07T04:41:40.685Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:40.685Z] [61b9b81d9efc3e6b7da2283a] [INFO] TenantBootManager.js:150 --- lookupLocations, collection already exists, updating
[32m[2022-01-07T04:41:40.685] [INFO] LockManager.js - [39msynchronize TenantBootManager 61b9b81d9efc3e6b7da2283a ORC_BOOT
[32m[2022-01-07T04:41:40.685] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"TenantBootManager","lock_id":"ORC_BOOT"},"timestamp":{"$lte":1641530499685}}
[32m[2022-01-07T04:41:40.687] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"TenantBootManager","lock_id":"ORC_BOOT"},"timestamp":{"$lte":1641530499685}}
[32m[2022-01-07T04:41:40.841] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  ORC_BOOT
[32m[2022-01-07T04:41:40.843] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: ORC_BOOT
[2022-01-07T04:41:40.843Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:40.843Z] [61b9b81d9efc3e6b7da2283a] [INFO] TenantBootManager.js:150 --- lookupServiceCategories, collection already exists, updating
[32m[2022-01-07T04:41:40.843] [INFO] LockManager.js - [39msynchronize TenantBootManager 61b9b81d9efc3e6b7da2283a ORC_BOOT
[32m[2022-01-07T04:41:40.843] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"TenantBootManager","lock_id":"ORC_BOOT"},"timestamp":{"$lte":1641530499843}}
[32m[2022-01-07T04:41:40.845] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"TenantBootManager","lock_id":"ORC_BOOT"},"timestamp":{"$lte":1641530499843}}
[32m[2022-01-07T04:41:41.522] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  ORC_BOOT
[32m[2022-01-07T04:41:41.523] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: ORC_BOOT
[32m[2022-01-07T04:41:41.524] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 43267 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.524] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 43267 ::: returning cached refresh_token_promise in 0 ms
[91m[2022-01-07T04:41:41.540] [ERROR] Retryable.js - [39mError occurred in operation => Error: Request failed with status code 409
    at createError (/opt/app/node_modules/axios/lib/core/createError.js:16:15)
    at settle (/opt/app/node_modules/axios/lib/core/settle.js:17:12)
    at IncomingMessage.handleStreamEnd (/opt/app/node_modules/axios/lib/adapters/http.js:260:11)
    at IncomingMessage.emit (events.js:326:22)
    at IncomingMessage.EventEmitter.emit (domain.js:483:12)
    at endReadableNT (_stream_readable.js:1241:12)
    at processTicksAndRejections (internal/process/task_queues.js:84:21)
[91m[2022-01-07T04:41:41.540] [ERROR] Retryable.js - [39mError: Not retyable - {"message":"Request failed with status code 409","name":"Error","stack":"Error: Request failed with status code 409\n    at createError (/opt/app/node_modules/axios/lib/core/createError.js:16:15)\n    at settle (/opt/app/node_modules/axios/lib/core/settle.js:17:12)\n    at IncomingMessage.handleStreamEnd (/opt/app/node_modules/axios/lib/adapters/http.js:260:11)\n    at IncomingMessage.emit (events.js:326:22)\n    at IncomingMessage.EventEmitter.emit (domain.js:483:12)\n    at endReadableNT (_stream_readable.js:1241:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)","config":{"url":"http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/metadata/serviceProviders","method":"post","data":"{\"providerType\":\"s3\",\"displayName\":\"Object Storage\",\"iconImage\":\"\",\"canSupportSubAccounts\":true,\"canDiscoverSubAccounts\":true,\"canDetachSubAccounts\":true,\"canDoTestConnection\":false,\"version\":1,\"accountMetadata\":{\"accountNumber\":{\"type\":\"string\",\"minLength\":1,\"maxLength\":250,\"canUpdate\":true,\"regex\":\"^\\\\S+$\",\"displayLabel\":\"Account Number\",\"helpText\":\"Add Account Number\",\"translationCodes\":{\"displayLabel\":\"CO_ACCOUNT_NUMBER\",\"helpText\":\"CO_ADD_ACCOUNT_NUMBER\"},\"appliesTo\":[{\"accountType\":\"billing\",\"isRequired\":true},{\"accountType\":\"asset\",\"isRequired\":true},{\"accountType\":\"system\",\"isRequired\":true}],\"displayOrder\":1}},\"credentialMetadata\":{\"costIngestion\":{\"userDef1\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 1\",\"helpText\":\"Optional Variable 1\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF1\",\"helpText\":\"CO_OPTIONAL_USER_DEF1\"},\"displayOrder\":1},\"userDef2\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 2\",\"helpText\":\"Optional Variable 2\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF2\",\"helpText\":\"CO_OPTIONAL_USER_DEF2\"},\"displayOrder\":2},\"userDef3\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 3\",\"helpText\":\"Optional Variable 3\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF3\",\"helpText\":\"CO_OPTIONAL_USER_DEF3\"},\"displayOrder\":3},\"userDef4\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 4\",\"helpText\":\"Optional Variable 4\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF4\",\"helpText\":\"CO_OPTIONAL_USER_DEF4\"},\"displayOrder\":4}},\"assetIngestion\":{\"userDef1\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 1\",\"helpText\":\"Optional Variable 1\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF1\",\"helpText\":\"CO_OPTIONAL_USER_DEF1\"},\"displayOrder\":1},\"userDef2\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 2\",\"helpText\":\"Optional Variable 2\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF2\",\"helpText\":\"CO_OPTIONAL_USER_DEF2\"},\"displayOrder\":2},\"userDef3\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 3\",\"helpText\":\"Optional Variable 3\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF3\",\"helpText\":\"CO_OPTIONAL_USER_DEF3\"},\"displayOrder\":3},\"userDef4\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 4\",\"helpText\":\"Optional Variable 4\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF4\",\"helpText\":\"CO_OPTIONAL_USER_DEF4\"},\"displayOrder\":4}}}}","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","tenant_uuid":"61b9b81d9efc3e6b7da2283a","refresh-token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InNjb3BlIjp7InVzZXJpZCI6IjYxYjliODFkOWVmYzNlNmI3ZGEyMjgzYSIsInRlbmFudCI6IjYxYjliODFkOWVmYzNlNmI3ZGEyMjgzYSJ9LCJzdWIiOiI2MWI5YjgxZDllZmMzZTZiN2RhMjI4M2EiLCJpc3MiOiJjYi1jb3JlLWF1dGgifSwiaWF0IjoxNjQxNTMwNTAwLCJleHAiOjE2NDE1MzIzMDAsImp0aSI6IjllMmEwYzVlLWZhYzktNDk0Ny05YWI2LWY1ZDE0N2I5NDFjMCJ9.ZghL4FoxkRgUVJBJF_iq-rS85y2USA6Z9oPuAaabPUjMzT3Et622au_-t6sbQdm7CTuzSnS2bJXsGY8pFyZ8Wwa6SIEzTAcaFFDSED7iTCbxzXj25oYeAHU3CTY5S0mtWxu0Xmo8xsmUNQxeAFw_80giBRn4yb9j3rmL5qjZnCPaH3Ao0azQpeSqz48DlHbx5EPfr15mL4UNfnGxg5sbyz61CdtypatvPBYsANUTSMXoMKBR02110ECP5I64JuHqxLCoNaBSl7WzCjTOT4Ls07UN7MQTAeJgex3Cbpb0SCPEMs4uQkeUb5snNpAmpAiNOa64aZvZY2Y_kFhfBuSvzw","User-Agent":"axios/0.21.1","Content-Length":2791},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"httpsAgent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"rejectUnauthorized":false,"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"maxTotalSockets":null,"totalSocketCount":0,"scheduling":"fifo","maxCachedSessions":100,"_sessionCache":{"map":{},"list":[]}}}}
[2022-01-07T04:41:41.540Z] [61b9b81d9efc3e6b7da2283a] [ERROR] ProviderCoreServices.js:315 --- Registering (val) provider metadata errored: 'Request failed with status code 409'
[91m[2022-01-07T04:41:41.546] [ERROR] Retryable.js - [39mError occurred in operation => Error: Request failed with status code 404
    at createError (/opt/app/node_modules/axios/lib/core/createError.js:16:15)
    at settle (/opt/app/node_modules/axios/lib/core/settle.js:17:12)
    at IncomingMessage.handleStreamEnd (/opt/app/node_modules/axios/lib/adapters/http.js:260:11)
    at IncomingMessage.emit (events.js:326:22)
    at IncomingMessage.EventEmitter.emit (domain.js:483:12)
    at endReadableNT (_stream_readable.js:1241:12)
    at processTicksAndRejections (internal/process/task_queues.js:84:21)
[91m[2022-01-07T04:41:41.546] [ERROR] Retryable.js - [39mError: Not retyable - {"message":"Request failed with status code 404","name":"Error","stack":"Error: Request failed with status code 404\n    at createError (/opt/app/node_modules/axios/lib/core/createError.js:16:15)\n    at settle (/opt/app/node_modules/axios/lib/core/settle.js:17:12)\n    at IncomingMessage.handleStreamEnd (/opt/app/node_modules/axios/lib/adapters/http.js:260:11)\n    at IncomingMessage.emit (events.js:326:22)\n    at IncomingMessage.EventEmitter.emit (domain.js:483:12)\n    at endReadableNT (_stream_readable.js:1241:12)\n    at processTicksAndRejections (internal/process/task_queues.js:84:21)","config":{"url":"http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/metadata/serviceProviders","method":"put","data":"{\"providerType\":\"s3\",\"displayName\":\"Object Storage\",\"iconImage\":\"\",\"canSupportSubAccounts\":true,\"canDiscoverSubAccounts\":true,\"canDetachSubAccounts\":true,\"canDoTestConnection\":false,\"version\":1,\"accountMetadata\":{\"accountNumber\":{\"type\":\"string\",\"minLength\":1,\"maxLength\":250,\"canUpdate\":true,\"regex\":\"^\\\\S+$\",\"displayLabel\":\"Account Number\",\"helpText\":\"Add Account Number\",\"translationCodes\":{\"displayLabel\":\"CO_ACCOUNT_NUMBER\",\"helpText\":\"CO_ADD_ACCOUNT_NUMBER\"},\"appliesTo\":[{\"accountType\":\"billing\",\"isRequired\":true},{\"accountType\":\"asset\",\"isRequired\":true},{\"accountType\":\"system\",\"isRequired\":true}],\"displayOrder\":1}},\"credentialMetadata\":{\"costIngestion\":{\"userDef1\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 1\",\"helpText\":\"Optional Variable 1\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF1\",\"helpText\":\"CO_OPTIONAL_USER_DEF1\"},\"displayOrder\":1},\"userDef2\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 2\",\"helpText\":\"Optional Variable 2\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF2\",\"helpText\":\"CO_OPTIONAL_USER_DEF2\"},\"displayOrder\":2},\"userDef3\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 3\",\"helpText\":\"Optional Variable 3\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF3\",\"helpText\":\"CO_OPTIONAL_USER_DEF3\"},\"displayOrder\":3},\"userDef4\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 4\",\"helpText\":\"Optional Variable 4\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF4\",\"helpText\":\"CO_OPTIONAL_USER_DEF4\"},\"displayOrder\":4}},\"assetIngestion\":{\"userDef1\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 1\",\"helpText\":\"Optional Variable 1\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF1\",\"helpText\":\"CO_OPTIONAL_USER_DEF1\"},\"displayOrder\":1},\"userDef2\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 2\",\"helpText\":\"Optional Variable 2\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF2\",\"helpText\":\"CO_OPTIONAL_USER_DEF2\"},\"displayOrder\":2},\"userDef3\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 3\",\"helpText\":\"Optional Variable 3\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF3\",\"helpText\":\"CO_OPTIONAL_USER_DEF3\"},\"displayOrder\":3},\"userDef4\":{\"type\":\"string\",\"canUpdate\":true,\"minLength\":0,\"maxLength\":200,\"isRequired\":false,\"displayLabel\":\"User Defined 4\",\"helpText\":\"Optional Variable 4\",\"translationCodes\":{\"displayLabel\":\"CO_USER_DEF4\",\"helpText\":\"CO_OPTIONAL_USER_DEF4\"},\"displayOrder\":4}}}}","headers":{"Accept":"application/json, text/plain, */*","Content-Type":"application/json","tenant_uuid":"61b9b81d9efc3e6b7da2283a","refresh-token":"eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJkYXRhIjp7InNjb3BlIjp7InVzZXJpZCI6IjYxYjliODFkOWVmYzNlNmI3ZGEyMjgzYSIsInRlbmFudCI6IjYxYjliODFkOWVmYzNlNmI3ZGEyMjgzYSJ9LCJzdWIiOiI2MWI5YjgxZDllZmMzZTZiN2RhMjI4M2EiLCJpc3MiOiJjYi1jb3JlLWF1dGgifSwiaWF0IjoxNjQxNTMwNTAwLCJleHAiOjE2NDE1MzIzMDAsImp0aSI6IjllMmEwYzVlLWZhYzktNDk0Ny05YWI2LWY1ZDE0N2I5NDFjMCJ9.ZghL4FoxkRgUVJBJF_iq-rS85y2USA6Z9oPuAaabPUjMzT3Et622au_-t6sbQdm7CTuzSnS2bJXsGY8pFyZ8Wwa6SIEzTAcaFFDSED7iTCbxzXj25oYeAHU3CTY5S0mtWxu0Xmo8xsmUNQxeAFw_80giBRn4yb9j3rmL5qjZnCPaH3Ao0azQpeSqz48DlHbx5EPfr15mL4UNfnGxg5sbyz61CdtypatvPBYsANUTSMXoMKBR02110ECP5I64JuHqxLCoNaBSl7WzCjTOT4Ls07UN7MQTAeJgex3Cbpb0SCPEMs4uQkeUb5snNpAmpAiNOa64aZvZY2Y_kFhfBuSvzw","User-Agent":"axios/0.21.1","Content-Length":2791},"transformRequest":[null],"transformResponse":[null],"timeout":0,"xsrfCookieName":"XSRF-TOKEN","xsrfHeaderName":"X-XSRF-TOKEN","maxContentLength":-1,"maxBodyLength":-1,"httpsAgent":{"_events":{},"_eventsCount":2,"defaultPort":443,"protocol":"https:","options":{"rejectUnauthorized":false,"path":null},"requests":{},"sockets":{},"freeSockets":{},"keepAliveMsecs":1000,"keepAlive":false,"maxSockets":null,"maxFreeSockets":256,"maxTotalSockets":null,"totalSocketCount":0,"scheduling":"fifo","maxCachedSessions":100,"_sessionCache":{"map":{},"list":[]}}}}
[2022-01-07T04:41:41.547Z] [61b9b81d9efc3e6b7da2283a] [ERROR] ProviderCoreServices.js:315 --- Registering (val) provider metadata errored: 'Request failed with status code 404'
[32m[2022-01-07T04:41:41.547] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Boot tenant jobs
[32m[2022-01-07T04:41:41.547] [INFO] CoreplusHelpers.js - [39m[61b9b81d9efc3e6b7da2283a] Fetching refresh-token
[32m[2022-01-07T04:41:41.554] [INFO] CoreplusHelpers.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched refresh-token. StatusCode: 200
[32m[2022-01-07T04:41:41.562] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered jobs: 200
[32m[2022-01-07T04:41:41.562] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Registered job names:  [
  'audit-auto-arch-61b9b81d9efc3e6b7da2283a',
  'ecam-ingestion-61b9b81d9efc3e6b7da2283a',
  'ecam-cleanup-61b9b81d9efc3e6b7da2283a',
  'ecam-metering-61b9b81d9efc3e6b7da2283a',
  'ecam-email-61b9b81d9efc3e6b7da2283a'
]
[32m[2022-01-07T04:41:41.563] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Updating job ecam-ingestion-61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.588] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully updated job: ecam-ingestion-61b9b81d9efc3e6b7da2283a,200
[32m[2022-01-07T04:41:41.588] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Updating job ecam-cleanup-61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.614] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully updated job: ecam-cleanup-61b9b81d9efc3e6b7da2283a,200
[32m[2022-01-07T04:41:41.615] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Updating job ecam-metering-61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.642] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully updated job: ecam-metering-61b9b81d9efc3e6b7da2283a,200
[32m[2022-01-07T04:41:41.643] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90690 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.643] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90690 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:41.647Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM4501_ScheduleEmailReports found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM4501_ScheduleEmailReports"]}
[2022-01-07T04:41:41.647Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM4501_ScheduleEmailReports = true
[32m[2022-01-07T04:41:41.647] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Updating job ecam-email-61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.677] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully updated job: ecam-email-61b9b81d9efc3e6b7da2283a,200
[32m[2022-01-07T04:41:41.678] [INFO] TenantJobManager.js - [39m[61b9b81d9efc3e6b7da2283a] No need to delete DemoCloud Jobecam-democloud-61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.678] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 16511 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.678] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 16511 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:41.685Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key enableDemoCloudProvider found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["enableDemoCloudProvider"]}
[2022-01-07T04:41:41.685Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-enableDemoCloudProvider = false
[32m[2022-01-07T04:41:41.685] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 60385 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.685] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 60385 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:41:41.685] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config CLEANUP_JOB_RETENTION_PERIOD
[32m[2022-01-07T04:41:41.689] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration CLEANUP_JOB_RETENTION_PERIOD : 200
[32m[2022-01-07T04:41:41.689] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config TIMEOUT_JOB_RETENTION_PERIOD
[32m[2022-01-07T04:41:41.693] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration TIMEOUT_JOB_RETENTION_PERIOD : 200
[32m[2022-01-07T04:41:41.693] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config SUPPORTED_PUBLIC_PROVIDERS
[32m[2022-01-07T04:41:41.697] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration SUPPORTED_PUBLIC_PROVIDERS : 200
[32m[2022-01-07T04:41:41.697] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAM_API_OLD_ROUTE
[32m[2022-01-07T04:41:41.701] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAM_API_OLD_ROUTE : 200
[32m[2022-01-07T04:41:41.701] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAM_EXTENDED_AUDIT
[32m[2022-01-07T04:41:41.705] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAM_EXTENDED_AUDIT : 200
[32m[2022-01-07T04:41:41.705] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAM_GPD_UPLOAD_CHUNK_SIZE
[32m[2022-01-07T04:41:41.708] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAM_GPD_UPLOAD_CHUNK_SIZE : 200
[32m[2022-01-07T04:41:41.708] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAM_GPD_UPLOAD_CHUNK_RETRIES
[32m[2022-01-07T04:41:41.712] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAM_GPD_UPLOAD_CHUNK_RETRIES : 200
[32m[2022-01-07T04:41:41.712] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAM_GPD_UPLOAD_CHUNK_SIMULTANEOUS_UPLOADS
[32m[2022-01-07T04:41:41.715] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAM_GPD_UPLOAD_CHUNK_SIMULTANEOUS_UPLOADS : 200
[32m[2022-01-07T04:41:41.715] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config sequence_number
[32m[2022-01-07T04:41:41.719] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration sequence_number : 200
[32m[2022-01-07T04:41:41.719] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config PIPELINE_TIMEOUT
[32m[2022-01-07T04:41:41.722] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration PIPELINE_TIMEOUT : 200
[32m[2022-01-07T04:41:41.723] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config ECAMUIPaginationLimit
[32m[2022-01-07T04:41:41.726] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration ECAMUIPaginationLimit : 200
[32m[2022-01-07T04:41:41.726] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config zeroCostFeature
[32m[2022-01-07T04:41:41.729] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration zeroCostFeature : 200
[32m[2022-01-07T04:41:41.730] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config SCHEDULED_JOBS_LIMIT
[32m[2022-01-07T04:41:41.733] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration SCHEDULED_JOBS_LIMIT : 200
[32m[2022-01-07T04:41:41.734] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config METERING_API_RETRY_COUNT
[32m[2022-01-07T04:41:41.738] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration METERING_API_RETRY_COUNT : 200
[32m[2022-01-07T04:41:41.738] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Adding config SUPPORTED_CD_PROVIDERS
[32m[2022-01-07T04:41:41.741] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Fetched registered configuration SUPPORTED_CD_PROVIDERS : 200
[32m[2022-01-07T04:41:41.742] [INFO] | - [39m> [61b9b81d9efc3e6b7da2283a - j34161ho6] "POST /api/ecam/v1/enrichmentController/ingestion"
[2022-01-07T04:41:41.743Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentController.js:43 --- POST API: /api/ecam/v1/enrichmentController/ingestion
[2022-01-07T04:41:41.746Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:648 ---  Remediation flag ----> 
[2022-01-07T04:41:41.747Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:652 ---  bulkDelete Job Running ----> 
[2022-01-07T04:41:41.749Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] job.status.js:617 --- getRecentJobs returning all jobs sorted by startDate or ingestionStartDate DESC [{"startDate":"2022-01-07T04:31:07.732Z"},{"startDate":"2022-01-07T04:22:31.403Z"},{"startDate":"2022-01-07T04:10:22.766Z"},{"startDate":"2022-01-07T03:48:30.191Z"},{"startDate":"2022-01-06T18:25:30.762Z"},{"startDate":"2022-01-06T18:15:45.407Z"},{"startDate":"2022-01-06T17:37:36.269Z"},{"startDate":"2022-01-06T17:28:59.820Z"},{"startDate":"2022-01-06T17:20:05.475Z"},{"startDate":"2022-01-06T17:13:50.711Z"},{"startDate":"2022-01-06T13:08:10.329Z"}]
[32m[2022-01-07T04:41:41.749] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 56455 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.749] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 56455 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:41.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM5224_IngestionResiliency found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM5224_IngestionResiliency"]}
[2022-01-07T04:41:41.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM5224_IngestionResiliency = true
[2022-01-07T04:41:41.754Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:511 --- Getting status of job :: 61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu"}},{"$addFields":{"completed":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]},{"$lte":[{"$size":{"$ifNull":["$state.validationErrorDetails",[]]}},0]}]},"partialCompleted":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$or":[{"$and":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["$job.final_operation.state","Error"]]}}}},{"$eq":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},false]},{"$eq":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","Error"]}}}},false]}]},{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.validationErrorDetails",[]]}},0]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["$job.final_operation.state","Error"]]}}}}]}]},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]}]},"completedWithErrors":{"$cond":{"if":{"$eq":["$job.continueOnError",true]},"then":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$anyElementTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","Error"]}}}},{"$anyElementTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]}]},"else":false}},"inProgress":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$ifNull":[{"$not":"$postProcessingStarted"},true]}]},"postProcessing":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$ifNull":["$postProcessingStarted",false]}]},"postProcessingError":{"$and":[{"$ifNull":["$ingestionEndDate",false]},{"$ifNull":["$postProcessingStarted",false]},{"$eq":["$postProcessingStatus.status","Error"]}]},"error":{"$cond":{"if":{"$eq":["$job.continueOnError",true]},"then":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$ne":["$$logRecord.operation.state","$job.final_operation.state"]}}}}]},"else":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$and":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["EnrichCompleted","Error"]]}}}},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$ne":["$$logRecord.operation.state","EnrichCompleted"]}}}}]}]}}},"initError":{"$and":[{"$ifNull":["$ingestionEndDate",false]},{"$eq":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]}]},"initializing":{"$and":[{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$eq":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]}]}}},{"$addFields":{"status":{"$switch":{"branches":[{"case":"$initError","then":"InitializeError"},{"case":"$error","then":"Error"},{"case":"$initializing","then":"Initializing"},{"case":"$inProgress","then":"InProgress"},{"case":"$postProcessing","then":"PostProcessing"},{"case":"$postProcessingError","then":"PostProcessingError"},{"case":"$partialCompleted","then":"PartiallyCompleted"},{"case":"$completed","then":"Completed"},{"case":"$completedWithErrors","then":"CompletedWithErrors"}],"default":"Unknown"}}}},{"$addFields":{"status":{"$cond":{"if":{"$and":[{"$in":["$status",["Error","InitializeError","Unknown","PostProcessingError","PartiallyCompleted"]]},{"$eq":["$terminateRequested",true]},{"$ifNull":["$ingestionEndDate",false]}]},"then":"Terminated","else":"$status"}}}},{"$addFields":{"status":{"$cond":{"if":{"$and":[{"$eq":["$terminateRequested",true]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]}]},"then":"Terminating","else":"$status"}}}},{"$project":{"status":1,"jobType":1}}]
[2022-01-07T04:41:41.756Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:517 --- Jobs => [{"_id":"61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu","status":"Completed"}]
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:666 --- Status of Job 61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu : Completed
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:42 --- validatePayload::bodyProviders ["gcp"]
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:48 --- validatePayload::bodyInvalidJson false
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:49 --- validatePayload::hasDisallowedProviders false
[2022-01-07T04:41:41.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:65 --- validatePayload::providersOkToIngest ["gcp"]
[2022-01-07T04:41:41.758Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:71 --- validatePayload::allowedProviders ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:41.758Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:72 --- validatePayload::providersOkToIngest ["gcp"]
[2022-01-07T04:41:41.758Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentController.js:75 --- request user data ---> {"displayname":"Uday Debbeta","firstname":"Uday","middlename":"","lastname":"Debbeta","userstatus":"Active","emails":["Uday.Debbeta1@ocean.ibm.com"],"invitationid":"61b9b8cb9efc3e6b7da2284f","contexts":[{"teamcode":"INITIAL-SETUP-ADMIN","org":"org_all","assigned_contexts":{"org":["org_all"]},"permissions":[{"businessfunction":"ENCRYPTION_DEK","level":"VIEW"},{"businessfunction":"CREDENTIAL","level":"CRUD"},{"businessfunction":"CONFIGURATION","level":"CRUD"},{"businessfunction":"TEAM","level":"CRUD"},{"businessfunction":"ACCOUNT","level":"CRUD"},{"businessfunction":"SUPPORT_TICKET","level":"CRUD"},{"businessfunction":"USER_TEAM","level":"CRUD"},{"businessfunction":"USER_INFO","level":"CRUD"},{"businessfunction":"SECURED_CREDENTIAL","level":"CRUD"},{"businessfunction":"SYSTEM_ACCOUNT_CREDENTIAL","level":"CRUD"},{"businessfunction":"SYSTEM_ACCOUNT","level":"CRUD"},{"businessfunction":"INTEGRATION_ENDPOINT","level":"CRUD"},{"businessfunction":"VAULT","level":"CRUD"},{"businessfunction":"INTEGRATION_ENDPOINT_METADATA","level":"CRUD"},{"businessfunction":"USER_KEY","level":"CRUD"},{"businessfunction":"IBUS_MESSAGE","level":"EDIT"},{"businessfunction":"IBUS_SUBSCRIBER","level":"CRUD"},{"businessfunction":"CONTEXT_VALUE","level":"CRUD"},{"businessfunction":"CONTEXT","level":"CRUD"},{"businessfunction":"CURRENCY","level":"CRUD"},{"businessfunction":"USER","level":"VIEW"},{"businessfunction":"AUDIT_LOG","level":"CREATE"},{"businessfunction":"SYSTEM_USER","level":"CRUD"},{"businessfunction":"ADAPTER","level":"CRUD"},{"businessfunction":"SERVICE_OFFERING_INSTANCE","level":"SOI_ADMIN_TASKS"},{"businessfunction":"PORTAL","level":"CRUD"},{"businessfunction":"EMAIL","level":"EDIT"},{"businessfunction":"PROVIDER_ACCOUNT","level":"CRUD"},{"businessfunction":"PROVIDER_ACCOUNT_CREDENTIAL","level":"CRUD"},{"businessfunction":"API","level":"CRUD"},{"businessfunction":"ORGANIZATION","level":"CRUD"},{"businessfunction":"ROLE","level":"VIEW"},{"businessfunction":"AUTHORIZATION_GROUP","level":"CRUD"},{"businessfunction":"JOB_DEFINITION","level":"VIEW"},{"businessfunction":"JOB_INSTANCE","level":"VIEW"},{"businessfunction":"IDP_AUTHORIZATION_CONFIG","level":"CRUD"},{"businessfunction":"AUTHORIZATION_CONFIG","level":"CRUD"},{"businessfunction":"IMPORT_USER","level":"CRUD"},{"businessfunction":"USER_INVITATION","level":"CRUD"},{"businessfunction":"TENANT_APP","level":"REFRESH"},{"businessfunction":"NOTIFICATION","level":"CRUD"},{"businessfunction":"METRICS","level":"CREATE"},{"businessfunction":"MESSAGE_QUEUE","level":"CRUD"},{"businessfunction":"PROVIDER_CLASSIFICATION_ADMIN","level":"CRUD"},{"businessfunction":"PROVIDER_CLASSIFICATION_VIEW","level":"VIEW"},{"businessfunction":"CLEAR_CACHE","level":"DELETE"}],"role_names":["System Admin"]},{"teamcode":"INITIAL-SETUP-ADMIN","org":"org_all","assigned_contexts":{"org":["org_all"]},"permissions":[{"businessfunction":"CURRENCY","level":"CRUD"},{"businessfunction":"DASHBOARD","level":"CRUD"},{"businessfunction":"REPORT_MANAGEMENT","level":"CRUD"},{"businessfunction":"METERING_MANAGEMENT","level":"CRUD"},{"businessfunction":"REPORT_MODEL_MANAGEMENT","level":"CRUD"},{"businessfunction":"VIRTUAL_TAG_MANAGEMENT","level":"CRUD"},{"businessfunction":"DATA_MANAGEMENT","level":"CRUD"},{"businessfunction":"ENRICHMENT","level":"CRUD"},{"businessfunction":"ENRICHMENT","level":"VIEWJOBS"},{"businessfunction":"POLICY_MANAGEMENT","level":"CRUD"},{"businessfunction":"GPD_MANAGEMENT","level":"CRUD"},{"businessfunction":"GPD_MANAGEMENT","level":"ALL_PROVIDERS"},{"businessfunction":"MIGRATION_MANAGEMENT","level":"CRUD"},{"businessfunction":"INSIGHTS_MANAGEMENT","level":"CRUD"},{"businessfunction":"CONTEXT","level":"VIEW"},{"businessfunction":"FEATURE_FLAG_MANAGEMENT","level":"CRUD"}],"role_names":["CAM Admin"]}],"uid":"61b9b8cb9efc3e6b7da2284f","tenant":"61b9b81d9efc3e6b7da2283a","usertype":"portal_user","enabled_api_keys":["perpetual"],"user_api_access_allowed":true,"enable_api_access":"ALL"}
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 :::
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 ::: USER_ID: 61b9b8cb9efc3e6b7da2284f
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 ::: TENANT_ID: 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 ::: CACHE_KEY: 61b9b81d9efc3e6b7da2283a:61b9b8cb9efc3e6b7da2284f
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mCreating new auth tenant cache...
[32m[2022-01-07T04:41:41.758] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 ::: No auth_mgr_promise - creating new promise
[32m[2022-01-07T04:41:41.759] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 57079 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.759] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 57079 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:41:41.759] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 80106 ::: tenantAuthMgrCache.set in 1 ms
[2022-01-07T04:41:41.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key ActivateEphemeralDRGs found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["ActivateEphemeralDRGs"]}
[2022-01-07T04:41:41.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-ActivateEphemeralDRGs = false
[2022-01-07T04:41:41.765Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:333 --- Getting an account array of providers [gcp]
[32m[2022-01-07T04:41:41.765] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 58820 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.765] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 58820 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:41.765Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:336 --- Connected to core services, Getting an account map ...
[2022-01-07T04:41:41.766Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:590 --- Processing account information
[2022-01-07T04:41:41.766Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:846 --- Getting detailed accounts for providers [ 'gcp' ]
[2022-01-07T04:41:41.779Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:851 --- Getting detailed accounts initial call :: /accounts/accountSearch, { accountType: 'billing', limit: 1000, serviceProviderCode: 'gcp' }
[2022-01-07T04:41:41.780Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:852 --- getDetailedAccounts makeCoreApiCall response.status, response.data 200, [{"_id":"61b9b994a39697002dda116b","basicInfo":{"accountName":"gcp","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"master","userType":"billing"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","billing_report_prefix":"billing-export-test","account_number":"008C93-7B2B98-816781"},"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","type":"provider_account_credentials","updatedTime":1639561663017,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:47:00.433Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:47:43.017Z"},"hasError":false,"credentials":[{"credentialName":"gcp","purpose":["costIngestion"],"status":"Active","passwordFields":"gcp","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:47:30.042Z","context":[{"org":["org_all"],"contextId":"8f9cfa43-22b3-45d2-bc00-83f244831e3d"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"579978e5-218e-4961-9f30-db319c804475","crefId":"gcp"}]}]
[2022-01-07T04:41:41.780Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:862 --- getDetailedAccounts accountsNoAccountId []
[2022-01-07T04:41:41.780Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:863 --- getDetailedAccounts valid accounts [{"_id":"61b9b994a39697002dda116b","basicInfo":{"accountName":"gcp","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"master","userType":"billing"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","billing_report_prefix":"billing-export-test","account_number":"008C93-7B2B98-816781"},"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","type":"provider_account_credentials","updatedTime":1639561663017,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:47:00.433Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:47:43.017Z"},"hasError":false,"credentials":[{"credentialName":"gcp","purpose":["costIngestion"],"status":"Active","passwordFields":"gcp","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:47:30.042Z","context":[{"org":["org_all"],"contextId":"8f9cfa43-22b3-45d2-bc00-83f244831e3d"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"579978e5-218e-4961-9f30-db319c804475","crefId":"gcp"}]}]
[2022-01-07T04:41:41.780Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:903 --- Neither cache case nor nonadmin case. Return all accounts as is
[2022-01-07T04:41:41.780Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:846 --- Getting detailed accounts for providers [ 'gcp' ]
[2022-01-07T04:41:41.792Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:851 --- Getting detailed accounts initial call :: /accounts/accountSearch, { accountType: 'asset', limit: 1000, serviceProviderCode: 'gcp' }
[2022-01-07T04:41:41.792Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:852 --- getDetailedAccounts makeCoreApiCall response.status, response.data 200, [{"_id":"61b9b9e5a39697002dda116d","basicInfo":{"accountName":"gcp_asset","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"subaccount","userType":"asset","parentAccountId":"66846d2b-e860-42f8-8a4c-323f736bd673"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","usage_report_prefix":"billing-export-test"},"accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","type":"provider_account_credentials","updatedTime":1639561763211,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:48:21.889Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:49:23.211Z"},"hasError":false,"credentials":[{"credentialName":"gcp_asset","purpose":["assetIngestion","provisioning","pricing","assetDiscovery"],"status":"Active","passwordFields":"gcp_asset","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:48:55.766Z","context":[{"org":["org_all"],"contextId":"d27c0bd2-160a-4660-a257-c01aedad54f9"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"53409296-6b97-46c9-a1e6-d1fe80d2dada","crefId":"gcp_asset"}]}]
[2022-01-07T04:41:41.792Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:862 --- getDetailedAccounts accountsNoAccountId []
[2022-01-07T04:41:41.792Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:863 --- getDetailedAccounts valid accounts [{"_id":"61b9b9e5a39697002dda116d","basicInfo":{"accountName":"gcp_asset","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"subaccount","userType":"asset","parentAccountId":"66846d2b-e860-42f8-8a4c-323f736bd673"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","usage_report_prefix":"billing-export-test"},"accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","type":"provider_account_credentials","updatedTime":1639561763211,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:48:21.889Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:49:23.211Z"},"hasError":false,"credentials":[{"credentialName":"gcp_asset","purpose":["assetIngestion","provisioning","pricing","assetDiscovery"],"status":"Active","passwordFields":"gcp_asset","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:48:55.766Z","context":[{"org":["org_all"],"contextId":"d27c0bd2-160a-4660-a257-c01aedad54f9"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"53409296-6b97-46c9-a1e6-d1fe80d2dada","crefId":"gcp_asset"}]}]
[2022-01-07T04:41:41.792Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:903 --- Neither cache case nor nonadmin case. Return all accounts as is
[2022-01-07T04:41:41.793Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:41.793Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:619 --- filtering accounts of public cloud
[2022-01-07T04:41:41.793Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:122 --- formattedAccounts Before flushCache: ---> [{"008C93-7B2B98-816781":{"assetAccount":["cost-asset-analytics"],"providerName":"gcp"}}]
[2022-01-07T04:41:41.794Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:83 --- AccountCredServices cache flushed successfully...
[2022-01-07T04:41:41.794Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentController.js:79 --- Core Accounts Before posting Job: ---> [{"008C93-7B2B98-816781":{"assetAccount":["cost-asset-analytics"],"providerName":"gcp"}}]
[2022-01-07T04:41:41.794Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:135 --- postAcccountsWithPeriod : [{"008C93-7B2B98-816781":{"assetAccount":["cost-asset-analytics"],"providerName":"gcp"}}]
[2022-01-07T04:41:41.794Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:145 --- Core Account: {"008C93-7B2B98-816781":{"assetAccount":["cost-asset-analytics"],"providerName":"gcp"}}
[2022-01-07T04:41:41.794Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:146 --- Ecam Account query: {"$and":[{"account_id":{"$eq":"008C93-7B2B98-816781"}},{"$or":[{"ingested":{"$eq":true}},{"failedPeriods.0":{"$exists":true}}]}]}
[2022-01-07T04:41:41.796Z] [61b9b81d9efc3e6b7da2283a] [INFO] core_service.js:154 --- Is 13 months ingestion done before, checking MongoDB Presense: [{"_id":"61d6eccc56c28aebcb2e0386","account_id":"008C93-7B2B98-816781","ingested":true,"failedPeriods":[],"lastUpdatedStartDate":"2022-01-07T04:31:14.038Z"}]
[32m[2022-01-07T04:41:41.799] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 12923 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.799] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 12923 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:41.802Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key PRIVATE_CLOUD_WITH_PUBLIC found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["PRIVATE_CLOUD_WITH_PUBLIC"]}
[2022-01-07T04:41:41.802Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-PRIVATE_CLOUD_WITH_PUBLIC = false
[2022-01-07T04:41:41.802Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentController.js:117 --- publish message on JobQ={"type":"cam_ingestion","operations":["ingest","enrich"],"providers":["gcp"],"ingest":{"type":"ingest","data_items":[{"billing_account_number":"008C93-7B2B98-816781","period":202201,"cost":true,"asset":true,"metric":true,"asset_accounts":[{"asset_account_number":"cost-asset-analytics"}],"providerName":"gcp"},{"billing_account_number":"008C93-7B2B98-816781","period":202112,"cost":true,"asset":false,"metric":false,"asset_accounts":[{"asset_account_number":"cost-asset-analytics"}],"providerName":"gcp"}]},"user_data":{"displayname":"Uday Debbeta","firstname":"Uday","middlename":"","lastname":"Debbeta","userstatus":"Active","emails":["Uday.Debbeta1@ocean.ibm.com"],"invitationid":"61b9b8cb9efc3e6b7da2284f","uid":"61b9b8cb9efc3e6b7da2284f","tenant":"61b9b81d9efc3e6b7da2283a","usertype":"portal_user","enabled_api_keys":["perpetual"],"user_api_access_allowed":true,"enable_api_access":"ALL","isSystem_Admin":true,"isCAM_Admin":true,"isCAM_Basic_Admin":false,"isCAM_Extended_Admin":false,"isAdmin":true},"userContext":null}
[2022-01-07T04:41:41.803Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:1027 --- 61b9b81d9efc3e6b7da2283a submitJobQ
(node:1) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
[32m[2022-01-07T04:41:41.808] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=jobQ, returnVal=undefined
[2022-01-07T04:41:41.808Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:1057 --- onJobQEvent:job", {
 "type": "cam_ingestion",
 "operations": [
  "ingest",
  "enrich"
 ],
 "providers": [
  "gcp"
 ],
 "ingest": {
  "type": "ingest",
  "data_items": [
   {
    "billing_account_number": "008C93-7B2B98-816781",
    "period": 202201,
    "cost": true,
    "asset": true,
    "metric": true,
    "asset_accounts": [
     {
      "asset_account_number": "cost-asset-analytics"
     }
    ],
    "providerName": "gcp"
   },
   {
    "billing_account_number": "008C93-7B2B98-816781",
    "period": 202112,
    "cost": true,
    "asset": false,
    "metric": false,
    "asset_accounts": [
     {
      "asset_account_number": "cost-asset-analytics"
     }
    ],
    "providerName": "gcp"
   }
  ]
 },
 "user_data": {
  "displayname": "Uday Debbeta",
  "firstname": "Uday",
  "middlename": "",
  "lastname": "Debbeta",
  "userstatus": "Active",
  "emails": [
   "Uday.Debbeta1@ocean.ibm.com"
  ],
  "invitationid": "61b9b8cb9efc3e6b7da2284f",
  "uid": "61b9b8cb9efc3e6b7da2284f",
  "tenant": "61b9b81d9efc3e6b7da2283a",
  "usertype": "portal_user",
  "enabled_api_keys": [
   "perpetual"
  ],
  "user_api_access_allowed": true,
  "enable_api_access": "ALL",
  "isSystem_Admin": true,
  "isCAM_Admin": true,
  "isCAM_Basic_Admin": false,
  "isCAM_Extended_Admin": false,
  "isAdmin": true
 },
 "userContext": null,
 "_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"
}
[32m[2022-01-07T04:41:41.808] [INFO] LockManager.js - [39msynchronize CAMIngestionJob.doDataIngestItems 61b9b81d9efc3e6b7da2283a ENRICHMENT_JOB
[32m[2022-01-07T04:41:41.808] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"CAMIngestionJob.doDataIngestItems","lock_id":"ENRICHMENT_JOB"},"timestamp":{"$lte":1641530441808}}
[36m[2022-01-07T04:41:41.809] [DEBUG] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Query config value of key ECAM_EXTENDED_AUDIT, URL: http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/ECAM_EXTENDED_AUDIT
@@@@ Db {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  s: {
    dbCache: {},
    children: [],
    topology: NativeTopology {
      _events: [Object: null prototype],
      _eventsCount: 35,
      _maxListeners: Infinity,
      s: [Object],
      [Symbol(kCapture)]: false,
      [Symbol(waitQueue)]: [Denque]
    },
    options: {
      readConcern: [Object],
      authSource: 'admin',
      retryWrites: true,
      readPreference: [ReadPreference],
      promiseLibrary: [Function: Promise]
    },
    logger: Logger { className: 'Db' },
    bson: BSON {},
    readPreference: ReadPreference {
      mode: 'primary',
      tags: undefined,
      hedge: undefined
    },
    bufferMaxEntries: -1,
    parentDb: null,
    pkFactory: undefined,
    nativeParser: undefined,
    promiseLibrary: [Function: Promise],
    noListener: false,
    readConcern: ReadConcern { level: 'majority' },
    writeConcern: undefined,
    namespace: MongoDBNamespace { db: 'ECAMApp', collection: undefined }
  },
  serverConfig: [Getter],
  bufferMaxEntries: [Getter],
  databaseName: [Getter],
  [Symbol(kCapture)]: false
}
{
  profile: {
    _id: '61b9b81d9efc3e6b7da2283a',
    name: 'cam6',
    mongo_db: '61b9b81d9efc3e6b7da2283a_ecam',
    mongo_url: 'mongodb://root:root@mongodb-headless.ecam-ext:27017/?replicaSet=rs0',
    state: 0,
    mongo_crt: '',
    tenant_host: 'cam6.gravitant.net',
    tenant_api_host: 'cam6-api.gravitant.net',
    plan_id: '907355f9-3238-4fab-a27f-efc85ba7fa4b',
    authorization_service_host: 'http://cb-core-authorization-service.dev-core.svc.cluster.local:4004',
    core_auth_host: 'https://cb-core-auth-internal.dev-core.svc.cluster.local:4001',
    budget_service_host: 'http://cb-budget-adapter.dev-core.svc.cluster.local:5051',
    credential_service_host: 'http://cb-cred-svc.dev-core.svc.cluster.local:8000',
    notification_service_host: 'http://cb-notification-api.dev-core.svc.cluster.local:5056',
    configuration_host: 'http://cb-core-configuration-service.dev-core.svc.cluster.local:5054',
    common_pricing_host: 'http://mcmp-common-pricing.dev-core.svc.cluster.local:5000',
    cam_service: 'http://camservice.dev-cam:8000',
    ecam_api_server: 'http://ecam-api-server.ecam:8080',
    ecam_enrichment_server: 'http://ecam-enrichment-server.ecam:8090',
    ecam_discovery_adapter: 'http://ecam-discovery-adapter.ecam:9099',
    ecam_task_service: 'http://ecam-task-service.ecam:8070',
    insights_url: 'http://cb-insights-controller.dev-insights.svc.cluster.local:5895',
    audit_service_host: 'http://cb-audit-service.dev-core.svc.cluster.local:80',
    job_service_host: 'http://cb-core-job-service.dev-core.svc.cluster.local:5062',
    account_service: 'http://cb-core-account-svc.dev-core.svc.cluster.local:4010',
    core_lite_host: 'http://mcmp-loadbalancer.mcmp-loadbalancer',
    plan: { name: 'ENTERPRISE', periodLimit: 14 }
  },
  context: {
    db: Db {
      _events: [Object: null prototype] {},
      _eventsCount: 0,
      _maxListeners: undefined,
      s: [Object],
      serverConfig: [Getter],
      bufferMaxEntries: [Getter],
      databaseName: [Getter],
      [Symbol(kCapture)]: false
    },
    dbManager: DBManager {
      db: [Db],
      tenantId: '61b9b81d9efc3e6b7da2283a',
      client: [MongoClient]
    },
    mongoStoreServer: MongoStoreServer {
      dbManager: [DBManager],
      collections: {},
      logger: [DerivedLogger],
      reportModelManager: [ReportModelManager]
    },
    enrichmentManager: null,
    accounts: null,
    jobIdForLogger: null,
    getLogger: [Function: getLogger],
    notificationManager: NotificationManager {
      tenant: [Circular],
      tenantId: '61b9b81d9efc3e6b7da2283a',
      notification_service_host: 'http://cb-notification-api.dev-core.svc.cluster.local:5056',
      notificationOk: true,
      logger: [DerivedLogger]
    },
    partitionManager: PartitionManager {
      db: [Db],
      tenantId: '61b9b81d9efc3e6b7da2283a',
      logger: [DerivedLogger],
      context: [Circular],
      partitionsCache: [MongoCache]
    },
    timeIntervalManager: TimeIntervalManager {
      tenant: [Object],
      db: [Db],
      tenantId: '61b9b81d9efc3e6b7da2283a',
      logger: [DerivedLogger],
      partitionManager: [PartitionManager],
      mongoStoreServer: [MongoStoreServer],
      timeInterValCollection: [Collection]
    }
  },
  state: 2,
  newTenant: false
}
@@@ {
  type: 'cam_ingestion',
  operations: [ 'ingest', 'enrich' ],
  providers: [ 'gcp' ],
  ingest: { type: 'ingest', data_items: [ [Object], [Object] ] },
  user_data: {
    displayname: 'Uday Debbeta',
    firstname: 'Uday',
    middlename: '',
    lastname: 'Debbeta',
    userstatus: 'Active',
    emails: [ 'Uday.Debbeta1@ocean.ibm.com' ],
    invitationid: '61b9b8cb9efc3e6b7da2284f',
    uid: '61b9b8cb9efc3e6b7da2284f',
    tenant: '61b9b81d9efc3e6b7da2283a',
    usertype: 'portal_user',
    enabled_api_keys: [ 'perpetual' ],
    user_api_access_allowed: true,
    enable_api_access: 'ALL',
    isSystem_Admin: true,
    isCAM_Admin: true,
    isCAM_Basic_Admin: false,
    isCAM_Extended_Admin: false,
    isAdmin: true
  },
  userContext: null,
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB'
}
[32m[2022-01-07T04:41:41.813] [INFO] | - [39m< [61b9b81d9efc3e6b7da2283a - j34161ho6] "POST /api/ecam/v1/enrichmentController/ingestion" 200, t=> 0 secs 71 ms
[32m[2022-01-07T04:41:41.815] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"CAMIngestionJob.doDataIngestItems","lock_id":"ENRICHMENT_JOB"},"timestamp":{"$lte":1641530441808}}
Time Fri, 07 Jan 2022 04:41:41 GMT DATA===>
Data {
  tenantId: '61b9b81d9efc3e6b7da2283a',
  time: 2022-01-07T04:41:41.811Z,
  status: 'ingestion',
  _id: 61d7c4854f9c08625553eff3
}
[2022-01-07T04:41:41.817Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentController.js:143 --- ==> Ingestion Job has been triggered successfully, job-id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:41:41.818Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:648 ---  Remediation flag ----> 
[2022-01-07T04:41:41.819Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:652 ---  bulkDelete Job Running ----> 
[32m[2022-01-07T04:41:41.820] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully retrieved config for key: ECAM_EXTENDED_AUDIT = false
[32m[2022-01-07T04:41:41.821] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Set ConfigCache value: 61b9b81d9efc3e6b7da2283a-ECAM_EXTENDED_AUDIT = false
[32m[2022-01-07T04:41:41.821] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 38120 ::: UserDataCache.get userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b8cb9efc3e6b7da2284f
[32m[2022-01-07T04:41:41.821] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 38120 ::: returning cached user_data_promise in 0 ms
[2022-01-07T04:41:41.825Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] job.status.js:617 --- getRecentJobs returning all jobs sorted by startDate or ingestionStartDate DESC [{"startDate":"2022-01-07T04:31:07.732Z"},{"startDate":"2022-01-07T04:22:31.403Z"},{"startDate":"2022-01-07T04:10:22.766Z"},{"startDate":"2022-01-07T03:48:30.191Z"},{"startDate":"2022-01-06T18:25:30.762Z"},{"startDate":"2022-01-06T18:15:45.407Z"},{"startDate":"2022-01-06T17:37:36.269Z"},{"startDate":"2022-01-06T17:28:59.820Z"},{"startDate":"2022-01-06T17:20:05.475Z"},{"startDate":"2022-01-06T17:13:50.711Z"},{"startDate":"2022-01-06T13:08:10.329Z"}]
[2022-01-07T04:41:41.826Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:511 --- Getting status of job :: 61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu"}},{"$addFields":{"completed":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]},{"$lte":[{"$size":{"$ifNull":["$state.validationErrorDetails",[]]}},0]}]},"partialCompleted":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$or":[{"$and":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["$job.final_operation.state","Error"]]}}}},{"$eq":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},false]},{"$eq":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","Error"]}}}},false]}]},{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.validationErrorDetails",[]]}},0]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["$job.final_operation.state","Error"]]}}}}]}]},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]}]},"completedWithErrors":{"$cond":{"if":{"$eq":["$job.continueOnError",true]},"then":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$anyElementTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","Error"]}}}},{"$anyElementTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]}]},"else":false}},"inProgress":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$ifNull":[{"$not":"$postProcessingStarted"},true]}]},"postProcessing":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$ifNull":["$postProcessingStarted",false]}]},"postProcessingError":{"$and":[{"$ifNull":["$ingestionEndDate",false]},{"$ifNull":["$postProcessingStarted",false]},{"$eq":["$postProcessingStatus.status","Error"]}]},"error":{"$cond":{"if":{"$eq":["$job.continueOnError",true]},"then":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$ne":["$$logRecord.operation.state","$job.final_operation.state"]}}}}]},"else":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$and":[{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$in":["$$logRecord.operation.state",["EnrichCompleted","Error"]]}}}},{"$allElementsTrue":{"$map":{"input":"$state.execution_log","as":"logRecord","in":{"$ne":["$$logRecord.operation.state","EnrichCompleted"]}}}}]}]}}},"initError":{"$and":[{"$ifNull":["$ingestionEndDate",false]},{"$eq":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]}]},"initializing":{"$and":[{"$ifNull":[{"$not":"$ingestionEndDate"},true]},{"$eq":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]}]}}},{"$addFields":{"status":{"$switch":{"branches":[{"case":"$initError","then":"InitializeError"},{"case":"$error","then":"Error"},{"case":"$initializing","then":"Initializing"},{"case":"$inProgress","then":"InProgress"},{"case":"$postProcessing","then":"PostProcessing"},{"case":"$postProcessingError","then":"PostProcessingError"},{"case":"$partialCompleted","then":"PartiallyCompleted"},{"case":"$completed","then":"Completed"},{"case":"$completedWithErrors","then":"CompletedWithErrors"}],"default":"Unknown"}}}},{"$addFields":{"status":{"$cond":{"if":{"$and":[{"$in":["$status",["Error","InitializeError","Unknown","PostProcessingError","PartiallyCompleted"]]},{"$eq":["$terminateRequested",true]},{"$ifNull":["$ingestionEndDate",false]}]},"then":"Terminated","else":"$status"}}}},{"$addFields":{"status":{"$cond":{"if":{"$and":[{"$eq":["$terminateRequested",true]},{"$ifNull":[{"$not":"$ingestionEndDate"},true]}]},"then":"Terminating","else":"$status"}}}},{"$project":{"status":1,"jobType":1}}]
[2022-01-07T04:41:41.831Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:517 --- Jobs => [{"_id":"61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu","status":"Completed"}]
[2022-01-07T04:41:41.831Z] [61b9b81d9efc3e6b7da2283a] [INFO] job.status.js:666 --- Status of Job 61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu : Completed
[32m[2022-01-07T04:41:41.832] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, transition: Idle -> Initializing
[32m[2022-01-07T04:41:41.832] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:Initializing, size: 1
[2022-01-07T04:41:41.834Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:57 --- JobContext: 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:41:41.834Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:59 --- job_defination_id : => undefined
[32m[2022-01-07T04:41:41.837] [INFO] AuditLogger.js - [39m[61b9b81d9efc3e6b7da2283a] Status code from Audit Logger: 200
[2022-01-07T04:41:41.843Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] EnrichmentManager.js:95 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB setState:result.cnt: started started 1
[32m[2022-01-07T04:41:41.843] [INFO] EnrichmentManager.js - [39mjobPubState:state:info: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB started started
[2022-01-07T04:41:41.843Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:1049 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB start:operations: ingest,enrich
[32m[2022-01-07T04:41:41.844] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 66616 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.844] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 66616 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:41:41.845] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","state":"started","info":"started","type":"cam_ingestion"}
[32m[2022-01-07T04:41:41.846] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:41.848Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM4384_Partition found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM4384_Partition"]}
[2022-01-07T04:41:41.848Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM4384_Partition = true
[2022-01-07T04:41:41.848Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:410 --- Inside migration partitions...
[2022-01-07T04:41:41.851Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:414 --- Periods to migrate to partitioned collection : []
[2022-01-07T04:41:41.852Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:259 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB init_temp_collections:TYPE: cost
[2022-01-07T04:41:41.868Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1049 --- Init temp collections and created Standard_ collections if they didnt exist
[2022-01-07T04:41:41.868Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:259 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB init_temp_collections:TYPE: asset
[2022-01-07T04:41:41.888Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1049 --- Init temp collections and created Standard_ collections if they didnt exist
#######################
[2022-01-07T04:41:41.889Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1263 --- jobContext.job.operations: ["ingest","enrich"]
[2022-01-07T04:41:41.902Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] EnrichmentManager.js:95 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB setState:result.cnt: active ingest 1
[2022-01-07T04:41:41.902Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:103 --- EnrichmentManager.setState: active, execution_log: []
[32m[2022-01-07T04:41:41.902] [INFO] EnrichmentManager.js - [39mjobPubState:state:info: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB active ingest
[32m[2022-01-07T04:41:41.902] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 70582 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.902] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 70582 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:41:41.904] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","state":"active","info":"ingest","type":"cam_ingestion"}
[32m[2022-01-07T04:41:41.904] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:41.907Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key ECAM_FORCE_ACCOUNT_NAME_MIGRATION found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["ECAM_FORCE_ACCOUNT_NAME_MIGRATION"]}
[2022-01-07T04:41:41.907Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-ECAM_FORCE_ACCOUNT_NAME_MIGRATION = false
[2022-01-07T04:41:41.907Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:706 --- Running getAccountNameMigration
[2022-01-07T04:41:41.908Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1029 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Considering accounts of providers => gcp for validations ...
[32m[2022-01-07T04:41:41.908] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 19210 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:41.909] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 19210 ::: returning cached refresh_token_promise in 1 ms
[2022-01-07T04:41:41.909Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:378 --- Getting an account map from Core API ...
[2022-01-07T04:41:41.909Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:590 --- Processing account information
[2022-01-07T04:41:41.909Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:846 --- Getting detailed accounts for providers [ 'gcp' ]
[2022-01-07T04:41:41.922Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:851 --- Getting detailed accounts initial call :: /accounts/accountSearch, { accountType: 'billing', limit: 1000, serviceProviderCode: 'gcp' }
[2022-01-07T04:41:41.923Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:852 --- getDetailedAccounts makeCoreApiCall response.status, response.data 200, [{"_id":"61b9b994a39697002dda116b","basicInfo":{"accountName":"gcp","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"master","userType":"billing"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","billing_report_prefix":"billing-export-test","account_number":"008C93-7B2B98-816781"},"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","type":"provider_account_credentials","updatedTime":1639561663017,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:47:00.433Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:47:43.017Z"},"hasError":false,"credentials":[{"credentialName":"gcp","purpose":["costIngestion"],"status":"Active","passwordFields":"gcp","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:47:30.042Z","context":[{"org":["org_all"],"contextId":"8f9cfa43-22b3-45d2-bc00-83f244831e3d"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"579978e5-218e-4961-9f30-db319c804475","crefId":"gcp"}]}]
[2022-01-07T04:41:41.923Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:862 --- getDetailedAccounts accountsNoAccountId []
[2022-01-07T04:41:41.923Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:863 --- getDetailedAccounts valid accounts [{"_id":"61b9b994a39697002dda116b","basicInfo":{"accountName":"gcp","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"master","userType":"billing"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","billing_report_prefix":"billing-export-test","account_number":"008C93-7B2B98-816781"},"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","type":"provider_account_credentials","updatedTime":1639561663017,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:47:00.433Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:47:43.017Z"},"hasError":false,"credentials":[{"credentialName":"gcp","purpose":["costIngestion"],"status":"Active","passwordFields":"gcp","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:47:30.042Z","context":[{"org":["org_all"],"contextId":"8f9cfa43-22b3-45d2-bc00-83f244831e3d"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"579978e5-218e-4961-9f30-db319c804475","crefId":"gcp"}]}]
[2022-01-07T04:41:41.923Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:903 --- Neither cache case nor nonadmin case. Return all accounts as is
[2022-01-07T04:41:41.923Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:846 --- Getting detailed accounts for providers [ 'gcp' ]
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:851 --- Getting detailed accounts initial call :: /accounts/accountSearch, { accountType: 'asset', limit: 1000, serviceProviderCode: 'gcp' }
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:852 --- getDetailedAccounts makeCoreApiCall response.status, response.data 200, [{"_id":"61b9b9e5a39697002dda116d","basicInfo":{"accountName":"gcp_asset","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"subaccount","userType":"asset","parentAccountId":"66846d2b-e860-42f8-8a4c-323f736bd673"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","usage_report_prefix":"billing-export-test"},"accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","type":"provider_account_credentials","updatedTime":1639561763211,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:48:21.889Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:49:23.211Z"},"hasError":false,"credentials":[{"credentialName":"gcp_asset","purpose":["assetIngestion","provisioning","pricing","assetDiscovery"],"status":"Active","passwordFields":"gcp_asset","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:48:55.766Z","context":[{"org":["org_all"],"contextId":"d27c0bd2-160a-4660-a257-c01aedad54f9"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"53409296-6b97-46c9-a1e6-d1fe80d2dada","crefId":"gcp_asset"}]}]
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:862 --- getDetailedAccounts accountsNoAccountId []
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:863 --- getDetailedAccounts valid accounts [{"_id":"61b9b9e5a39697002dda116d","basicInfo":{"accountName":"gcp_asset","serviceProviderType":"gcp","serviceProviderCode":"gcp","isActive":"Active","accountType":"subaccount","userType":"asset","parentAccountId":"66846d2b-e860-42f8-8a4c-323f736bd673"},"advancedInfo":{"projectId":"cost-asset-analytics","serviceAccountName":"cost-asset-analytics","bucket":"ibm_billing","usage_report_prefix":"billing-export-test"},"accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","type":"provider_account_credentials","updatedTime":1639561763211,"vault_id":"ec8c6a8f-33ca-47bf-a816-fac2c4f09277","modelVersion":"v2.1","version":2,"extension":[],"lifecycle":{"created_by":"Uday Debbeta","created_date":"2021-12-15T09:48:21.889Z","updated_by":"Uday Debbeta","updated_date":"2021-12-15T09:49:23.211Z"},"hasError":false,"credentials":[{"credentialName":"gcp_asset","purpose":["assetIngestion","provisioning","pricing","assetDiscovery"],"status":"Active","passwordFields":"gcp_asset","testConnectionStatus":"Valid","lastAccessedOn":"2021-12-15T09:48:55.766Z","context":[{"org":["org_all"],"contextId":"d27c0bd2-160a-4660-a257-c01aedad54f9"}],"additionalinfo":[{"org":["org_all"],"unassignedcontexts":{}}],"id":"53409296-6b97-46c9-a1e6-d1fe80d2dada","crefId":"gcp_asset"}]}]
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:903 --- Neither cache case nor nonadmin case. Return all accounts as is
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:41:41.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:619 --- filtering accounts of public cloud
[2022-01-07T04:41:41.937Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1034 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Account Validation started ...
[2022-01-07T04:41:41.937Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1063 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Filtering duplicate and multi-credentials accounts ...
[2022-01-07T04:41:41.937Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1118 --- NumberOf-Creds: 1
[2022-01-07T04:41:41.938Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1118 --- NumberOf-Creds: 1
[2022-01-07T04:41:41.938Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1180 --- Account Type: master,
     Provider: gcp,  Purpose: costIngestion
[2022-01-07T04:41:41.938Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1180 --- Account Type: subaccount,
     Provider: gcp,  Purpose: assetIngestion
[2022-01-07T04:41:41.938Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1204 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB **** Validating accounts by calling common validation framework API ***
[2022-01-07T04:41:41.938Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1205 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Request payload => [{"provider_name":"gcp","account_type":"master","account_number":"008C93-7B2B98-816781","AccountId":"66846d2b-e860-42f8-8a4c-323f736bd673","purpose":["costIngestion"]},{"provider_name":"gcp","account_type":"subaccount","account_number":"cost-asset-analytics","AccountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","purpose":["assetIngestion"]}]
[2022-01-07T04:41:48.260Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1209 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB ** Time taken by CVF API: 6.322secs
[2022-01-07T04:41:48.260Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1216 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: Filtering invalid accounts ...
[32m[2022-01-07T04:41:48.261] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 21986 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.261] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 21986 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.261Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:146 --- Getting an account [gcp:008C93-7B2B98-816781] credentials from Core API ...
[2022-01-07T04:41:48.262Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:149 --- Account: [gcp:008C93-7B2B98-816781] - Connected to core services
[2022-01-07T04:41:48.298Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:162 --- Setting Cache for accountCredkey:billing_008C93-7B2B98-816781_gcp
[2022-01-07T04:41:48.298Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1042 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Account Validation finished ...
[2022-01-07T04:41:48.298Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1294 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB ** Total time taken by the Validation Framework:
       6.396secs
[2022-01-07T04:41:48.299Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1298 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB ** Data Items ** Before add and update lookups::[{"billing_account_number":"008C93-7B2B98-816781","period":202201,"cost":true,"asset":true,"metric":true,"asset_accounts":[{"asset_account_number":"cost-asset-analytics"}],"providerName":"gcp"},{"billing_account_number":"008C93-7B2B98-816781","period":202112,"cost":true,"asset":false,"metric":false,"asset_accounts":[{"asset_account_number":"cost-asset-analytics"}],"providerName":"gcp"}]
[2022-01-07T04:41:48.300Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1421 --- Account Name Migration : regular
[2022-01-07T04:41:48.301Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1400 --- updateCoreAccountIdInLookupAccounts : 0 rows updated
[2022-01-07T04:41:48.303Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:1458 --- **Checking if any accountName is updated**
[2022-01-07T04:41:48.304Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:41:48.305Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active"}:
[2022-01-07T04:41:48.317Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:48.316Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":9}
[2022-01-07T04:41:48.320Z] [61b9b81d9efc3e6b7da2283a] [INFO] tenant.context.service.js:53 --- connectionReady; {"time":"2022-01-07T04:41:48.320Z","address":"mongodb-primary-0.mongodb-headless.ecam-ext.svc.cluster.local:27017","connectionId":10}
[2022-01-07T04:41:48.323Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:451 --- Inside IsForceExtractionNeeded()
[2022-01-07T04:41:48.323Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:456 --- Executing pipeline => no_change_in_data_filter.json
[2022-01-07T04:41:48.324Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:460 --- Pipeline Query => [{"$match":{"$expr":{"$and":[{"$eq":[{"$month":"$ingestionStartDate"},{"$month":{"$dateFromString":{"dateString":"2022-01-07T04:41:48.323Z"}}}]},{"$anyElementTrue":{"$map":{"input":{"$ifNull":["$job.ingest.data_items",[]]},"as":"jobRecord","in":{"$eq":["$$jobRecord.billing_account_number","008C93-7B2B98-816781"]}}}},{"$anyElementTrue":{"$map":{"input":{"$ifNull":["$state.execution_log",[]]},"as":"task","in":{"$eq":["$$task.NoChangeInData",true]}}}}]}}}]
[2022-01-07T04:41:48.334Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:464 --- Executing pipeline => find_current_months_jobstatus.json
[2022-01-07T04:41:48.335Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:468 --- Pipeline Query => [{"$match":{"$expr":{"$and":[{"$eq":[{"$month":"$ingestionStartDate"},{"$month":{"$dateFromString":{"dateString":"2022-01-07T04:41:48.323Z"}}}]},{"$anyElementTrue":{"$map":{"input":{"$ifNull":["$job.ingest.data_items",[]]},"as":"jobRecord","in":{"$eq":["$$jobRecord.billing_account_number","008C93-7B2B98-816781"]}}}}]}}},{"$addFields":{"completed":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":{"$ifNull":["$state.execution_log",[]]},"as":"logRecord","in":{"$eq":["$$logRecord.operation.state","$job.final_operation.state"]}}}},{"$or":[{"$eq":["$postProcessingStatus",null]},{"$eq":["$postProcessingStatus.status","Completed"]}]}]},"postProcessingError":{"$and":[{"$ifNull":["$ingestionEndDate",false]},{"$ifNull":["$postProcessingStarted",false]},{"$eq":["$postProcessingStatus.status","Error"]}]},"error":{"$cond":{"if":{"$eq":["$job.continueOnError",true]},"then":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$allElementsTrue":{"$map":{"input":{"$ifNull":["$state.execution_log",[]]},"as":"logRecord","in":{"$ne":["$$logRecord.operation.state","$job.final_operation.state"]}}}}]},"else":{"$and":[{"$gt":[{"$size":{"$ifNull":["$state.execution_log",[]]}},0]},{"$ifNull":["$ingestionEndDate",false]},{"$anyElementTrue":{"$map":{"input":{"$ifNull":["$state.execution_log",[]]},"as":"logRecord","in":{"$eq":["$$logRecord.operation.state","Error"]}}}}]}}}}},{"$addFields":{"status":{"$switch":{"branches":[{"case":"$error","then":"Error"},{"case":"$postProcessingError","then":"PostProcessingError"},{"case":"$completed","then":"Completed"}],"default":"Unknown"}}}},{"$addFields":{"status":{"$cond":{"if":{"$and":[{"$in":["$status",["Error","Unknown","PostProcessingError"]]},{"$eq":["$terminateRequested",true]},{"$ifNull":["$ingestionEndDate",false]}]},"then":"Terminated","else":"$status"}}}},{"$project":{"status":1,"ingestionStartDate":1,"jobType":1}}]
[2022-01-07T04:41:48.337Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:476 --- Force extraction needed => false
[2022-01-07T04:41:48.345Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] EnrichmentManager.js:95 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB setState:result.cnt: active ingest 1
[2022-01-07T04:41:48.345Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:103 --- EnrichmentManager.setState: active, execution_log: [{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","providerName":"gcp","period":202201,"startDate":"2022-01-07T04:41:48.322Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":true,"metric":true,"extract":[{"type":"cost","collectionName":"C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7","assetAccounts":[{"asset_account_number":"cost-asset-analytics","asset_collection":"A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw","metric_collection":"M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}]}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}},{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","providerName":"gcp","period":202201,"startDate":"2022-01-07T04:41:48.322Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":true,"extract":[{"type":"asset","assetAccount":"cost-asset-analytics","collectionName":"A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw"}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}},{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","providerName":"gcp","period":202201,"startDate":"2022-01-07T04:41:48.322Z","billingAccount":"008C93-7B2B98-816781","cost":true,"metric":true,"extract":[{"type":"metric","assetAccount":"cost-asset-analytics","collectionName":"M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}},{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","providerName":"gcp","period":202112,"startDate":"2022-01-07T04:41:48.323Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":false,"metric":false,"extract":[{"type":"cost","collectionName":"C_008C93_7B2B98_816781_z7V1s9k7HOfFakJlE3Hg8","assetAccounts":[{"asset_account_number":"cost-asset-analytics"}]}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}}]
[32m[2022-01-07T04:41:48.345] [INFO] EnrichmentManager.js - [39mjobPubState:state:info: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB active ingest
[2022-01-07T04:41:48.347Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1445 --- Job Context =>>> JobContext {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: {
    type: 'cam_ingestion',
    operations: [ 'ingest', 'enrich' ],
    providers: [ 'gcp' ],
    ingest: { type: 'ingest', data_items: [Array] },
    userContext: null,
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
    continueOnError: false,
    final_operation: { _id: 'enrich', state: 'FinalizeCompleted' }
  },
  factory: {
    consumes: 'cam_ingestion',
    produces: 'gpdx',
    cons: [class CAMIngestionJob]
  },
  tenant: {
    profile: {
      _id: '61b9b81d9efc3e6b7da2283a',
      name: 'cam6',
      mongo_db: '61b9b81d9efc3e6b7da2283a_ecam',
      mongo_url: '********',
      state: 0,
      mongo_crt: '********',
      tenant_host: 'cam6.gravitant.net',
      tenant_api_host: 'cam6-api.gravitant.net',
      plan_id: '907355f9-3238-4fab-a27f-efc85ba7fa4b',
      authorization_service_host: 'http://cb-core-authorization-service.dev-core.svc.cluster.local:4004',
      core_auth_host: 'https://cb-core-auth-internal.dev-core.svc.cluster.local:4001',
      budget_service_host: 'http://cb-budget-adapter.dev-core.svc.cluster.local:5051',
      credential_service_host: 'http://cb-cred-svc.dev-core.svc.cluster.local:8000',
      notification_service_host: 'http://cb-notification-api.dev-core.svc.cluster.local:5056',
      configuration_host: 'http://cb-core-configuration-service.dev-core.svc.cluster.local:5054',
      common_pricing_host: 'http://mcmp-common-pricing.dev-core.svc.cluster.local:5000',
      cam_service: 'http://camservice.dev-cam:8000',
      ecam_api_server: 'http://ecam-api-server.ecam:8080',
      ecam_enrichment_server: 'http://ecam-enrichment-server.ecam:8090',
      ecam_discovery_adapter: 'http://ecam-discovery-adapter.ecam:9099',
      ecam_task_service: 'http://ecam-task-service.ecam:8070',
      insights_url: 'http://cb-insights-controller.dev-insights.svc.cluster.local:5895',
      audit_service_host: 'http://cb-audit-service.dev-core.svc.cluster.local:80',
      job_service_host: 'http://cb-core-job-service.dev-core.svc.cluster.local:5062',
      account_service: 'http://cb-core-account-svc.dev-core.svc.cluster.local:4010',
      core_lite_host: 'http://mcmp-loadbalancer.mcmp-loadbalancer',
      plan: [Object]
    },
    context: {
      db: [Db],
      dbManager: [DBManager],
      mongoStoreServer: [MongoStoreServer],
      enrichmentManager: null,
      accounts: null,
      jobIdForLogger: null,
      getLogger: [Function: getLogger],
      notificationManager: [NotificationManager],
      partitionManager: [PartitionManager],
      timeIntervalManager: [TimeIntervalManager]
    },
    state: 2,
    newTenant: false
  },
  state: {
    state: 'active',
    info: 'ingest',
    execution_log: [ [Object], [Object], [Object], [Object] ],
    validationErrorDetails: []
  },
  userLog: [
    {
      userType: 'Portal User',
      email: 'Uday.Debbeta1@ocean.ibm.com',
      timestamp: 2022-01-07T04:41:41.833Z,
      operation: 'Start'
    }
  ],
  userContext: null,
  logger: DerivedLogger {
    _readableState: ReadableState {
      objectMode: true,
      highWaterMark: 16,
      buffer: BufferList { head: null, tail: null, length: 0 },
      length: 0,
      pipes: [Console],
      pipesCount: 1,
      flowing: true,
      ended: false,
      endEmitted: false,
      reading: false,
      sync: false,
      needReadable: true,
      emittedReadable: false,
      readableListening: false,
      resumeScheduled: false,
      paused: false,
      emitClose: true,
      autoDestroy: false,
      destroyed: false,
      defaultEncoding: 'utf8',
      awaitDrain: 0,
      readingMore: true,
      decoder: null,
      encoding: null
    },
    readable: true,
    _events: [Object: null prototype] {
      prefinish: [Function: prefinish],
      end: [Function],
      data: [Function: ondata],
      close: [Function]
    },
    _eventsCount: 4,
    _maxListeners: undefined,
    _writableState: WritableState {
      objectMode: true,
      highWaterMark: 16,
      finalCalled: false,
      needDrain: false,
      ending: false,
      ended: false,
      finished: false,
      destroyed: false,
      decodeStrings: true,
      defaultEncoding: 'utf8',
      length: 0,
      writing: false,
      corked: 0,
      sync: false,
      bufferProcessing: false,
      onwrite: [Function],
      writecb: null,
      writelen: 0,
      bufferedRequest: null,
      lastBufferedRequest: null,
      pendingcb: 2,
      prefinished: false,
      errorEmitted: false,
      emitClose: true,
      autoDestroy: false,
      bufferedRequestCount: 0,
      corkedRequestsFree: [CorkedRequest]
    },
    writable: true,
    allowHalfOpen: true,
    _transformState: {
      afterTransform: [Function: bound afterTransform],
      needTransform: true,
      transforming: false,
      writecb: null,
      writechunk: null,
      writeencoding: 'utf8'
    },
    silent: undefined,
    format: Format { options: {}, Format: [Function: Format] },
    defaultMeta: null,
    levels: {
      error: 0,
      warn: 1,
      info: 2,
      http: 3,
      verbose: 4,
      debug: 5,
      silly: 6
    },
    level: 'debug',
    exceptions: ExceptionHandler { logger: [Circular], handlers: Map {} },
    rejections: RejectionHandler { logger: [Circular], handlers: Map {} },
    profilers: {},
    exitOnError: true,
    jobId: null,
    error: [Function],
    warn: [Function],
    info: [Function],
    http: [Function],
    verbose: [Function],
    debug: [Function],
    silly: [Function],
    [Symbol(kCapture)]: false
  },
  ingestionStartDate: 2022-01-07T04:41:41.834Z,
  job_definition_id: undefined
}
[2022-01-07T04:41:48.348Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:70 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: data_item : {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","providerName":"gcp","period":202201,"startDate":"2022-01-07T04:41:48.322Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":true,"metric":true,"extract":[{"type":"cost","collectionName":"C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7","assetAccounts":[{"asset_account_number":"cost-asset-analytics","asset_collection":"A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw","metric_collection":"M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}]}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}}
[2022-01-07T04:41:48.348Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:73 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: starting ingestion...
[2022-01-07T04:41:48.348Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:74 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting billing account [gcp:008C93-7B2B98-816781] information ...
[32m[2022-01-07T04:41:48.349] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 39964 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.349] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 39964 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.349Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:375 --- Getting an account map from cache ...
[2022-01-07T04:41:48.349Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:88 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting asset account [gcp:cost-asset-analytics] information ...
[32m[2022-01-07T04:41:48.349] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 72133 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.349] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 72133 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.349Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:375 --- Getting an account map from cache ...
[2022-01-07T04:41:48.350Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:97 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting asset ac.,mfcount [gcp:cost-asset-analytics] credentials ...
[2022-01-07T04:41:48.350Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:174 --- provider for gcp is {
  "_id": "f681f540becec8f9d1f9dea5f76a9add260dff019a0a96ebbf3a7445b97ee676",
  "serviceProviderCode": "gcp",
  "vaultAdaptorId": "ec8c6a8f-33ca-47bf-a816-fac2c4f09277",
  "serviceProviderType": "gcp",
  "serviceProviderName": "gcp",
  "_rev": null,
  "serviceProviderID": "39292a49-eef1-4a06-a53e-d1d67b2bcc1e",
  "serviceProviderMetadataID": "200bed52-4eda-4f94-8f74-db73e19af21c",
  "extension": [],
  "version": 2,
  "lifecycle": {
    "created_by": "System",
    "created_date": "2021-11-13T06:56:13.778Z",
    "updated_by": "System",
    "updated_date": "2022-01-06T05:39:47.903Z"
  }
}
[32m[2022-01-07T04:41:48.351] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 44765 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.351] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 44765 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.351Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:146 --- Getting an account [gcp:cost-asset-analytics] credentials from Core API ...
[2022-01-07T04:41:48.351Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] account_services.js:149 --- Account: [gcp:cost-asset-analytics] - Connected to core services
[32m[2022-01-07T04:41:48.352] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","state":"active","info":"ingest","type":"cam_ingestion"}
[32m[2022-01-07T04:41:48.353] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:48.382Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:162 --- Setting Cache for accountCredkey:asset_cost-asset-analytics_gcp
[2022-01-07T04:41:48.383Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.410Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.410Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:117 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting billing account [gcp:008C93-7B2B98-816781] credentials ...
[2022-01-07T04:41:48.411Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:174 --- provider for gcp is {
  "_id": "f681f540becec8f9d1f9dea5f76a9add260dff019a0a96ebbf3a7445b97ee676",
  "serviceProviderCode": "gcp",
  "vaultAdaptorId": "ec8c6a8f-33ca-47bf-a816-fac2c4f09277",
  "serviceProviderType": "gcp",
  "serviceProviderName": "gcp",
  "_rev": null,
  "serviceProviderID": "39292a49-eef1-4a06-a53e-d1d67b2bcc1e",
  "serviceProviderMetadataID": "200bed52-4eda-4f94-8f74-db73e19af21c",
  "extension": [],
  "version": 2,
  "lifecycle": {
    "created_by": "System",
    "created_date": "2021-11-13T06:56:13.778Z",
    "updated_by": "System",
    "updated_date": "2022-01-06T05:39:47.903Z"
  }
}
[2022-01-07T04:41:48.411Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:137 --- Getting an account [gcp:008C93-7B2B98-816781] credentials from cache ...
[32m[2022-01-07T04:41:48.411] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 76059 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.411] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 76059 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.415Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key COMMON_DISCOVERY found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["COMMON_DISCOVERY"]}
[2022-01-07T04:41:48.416Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-COMMON_DISCOVERY = false
[2022-01-07T04:41:48.416Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:138 --- Common Discovery flag: false
[2022-01-07T04:41:48.416Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:213 --- inside getIngestionStartDateOfBillingAcc
[2022-01-07T04:41:48.416Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:214 --- 1. Checking is it current period?
[32m[2022-01-07T04:41:48.416] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 19151 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.416] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 19151 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.420Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key GCP_DAILY_COST_EXTRACTION found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["GCP_DAILY_COST_EXTRACTION"]}
[2022-01-07T04:41:48.421Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-GCP_DAILY_COST_EXTRACTION = false
[2022-01-07T04:41:48.421Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:218 --- 2. Checking is feature flag : GCP_DAILY_COST_EXTRACTION on false?
[2022-01-07T04:41:48.421Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:174 --- ingestionStartDateOfCurrMonthBA: null
[2022-01-07T04:41:48.421Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.424Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.425Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:294 --- Publish/Retry message to extractors id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[32m[2022-01-07T04:41:48.429] [INFO] MessageManager.js - [39mPublishing message, Q: gcp.extract, period: 202201, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:41:48.431Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:41:48.435Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=Idle transition=InvokeExtract nextState=Extracting changed=true
[2022-01-07T04:41:48.436Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Extracting"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:41:48.436Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.startTime":"2022-01-07T04:41:48.436Z"}
[32m[2022-01-07T04:41:48.436] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: Idle -> Extracting
[32m[2022-01-07T04:41:48.436] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:Extracting, size: 2
[32m[2022-01-07T04:41:48.438] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=gcp.extract, returnVal=undefined
[2022-01-07T04:41:48.442Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:41:48.443Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Idle)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Idle)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Idle)',
  [length]: 4
]
[2022-01-07T04:41:48.444Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:41:48.444Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=Idle transition=InvokeExtract nextState=Extracting changed=true
[2022-01-07T04:41:48.444Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Extracting"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:41:48.444Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.startTime":"2022-01-07T04:41:48.444Z"}
[32m[2022-01-07T04:41:48.444] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: Idle -> Extracting
[32m[2022-01-07T04:41:48.444] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:Extracting, size: 3
[32m[2022-01-07T04:41:48.446] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"ingest","previous":"Idle","next":"Extracting"}
[32m[2022-01-07T04:41:48.446] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'ingest',
  previous: 'Idle',
  next: 'Extracting'
}
[32m[2022-01-07T04:41:48.447] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:41:48.447] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:48.452Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:41:48.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Idle)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Idle)',
  [length]: 4
]
[2022-01-07T04:41:48.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:41:48.455Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=Idle transition=InvokeExtract nextState=Extracting changed=true
[2022-01-07T04:41:48.455Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Extracting"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:41:48.455Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.startTime":"2022-01-07T04:41:48.455Z"}
[32m[2022-01-07T04:41:48.455] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: Idle -> Extracting
[32m[2022-01-07T04:41:48.455] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:Extracting, size: 4
[2022-01-07T04:41:48.457Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"type": "acknowledgment", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "payload_received", "period": "202201", "response_code": 200, "response": "success", "collection": "", "job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:41:48.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:553 --- Received event: payload_received, Updating execution log
[2022-01-07T04:41:48.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:761 --- Update publish status _id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[32m[2022-01-07T04:41:48.459] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"ingest","previous":"Idle","next":"Extracting"}
[32m[2022-01-07T04:41:48.459] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'ingest',
  previous: 'Idle',
  next: 'Extracting'
}
[32m[2022-01-07T04:41:48.460] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:41:48.460] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:48.473Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:41:48.473Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Idle)',
  [length]: 4
]
[2022-01-07T04:41:48.473Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:70 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: data_item : {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","providerName":"gcp","period":202112,"startDate":"2022-01-07T04:41:48.323Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":false,"metric":false,"extract":[{"type":"cost","collectionName":"C_008C93_7B2B98_816781_z7V1s9k7HOfFakJlE3Hg8","assetAccounts":[{"asset_account_number":"cost-asset-analytics"}]}],"operation":{"_id":"ingest","state":"Idle"},"ingestionStagesTimeLog":{}}
[2022-01-07T04:41:48.474Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:73 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: starting ingestion...
[2022-01-07T04:41:48.474Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:74 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting billing account [gcp:008C93-7B2B98-816781] information ...
[32m[2022-01-07T04:41:48.474] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83449 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.474] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83449 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.474Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:375 --- Getting an account map from cache ...
[2022-01-07T04:41:48.474Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:88 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting asset account [gcp:cost-asset-analytics] information ...
[32m[2022-01-07T04:41:48.474] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 61305 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:41:48.474] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 61305 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:41:48.475Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:375 --- Getting an account map from cache ...
[2022-01-07T04:41:48.475Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:97 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting asset ac.,mfcount [gcp:cost-asset-analytics] credentials ...
[2022-01-07T04:41:48.475Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:174 --- provider for gcp is {
  "_id": "f681f540becec8f9d1f9dea5f76a9add260dff019a0a96ebbf3a7445b97ee676",
  "serviceProviderCode": "gcp",
  "vaultAdaptorId": "ec8c6a8f-33ca-47bf-a816-fac2c4f09277",
  "serviceProviderType": "gcp",
  "serviceProviderName": "gcp",
  "_rev": null,
  "serviceProviderID": "39292a49-eef1-4a06-a53e-d1d67b2bcc1e",
  "serviceProviderMetadataID": "200bed52-4eda-4f94-8f74-db73e19af21c",
  "extension": [],
  "version": 2,
  "lifecycle": {
    "created_by": "System",
    "created_date": "2021-11-13T06:56:13.778Z",
    "updated_by": "System",
    "updated_date": "2022-01-06T05:39:47.903Z"
  }
}
[2022-01-07T04:41:48.475Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:137 --- Getting an account [gcp:cost-asset-analytics] credentials from cache ...
[2022-01-07T04:41:48.475Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:117 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB] :: Getting billing account [gcp:008C93-7B2B98-816781] credentials ...
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:174 --- provider for gcp is {
  "_id": "f681f540becec8f9d1f9dea5f76a9add260dff019a0a96ebbf3a7445b97ee676",
  "serviceProviderCode": "gcp",
  "vaultAdaptorId": "ec8c6a8f-33ca-47bf-a816-fac2c4f09277",
  "serviceProviderType": "gcp",
  "serviceProviderName": "gcp",
  "_rev": null,
  "serviceProviderID": "39292a49-eef1-4a06-a53e-d1d67b2bcc1e",
  "serviceProviderMetadataID": "200bed52-4eda-4f94-8f74-db73e19af21c",
  "extension": [],
  "version": 2,
  "lifecycle": {
    "created_by": "System",
    "created_date": "2021-11-13T06:56:13.778Z",
    "updated_by": "System",
    "updated_date": "2022-01-06T05:39:47.903Z"
  }
}
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:137 --- Getting an account [gcp:008C93-7B2B98-816781] credentials from cache ...
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:138 --- Common Discovery flag: false
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:213 --- inside getIngestionStartDateOfBillingAcc
[2022-01-07T04:41:48.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:214 --- 1. Checking is it current period?
[2022-01-07T04:41:48.481Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:174 --- ingestionStartDateOfCurrMonthBA: null
[2022-01-07T04:41:48.481Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.488Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.488Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:107 --- TenantId : 61b9b81d9efc3e6b7da2283a, encryptData configUrl 
[2022-01-07T04:41:48.493Z] [61b9b81d9efc3e6b7da2283a] [INFO] configuration-service.js:110 --- TenantId : 61b9b81d9efc3e6b7da2283a, Encryption Sucess 
[2022-01-07T04:41:48.493Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeIngest.js:294 --- Publish/Retry message to extractors id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[32m[2022-01-07T04:41:48.493] [INFO] MessageManager.js - [39mPublishing message, Q: gcp.extract, period: 202112, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:41:48.494Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:41:48.495Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 state=Idle transition=InvokeExtract nextState=Extracting changed=true
[2022-01-07T04:41:48.495Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Extracting"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:41:48.495Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.startTime":"2022-01-07T04:41:48.495Z"}
[32m[2022-01-07T04:41:48.495] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3, transition: Idle -> Extracting
[32m[2022-01-07T04:41:48.495] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3:Extracting, size: 5
[32m[2022-01-07T04:41:48.497] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"ingest","previous":"Idle","next":"Extracting"}
[32m[2022-01-07T04:41:48.498] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'ingest',
  previous: 'Idle',
  next: 'Extracting'
}
[32m[2022-01-07T04:41:48.498] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:41:48.498] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:41:48.498] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=gcp.extract, returnVal=undefined
[2022-01-07T04:41:48.518Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:41:48.518Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Extracting)',
  [length]: 4
]
[2022-01-07T04:41:48.518Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1484 --- Payload to Extractors for job 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: 
gcp 008C93-7B2B98-816781 202201 => {"pubQ":"gcp.extract","subQ":"gcp.extract.reply","providerCode":"gcp","billing_account_number":"008C93-7B2B98-816781","billingAccountType":"ea","asset_accounts":[{"asset_account_number":"cost-asset-analytics","accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc","asset_collection":"A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw","metric_collection":"M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}],"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","cost":true,"asset":true,"utilization":false,"metric":true,"period":"202201","job_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","correlation_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","reply_to":"gcp.extract.reply","tenant-id":"61b9b81d9efc3e6b7da2283a","startDate":"2022-01-07T04:41:48.322Z"},,,
gcp 008C93-7B2B98-816781 202112 => {"pubQ":"gcp.extract","subQ":"gcp.extract.reply","providerCode":"gcp","billing_account_number":"008C93-7B2B98-816781","billingAccountType":"ea","asset_accounts":[{"asset_account_number":"cost-asset-analytics","accountId":"27cb4b14-3b7c-48d5-8d21-f4e3aa96bbdc"}],"accountId":"66846d2b-e860-42f8-8a4c-323f736bd673","cost":true,"asset":false,"utilization":false,"metric":false,"period":"202112","job_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","correlation_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","reply_to":"gcp.extract.reply","tenant-id":"61b9b81d9efc3e6b7da2283a","startDate":"2022-01-07T04:41:48.323Z"}
[2022-01-07T04:41:48.519Z] [61b9b81d9efc3e6b7da2283a] [INFO] account_services.js:83 --- AccountCredServices cache flushed successfully...
[32m[2022-01-07T04:41:48.519] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, transition: Initializing -> Initialized
[32m[2022-01-07T04:41:48.519] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:Initialized, size: 4
[2022-01-07T04:41:48.519Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:410 --- Inside migration partitions...
[2022-01-07T04:41:48.522Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:414 --- Periods to migrate to partitioned collection : []
[2022-01-07T04:41:48.522Z] [61b9b81d9efc3e6b7da2283a] [WARN] CAMIngestionJob.js:1118 --- No operation object found: enrich
[32m[2022-01-07T04:41:48.522] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  ENRICHMENT_JOB
[32m[2022-01-07T04:41:48.525] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: ENRICHMENT_JOB
[32m[2022-01-07T04:41:48.545] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","operation":"ingest","previous":"Idle","next":"Extracting"}
[32m[2022-01-07T04:41:48.545] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  operation: 'ingest',
  previous: 'Idle',
  next: 'Extracting'
}
[32m[2022-01-07T04:41:48.545] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:41:48.546] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:41:48.550Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"type": "acknowledgment", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "payload_received", "period": "202112", "response_code": 200, "response": "success", "collection": "", "job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3", "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:41:48.550Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:553 --- Received event: payload_received, Updating execution log
[2022-01-07T04:41:48.551Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:761 --- Update publish status _id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:41:48.590Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "asset", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "extract_started", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:41:48.590Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_started
[2022-01-07T04:41:51.731Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3", "type": "cost", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "extract_started", "period": "2021-12", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "C_008C93_7B2B98_816781_z7V1s9k7HOfFakJlE3Hg8"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:41:51.731Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_started
[2022-01-07T04:41:53.106Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "cost", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "extract_started", "period": "2022-01", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:41:53.106Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_started
[2022-01-07T04:42:10.159Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "cost", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "extract_completed", "period": "2022-01", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:42:10.159Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_completed
[32m[2022-01-07T04:42:17.062] [INFO] AuthorizationManager.js - [39mUserDataCache cache expired 61b9b81d9efc3e6b7da2283a:61b9b8cb9efc3e6b7da2284f:[object Promise]: {"hits":1,"misses":1,"keys":0,"ksize":0,"vsize":0} 
[32m[2022-01-07T04:42:17.062] [INFO] AuthorizationManager.js - [39mRefreshTokenCache cache expired 61b9b81d9efc3e6b7da2283a:[object Promise]: {"hits":19,"misses":1,"keys":0,"ksize":0,"vsize":0} 
[2022-01-07T04:42:22.829Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "cost", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "gpd_created", "period": "2022-01", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
(node:1) DeprecationWarning: collection.count is deprecated, and will be removed in a future version. Use Collection.countDocuments or Collection.estimatedDocumentCount instead
[2022-01-07T04:42:22.833Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:584 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB - Extract complete: cost:202201:gcp:008C93-7B2B98-816781, count: 6381
[2022-01-07T04:42:22.835Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:42:22.835Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=Extracting transition=Success nextState=Ingested changed=true
[2022-01-07T04:42:22.835Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Ingested"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:42:22.835Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.endTime":"2022-01-07T04:42:22.835Z"}
[32m[2022-01-07T04:42:22.835] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: Extracting -> Ingested
[32m[2022-01-07T04:42:22.835] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:Ingested, size: 3
[2022-01-07T04:42:22.840Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:42:22.840Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Ingested)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Extracting)',
  [length]: 4
]
[32m[2022-01-07T04:42:22.841] [INFO] LockManager.js - [39msynchronize CAM_INGESTION 61b9b81d9efc3e6b7da2283a getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:42:22.841] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530482841}}
[32m[2022-01-07T04:42:22.843] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530482841}}
[32m[2022-01-07T04:42:22.843] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:42:22.845] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"ingest","previous":"Extracting","next":"Ingested"}
[32m[2022-01-07T04:42:22.845] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'ingest',
  previous: 'Extracting',
  next: 'Ingested'
}
[32m[2022-01-07T04:42:22.845] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:42:22.845] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:42:22.847Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:784 --- Finding related of (type=cost,provider=gcp,          billingAccount=008C93-7B2B98-816781) (related=[{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","providerName":"gcp","period":202201,"startDate":"2022-01-07T04:41:48.322Z","billingAccount":"008C93-7B2B98-816781","cost":true,"asset":true,"extract":[{"type":"asset","assetAccount":"cost-asset-analytics","collectionName":"A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw"}],"operation":{"_id":"ingest","state":"Extracting"},"ingestionStagesTimeLog":{"Extraction":{"startTime":"2022-01-07T04:41:48.444Z"}},"operation_timestamp":"2022-01-07T04:41:48.444Z"}])
[32m[2022-01-07T04:42:22.847] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:42:22.848] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: getRelatedStatus_008C93-7B2B98-816781_202201
[2022-01-07T04:42:22.849Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:42:22.849Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=Idle transition=InvokeEnrich nextState=Enriching changed=true
[2022-01-07T04:42:22.850Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Enriching"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:42:22.850Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.startTime":"2022-01-07T04:42:22.850Z"}
[32m[2022-01-07T04:42:22.850] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: Idle -> Enriching
[32m[2022-01-07T04:42:22.850] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:Enriching, size: 4
[2022-01-07T04:42:22.857Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:42:22.858Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Enriching)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Extracting)',
  [length]: 4
]
[2022-01-07T04:42:22.860Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:131 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB process_ingested_collection: cost gcp 202201 008C93-7B2B98-816781 COLLECTION: C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 
[2022-01-07T04:42:22.862Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[32m[2022-01-07T04:42:22.863] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"enrich","previous":"Idle","next":"Enriching"}
[32m[2022-01-07T04:42:22.863] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'enrich',
  previous: 'Idle',
  next: 'Enriching'
}
[32m[2022-01-07T04:42:22.863] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:42:22.864] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:42:22.865Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","attributes.period":202201,"attributes.jobID":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}:
[2022-01-07T04:42:22.866Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:94 --- Validating partition name => standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:42:22.866Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:122 --- Checking if partition record already exists in collection :: partition Name=> standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:42:22.866] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] getting partitions data!
[32m[2022-01-07T04:42:22.867] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] No mongo cache_promise found. creating the new promise for getting data from partitions collection.
[2022-01-07T04:42:22.869Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:168 --- Creating new partition :: partitionKey => PartitionKey {
  logicalName: 'standard_cost',
  physicalName: 'standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB',
  attributes: {
    period: 202201,
    jobID: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB'
  }
}
[2022-01-07T04:42:22.872Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:180 --- Partition Created :: Partition Name => standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:42:22.916Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:475 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich - asset accounts : ["brokerage-integrations","brokerage-product-management","cam-second-project","cost-asset-analytics","devops-hyperscaler-dev","esqa-icb-215715","hybrid-authorization","ibm-no-ops-portal","mcmp-actions-svt","mcmp-advanced-demo","mcmp-aiops-dev","mcmp-dev-discovery","mcmp-devops-intellingence","mcmp-eu-devops","mcmp-poc-demo","poc-demo-221215"]
[32m[2022-01-07T04:42:23.056] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 67878 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.056] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 67878 ::: NO refresh_token_promise, getting refreshToken [class URL]
[32m[2022-01-07T04:42:23.057] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 67878 ::: RefreshTokenCache.set TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.057] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 67878 ::: RefreshTokenCache.set in 1 ms
[2022-01-07T04:42:23.071Z] [61b9b81d9efc3e6b7da2283a] [INFO] CorePricingPolicies.js:123 --- Fetching pricing policies from core
[2022-01-07T04:42:23.083Z] [61b9b81d9efc3e6b7da2283a] [INFO] CurrencyConverter.js:430 --- Calling Core defaultCurrency API
[2022-01-07T04:42:23.089Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:175 --- Currency conversion not required
[2022-01-07T04:42:23.090Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:394 --- Filter for retrieving account mapping is :  {"providerName":"gcp","accountId":{"$in":["brokerage-integrations","brokerage-product-management","cam-second-project","cost-asset-analytics","devops-hyperscaler-dev","esqa-icb-215715","hybrid-authorization","ibm-no-ops-portal","mcmp-actions-svt","mcmp-advanced-demo","mcmp-aiops-dev","mcmp-dev-discovery","mcmp-devops-intellingence","mcmp-eu-devops","mcmp-poc-demo","poc-demo-221215","008C93-7B2B98-816781"]},"parentId":"008C93-7B2B98-816781"}
[2022-01-07T04:42:23.091Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:494 --- Account Mapping for collection: C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7, period: 202201, provider: gcp,
      Billing Account:008C93-7B2B98-816781 is :: BillingAccountMap: {"008C93-7B2B98-816781":"gcp"},
      AssetAccountMap: {"cost-asset-analytics":"gcp_asset","cam-second-project":null,"mcmp-poc-demo":null,"hybrid-authorization":null,"devops-hyperscaler-dev":null,"mcmp-aiops-dev":null,"mcmp-devops-intellingence":null,"mcmp-dev-discovery":null,"mcmp-advanced-demo":null,"brokerage-product-management":null,"brokerage-integrations":null,"ibm-no-ops-portal":null,"poc-demo-221215":null,"mcmp-actions-svt":null,"esqa-icb-215715":null,"mcmp-eu-devops":null}
[2022-01-07T04:42:23.092Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=brokerage-integrations
[32m[2022-01-07T04:42:23.092] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83431 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.092] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83431 ::: returning cached refresh_token_promise in 0 ms
[36m[2022-01-07T04:42:23.093] [DEBUG] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Query config value of key zeroCostFeature, URL: http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/zeroCostFeature
[32m[2022-01-07T04:42:23.097] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully retrieved config for key: zeroCostFeature = null
[32m[2022-01-07T04:42:23.097] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Set ConfigCache value: 61b9b81d9efc3e6b7da2283a-zeroCostFeature = null
[2022-01-07T04:42:23.097Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[32m[2022-01-07T04:42:23.098] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 36153 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.098] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 36153 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:42:23.102Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"configurationkey":"SHOW_DAILY_COST","configurationvalue":"false"}
[2022-01-07T04:42:23.103Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-SHOW_DAILY_COST = false
[2022-01-07T04:42:23.109Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.109] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[32m[2022-01-07T04:42:23.109] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83095 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.109] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 83095 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:42:23.114Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key lineItemType_ecam_attribute found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["lineItemType_ecam_attribute"]}
[2022-01-07T04:42:23.114Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-lineItemType_ecam_attribute = false
[32m[2022-01-07T04:42:23.114] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 82322 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.114] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 82322 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:42:23.120Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key ProductCode_ecam_attribute found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["ProductCode_ecam_attribute"]}
[2022-01-07T04:42:23.120Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-ProductCode_ecam_attribute = false
[32m[2022-01-07T04:42:23.120] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 39656 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.120] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 39656 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:42:23.128Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key account_guid_ecam_attribute found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["account_guid_ecam_attribute"]}
[2022-01-07T04:42:23.128Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-account_guid_ecam_attribute = false
[32m[2022-01-07T04:42:23.128] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 10700 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:42:23.128] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 10700 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:42:23.134Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key costType_ecam_attribute found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["costType_ecam_attribute"]}
[2022-01-07T04:42:23.134Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-costType_ecam_attribute = false
[2022-01-07T04:42:23.135Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.300Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=brokerage-product-management
[2022-01-07T04:42:23.300Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.304Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.304] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.305Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.318Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=cam-second-project
[2022-01-07T04:42:23.318Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.323Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.323] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.324Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.376Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=cost-asset-analytics
[2022-01-07T04:42:23.377Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.386Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.386] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.387Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.429Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=devops-hyperscaler-dev
[2022-01-07T04:42:23.429Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.435Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.435] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.436Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.485Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=esqa-icb-215715
[2022-01-07T04:42:23.485Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.491Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.492] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.492Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.518Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=hybrid-authorization
[2022-01-07T04:42:23.519Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.524Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.525] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.525Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.557Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=ibm-no-ops-portal
[2022-01-07T04:42:23.558Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.562Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.562] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.563Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.581Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-actions-svt
[2022-01-07T04:42:23.581Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.587Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.587] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.588Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.646Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-advanced-demo
[2022-01-07T04:42:23.646Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.651Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.651] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.653Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.667Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-aiops-dev
[2022-01-07T04:42:23.667Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.672Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.672] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.673Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.715Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-dev-discovery
[2022-01-07T04:42:23.715Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.722Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.722] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.723Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.765Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-devops-intellingence
[2022-01-07T04:42:23.765Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.769Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.769] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.770Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.809Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-eu-devops
[2022-01-07T04:42:23.809Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.815Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.815] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.816Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.828Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-poc-demo
[2022-01-07T04:42:23.828Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.832Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.832] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.833Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.865Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=poc-demo-221215
[2022-01-07T04:42:23.865Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:217 --- KEEP zeroCostFeature=null
[2022-01-07T04:42:23.870Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:250 --- ingestionStartDate::: 2022-01-07T04:41:41.834Z
[32m[2022-01-07T04:42:23.870] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 41
[2022-01-07T04:42:23.871Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.904Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=brokerage-integrations. Execution time => startTime=2022-01-07T04:42:23.092Z, endTime=2022-01-07T04:42:23.299Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.904Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=brokerage-product-management. Execution time => startTime=2022-01-07T04:42:23.299Z, endTime=2022-01-07T04:42:23.317Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.904Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=cam-second-project. Execution time => startTime=2022-01-07T04:42:23.317Z, endTime=2022-01-07T04:42:23.375Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=cost-asset-analytics. Execution time => startTime=2022-01-07T04:42:23.375Z, endTime=2022-01-07T04:42:23.429Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=devops-hyperscaler-dev. Execution time => startTime=2022-01-07T04:42:23.429Z, endTime=2022-01-07T04:42:23.484Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=esqa-icb-215715. Execution time => startTime=2022-01-07T04:42:23.485Z, endTime=2022-01-07T04:42:23.518Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=hybrid-authorization. Execution time => startTime=2022-01-07T04:42:23.518Z, endTime=2022-01-07T04:42:23.557Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=ibm-no-ops-portal. Execution time => startTime=2022-01-07T04:42:23.557Z, endTime=2022-01-07T04:42:23.581Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-actions-svt. Execution time => startTime=2022-01-07T04:42:23.581Z, endTime=2022-01-07T04:42:23.646Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-advanced-demo. Execution time => startTime=2022-01-07T04:42:23.646Z, endTime=2022-01-07T04:42:23.666Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.905Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-aiops-dev. Execution time => startTime=2022-01-07T04:42:23.666Z, endTime=2022-01-07T04:42:23.715Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-dev-discovery. Execution time => startTime=2022-01-07T04:42:23.715Z, endTime=2022-01-07T04:42:23.764Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-devops-intellingence. Execution time => startTime=2022-01-07T04:42:23.764Z, endTime=2022-01-07T04:42:23.809Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-eu-devops. Execution time => startTime=2022-01-07T04:42:23.809Z, endTime=2022-01-07T04:42:23.828Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=mcmp-poc-demo. Execution time => startTime=2022-01-07T04:42:23.828Z, endTime=2022-01-07T04:42:23.865Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=poc-demo-221215. Execution time => startTime=2022-01-07T04:42:23.865Z, endTime=2022-01-07T04:42:23.904Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.906Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:528 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 C_008C93_7B2B98_816781_LpmPHK7AlwN_2haXCThF7 to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB for assetAccount=%s startTime=2022-01-07T04:42:23.092Z, endTime=2022-01-07T04:42:23.904Z, elapsedTime=00:00:00, totalTime=00:00:00
[2022-01-07T04:42:23.907Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:639 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB processCost_billedAssets:create standard_asset_build: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB all gcp 202201 008C93-7B2B98-816781
[2022-01-07T04:42:23.912Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:42:23.919Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:654 --- finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB processCost_billedAssets:create standard_asset_build: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB all gcp 202201 008C93-7B2B98-816781. Execution time => startTime=2022-01-07T04:42:23.912Z, endTime=2022-01-07T04:42:23.919Z, elapsedTime=00:00:00
[2022-01-07T04:42:23.920Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:42:23.921Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=Enriching transition=Success nextState=EnrichCompleted changed=true
[2022-01-07T04:42:23.921Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"EnrichCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:42:23.921Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.endTime":"2022-01-07T04:42:23.921Z"}
[32m[2022-01-07T04:42:23.921] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: Enriching -> EnrichCompleted
[32m[2022-01-07T04:42:23.922] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:EnrichCompleted, size: 3
[2022-01-07T04:42:23.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:42:23.936Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Extracting)',
  [length]: 4
]
[32m[2022-01-07T04:42:23.937] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:42:23.944Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:823 --- Enriching children of job (jobType=cost,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0,provider=gcp,period=202201,billingAccount=008C93-7B2B98-816781) : pending childs=[]
[32m[2022-01-07T04:42:23.945] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"enrich","previous":"Enriching","next":"EnrichCompleted"}
[32m[2022-01-07T04:42:23.945] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'enrich',
  previous: 'Enriching',
  next: 'EnrichCompleted'
}
[32m[2022-01-07T04:42:23.945] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:42:23.946] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:43:01.235Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3", "type": "cost", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "", "status": "extract_failed", "period": "2021-12", "response_code": 500, "response": "no change in data", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "C_008C93_7B2B98_816781_z7V1s9k7HOfFakJlE3Hg8"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:43:01.240Z] [61b9b81d9efc3e6b7da2283a] [WARN] CAMIngestionJob.js:623 --- No change in cost data from extractor for (jobType=cost,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3,provider=gcp,period=202112,billingAccount=008C93-7B2B98-816781)
[2022-01-07T04:43:01.241Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:43:01.242Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 state=Enriching transition=Success nextState=EnrichCompleted changed=true
[2022-01-07T04:43:01.242Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"EnrichCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:43:01.242Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.endTime":"2022-01-07T04:43:01.242Z","state.execution_log.$[element].reason":"no change in data"}
[32m[2022-01-07T04:43:01.243] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3, transition: Enriching -> EnrichCompleted
[32m[2022-01-07T04:43:01.243] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3:EnrichCompleted, size: 2
[2022-01-07T04:43:01.253Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:43:01.254Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[2022-01-07T04:43:01.255Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:502 --- Update flag: NoChangeInData for job _id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, Execution log record _id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[32m[2022-01-07T04:43:01.263] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","operation":"enrich","previous":"Enriching","next":"EnrichCompleted"}
[32m[2022-01-07T04:43:01.264] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  operation: 'enrich',
  previous: 'Enriching',
  next: 'EnrichCompleted'
}
[32m[2022-01-07T04:43:01.264] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:43:01.265] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:43:01.270] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:43:01.272Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:823 --- Enriching children of job (jobType=cost,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3,provider=gcp,period=202112,billingAccount=008C93-7B2B98-816781) : pending childs=[]
[32m[2022-01-07T04:43:17.063] [INFO] AuthorizationManager.js - [39mRefreshTokenCache cache expired 61b9b81d9efc3e6b7da2283a:[object Promise]: {"hits":25,"misses":2,"keys":0,"ksize":0,"vsize":0} 
[32m[2022-01-07T04:43:22.670] [INFO] HealthManager.js - [39mProcessing Jobs
[32m[2022-01-07T04:43:22.670] [INFO] LockManager.js - [39msynchronize HEALTH_MANAGER global HealthManager:processJobs
[32m[2022-01-07T04:43:22.670] [INFO] LockManager.js - [39m[global] attempt lock acquire {"_id":{"moduleName":"HEALTH_MANAGER","lock_id":"HealthManager:processJobs"},"timestamp":{"$lte":1641530542670}}
[32m[2022-01-07T04:43:22.672] [INFO] LockManager.js - [39m[global] lock acquired, {"_id":{"moduleName":"HEALTH_MANAGER","lock_id":"HealthManager:processJobs"},"timestamp":{"$lte":1641530542670}}
[32m[2022-01-07T04:43:22.673] [INFO] HealthManager.js - [39mDeleting the active job references:  Set {}
[32m[2022-01-07T04:43:22.675] [INFO] HealthManager.js - [39mJobs:  Map {}
[32m[2022-01-07T04:43:22.675] [INFO] LockManager.js - [39m[global] attempt lock free  HealthManager:processJobs
[32m[2022-01-07T04:43:22.676] [INFO] LockManager.js - [39m[global] lock freed: HealthManager:processJobs
[2022-01-07T04:44:25.359Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "asset", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "extract_completed", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:44:25.359Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_completed
[2022-01-07T04:44:25.443Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "asset", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "gpd_created", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:44:25.445Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:584 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB - Extract complete: asset:202201:gcp:008C93-7B2B98-816781:cost-asset-analytics, count: 553
[2022-01-07T04:44:25.446Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:44:25.447Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=Extracting transition=Success nextState=Ingested changed=true
[2022-01-07T04:44:25.447Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Ingested"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:44:25.447Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.endTime":"2022-01-07T04:44:25.447Z"}
[32m[2022-01-07T04:44:25.447] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: Extracting -> Ingested
[32m[2022-01-07T04:44:25.447] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:Ingested, size: 1
[2022-01-07T04:44:25.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:44:25.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Ingested)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[32m[2022-01-07T04:44:25.453] [INFO] LockManager.js - [39msynchronize CAM_INGESTION 61b9b81d9efc3e6b7da2283a getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:44:25.453] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530605453}}
[32m[2022-01-07T04:44:25.455] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530605453}}
[32m[2022-01-07T04:44:25.455] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:44:25.455] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"ingest","previous":"Extracting","next":"Ingested"}
[32m[2022-01-07T04:44:25.455] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'ingest',
  previous: 'Extracting',
  next: 'Ingested'
}
[32m[2022-01-07T04:44:25.456] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:44:25.456] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:44:25.457Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:784 --- Finding related of (type=asset,provider=gcp,          billingAccount=008C93-7B2B98-816781) (related=[])
[32m[2022-01-07T04:44:25.457] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:44:25.458] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: getRelatedStatus_008C93-7B2B98-816781_202201
[2022-01-07T04:44:25.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:44:25.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=Idle transition=InvokeEnrich nextState=Enriching changed=true
[2022-01-07T04:44:25.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Enriching"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:44:25.459Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.startTime":"2022-01-07T04:44:25.459Z"}
[32m[2022-01-07T04:44:25.459] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: Idle -> Enriching
[32m[2022-01-07T04:44:25.460] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:Enriching, size: 2
[2022-01-07T04:44:25.461Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "metric", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "extract_started", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:44:25.462Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_started
[2022-01-07T04:44:25.469Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:44:25.470Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Enriching)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[2022-01-07T04:44:25.471Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:131 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB process_ingested_collection: asset gcp 202201 008C93-7B2B98-816781 COLLECTION: A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw 
[2022-01-07T04:44:25.476Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:394 --- Filter for retrieving account mapping is :  {"providerName":"gcp","accountId":{"$in":["cost-asset-analytics","008C93-7B2B98-816781"]},"parentId":"008C93-7B2B98-816781"}
[2022-01-07T04:44:25.477Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:494 --- Account Mapping for collection: A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw, period: 202201, provider: gcp,
      Billing Account:008C93-7B2B98-816781 is :: BillingAccountMap: {"008C93-7B2B98-816781":"gcp"},
      AssetAccountMap: {"cost-asset-analytics":"gcp_asset"}
[2022-01-07T04:44:25.477Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:500 --- started 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw to standard_asset_out cost-asset-analytics
[2022-01-07T04:44:25.478Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[32m[2022-01-07T04:44:25.505] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"enrich","previous":"Idle","next":"Enriching"}
[32m[2022-01-07T04:44:25.505] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'enrich',
  previous: 'Idle',
  next: 'Enriching'
}
[32m[2022-01-07T04:44:25.505] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:44:25.505] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:44:25.597Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:526 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw to standard_asset_out cost-asset-analytics. Execution time => startTime=2022-01-07T04:44:25.477Z, endTime=2022-01-07T04:44:25.596Z, elapsedTime=00:00:00
[2022-01-07T04:44:25.597Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:528 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB proc_ingest_to_temp_col:enrich from 202201 A_cost_asset_analytics_c9nvUBlfAtPDsTGf6uitw to standard_asset_out startTime=2022-01-07T04:44:25.477Z, endTime=2022-01-07T04:44:25.596Z, elapsedTime=00:00:00, totalTime=00:00:00
[2022-01-07T04:44:25.618Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:673 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB merge_discovered_billed_assets: standard_asset_out to standard_asset_build gcp 202201 008C93-7B2B98-816781 cost-asset-analytics
[2022-01-07T04:44:25.618Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=false,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:44:25.901Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:695 --- finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB merge_discovered_billed_assets: standard_asset_out to standard_asset_build gcp 202201 008C93-7B2B98-816781 cost-asset-analytics
[2022-01-07T04:44:25.901Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:717 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB decommission_assets in standard_asset_build that do not exist in standard_asset_out gcp  202201 008C93-7B2B98-816781 cost-asset-analytics
[2022-01-07T04:44:25.948Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] enrichment.js:435 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB decommission_assets in standard_asset_build that do not exist in standard_asset_out gcp  202201 008C93-7B2B98-816781 cost-asset-analytics:run_pipeline_stream_bulk_update:onfinish to standard_asset_build, count=0
[2022-01-07T04:44:25.948Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:758 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB decommission_assets in standard_asset_build that do not exist in standard_asset_out gcp  202201 008C93-7B2B98-816781 cost-asset-analytics updated=0
[2022-01-07T04:44:25.948Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:779 --- tempCollection:: temp_tags_gcp_202201_cost-asset-analytics
[2022-01-07T04:44:25.949Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:785 --- Running exec_pipeline: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB copy_merged_tags_to_temp from standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB/standard_asset_out to temp_tags_gcp_202201_cost-asset-analytics (gcp 202201 cost-asset-analytics)
[2022-01-07T04:44:25.949Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:44:25.980Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:787 --- res of exec_pipeline:: true
[2022-01-07T04:44:25.980Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:788 --- Finished : 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB copy_merged_tags_to_temp from standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB/standard_asset_out to temp_tags_gcp_202201_cost-asset-analytics (gcp 202201 cost-asset-analytics)
[2022-01-07T04:44:25.980Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:785 --- Running exec_pipeline: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB copy_merged_tags_to_cost from temp_tags_gcp_202201_cost-asset-analytics to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB (temp_tags_gcp_202201_cost-asset-analytics gcp 202201) cost-asset-analytics
[2022-01-07T04:44:25.980Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:44:25.981Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:787 --- res of exec_pipeline:: true
[2022-01-07T04:44:25.981Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:788 --- Finished : 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB copy_merged_tags_to_cost from temp_tags_gcp_202201_cost-asset-analytics to standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB (temp_tags_gcp_202201_cost-asset-analytics gcp 202201) cost-asset-analytics
[2022-01-07T04:44:25.981Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:823 --- Dropping the temp collection after executing pipelines: 
[2022-01-07T04:44:25.984Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:829 --- Finished : 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB copy_asset_tags_to_costs (gcp, 202201 cost-asset-analytics)
[2022-01-07T04:44:25.984Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:44:25.984Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=Enriching transition=Success nextState=EnrichCompleted changed=true
[2022-01-07T04:44:25.984Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"EnrichCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:44:25.984Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.endTime":"2022-01-07T04:44:25.984Z"}
[32m[2022-01-07T04:44:25.984] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: Enriching -> EnrichCompleted
[32m[2022-01-07T04:44:25.984] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:EnrichCompleted, size: 1
[2022-01-07T04:44:25.989Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:44:25.990Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Extracting)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[32m[2022-01-07T04:44:25.990] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:44:25.991Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:823 --- Enriching children of job (jobType=asset,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics,provider=gcp,period=202201,billingAccount=008C93-7B2B98-816781,assetAccount=cost-asset-analytics) : pending childs=[]
[32m[2022-01-07T04:44:25.991] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"enrich","previous":"Enriching","next":"EnrichCompleted"}
[32m[2022-01-07T04:44:25.991] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'enrich',
  previous: 'Enriching',
  next: 'EnrichCompleted'
}
[32m[2022-01-07T04:44:25.991] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:44:25.991] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:45:12.303Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "metric", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "extract_completed", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:45:12.303Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:562 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Ignoring event: extract_completed
[2022-01-07T04:45:12.315Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] CAMIngestionJob.js:511 --- onEvent:tenant-id 61b9b81d9efc3e6b7da2283a onEvent: {"job_id": "61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0", "type": "metric", "billing_acount_number": "008C93-7B2B98-816781", "asset_account_number": "cost-asset-analytics", "status": "gpd_created", "period": "", "response_code": 200, "response": "success", "filepath": "", "mongodb": {"db": "61b9b81d9efc3e6b7da2283a_ecam", "collection": "M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf"}, "tenant-id": "61b9b81d9efc3e6b7da2283a"}
[2022-01-07T04:45:12.317Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:584 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB - Extract complete: metric:202201:gcp:008C93-7B2B98-816781, count: 101
[2022-01-07T04:45:12.318Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.318Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=Extracting transition=Success nextState=Ingested changed=true
[2022-01-07T04:45:12.318Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"ingest","state":"Ingested"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.318Z","state.execution_log.$[element].ingestionStagesTimeLog.Extraction.endTime":"2022-01-07T04:45:12.318Z"}
[32m[2022-01-07T04:45:12.319] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: Extracting -> Ingested
[32m[2022-01-07T04:45:12.319] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:Ingested, size: 0
[2022-01-07T04:45:12.323Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:45:12.323Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Ingested)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[32m[2022-01-07T04:45:12.323] [INFO] LockManager.js - [39msynchronize CAM_INGESTION 61b9b81d9efc3e6b7da2283a getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:45:12.324] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock acquire {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530652324}}
[32m[2022-01-07T04:45:12.325] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"ingest","previous":"Extracting","next":"Ingested"}
[32m[2022-01-07T04:45:12.325] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'ingest',
  previous: 'Extracting',
  next: 'Ingested'
}
[32m[2022-01-07T04:45:12.325] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.325] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:12.326] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock acquired, {"_id":{"moduleName":"CAM_INGESTION","lock_id":"getRelatedStatus_008C93-7B2B98-816781_202201"},"timestamp":{"$lte":1641530652324}}
[32m[2022-01-07T04:45:12.327] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.328] [INFO] FeatureFlag.js - [39mFeatureFlagCache cache expired 61b9b81d9efc3e6b7da2283a-BCM5224_IngestionResiliency:[object Promise]: {"hits":114,"misses":14,"keys":13,"ksize":631,"vsize":1040} 
[32m[2022-01-07T04:45:12.328] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 45293 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.328] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 45293 ::: NO refresh_token_promise, getting refreshToken [class URL]
[32m[2022-01-07T04:45:12.329] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 45293 ::: RefreshTokenCache.set TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.329] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 45293 ::: RefreshTokenCache.set in 1 ms
[2022-01-07T04:45:12.332Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:784 --- Finding related of (type=metric,provider=gcp,          billingAccount=008C93-7B2B98-816781) (related=[])
[32m[2022-01-07T04:45:12.332] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] attempt lock free  getRelatedStatus_008C93-7B2B98-816781_202201
[32m[2022-01-07T04:45:12.333] [INFO] LockManager.js - [39m[61b9b81d9efc3e6b7da2283a] lock freed: getRelatedStatus_008C93-7B2B98-816781_202201
[2022-01-07T04:45:12.334Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.334Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=Idle transition=InvokeEnrich nextState=Enriching changed=true
[2022-01-07T04:45:12.334Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Enriching"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.334Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.startTime":"2022-01-07T04:45:12.334Z"}
[32m[2022-01-07T04:45:12.334] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: Idle -> Enriching
[32m[2022-01-07T04:45:12.334] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:Enriching, size: 1
[2022-01-07T04:45:12.341Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:45:12.341Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Enriching)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[2022-01-07T04:45:12.344Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:131 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB process_ingested_collection: metric gcp 202201 008C93-7B2B98-816781 COLLECTION: M_cost_asset_analytics_PjgjhQMp2EMJqMaC1Claf 
[32m[2022-01-07T04:45:12.346] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 79968 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.346] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 79968 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:12.349Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM5224_IngestionResiliency found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM5224_IngestionResiliency"]}
[2022-01-07T04:45:12.349Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM5224_IngestionResiliency = true
[2022-01-07T04:45:12.351Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM4110_SHOW_SUPPORTING_METRICS found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM4110_SHOW_SUPPORTING_METRICS"]}
[2022-01-07T04:45:12.351Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM4110_SHOW_SUPPORTING_METRICS = false
[32m[2022-01-07T04:45:12.356] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 72021 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.356] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 72021 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:12.361Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM5392_METRIC_PIPELINE_WIRING found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM5392_METRIC_PIPELINE_WIRING"]}
[2022-01-07T04:45:12.361Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM5392_METRIC_PIPELINE_WIRING = false
[2022-01-07T04:45:12.361Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:45:12.361Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[2022-01-07T04:45:12.362Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=null
[32m[2022-01-07T04:45:12.368] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"enrich","previous":"Idle","next":"Enriching"}
[32m[2022-01-07T04:45:12.369] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'enrich',
  previous: 'Idle',
  next: 'Enriching'
}
[32m[2022-01-07T04:45:12.369] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.369] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:45:12.398Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:614 --- Metric pipeline 'GCP Cloud SQL Instance' for (jobType=metric,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M,provider=gcp,period=202201,billingAccount=008C93-7B2B98-816781,assetAccount=cost-asset-analytics) is successful. Execution time => startTime=2022-01-07T04:45:12.361Z, endTime=2022-01-07T04:45:12.380Z, elapsedTime=00:00:00
[2022-01-07T04:45:12.399Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:614 --- Metric pipeline 'GCP Compute Disk' for (jobType=metric,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M,provider=gcp,period=202201,billingAccount=008C93-7B2B98-816781,assetAccount=cost-asset-analytics) is successful. Execution time => startTime=2022-01-07T04:45:12.361Z, endTime=2022-01-07T04:45:12.380Z, elapsedTime=00:00:00
[2022-01-07T04:45:12.399Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:614 --- Metric pipeline 'GCP Compute Engine Instance' for (jobType=metric,jobId=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M,provider=gcp,period=202201,billingAccount=008C93-7B2B98-816781,assetAccount=cost-asset-analytics) is successful. Execution time => startTime=2022-01-07T04:45:12.362Z, endTime=2022-01-07T04:45:12.398Z, elapsedTime=00:00:00
[2022-01-07T04:45:12.400Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.400Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=Enriching transition=Success nextState=EnrichCompleted changed=true
[2022-01-07T04:45:12.400Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"EnrichCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.400Z","state.execution_log.$[element].ingestionStagesTimeLog.Enrichment.endTime":"2022-01-07T04:45:12.400Z"}
[32m[2022-01-07T04:45:12.400] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: Enriching -> EnrichCompleted
[32m[2022-01-07T04:45:12.401] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:EnrichCompleted, size: 0
[2022-01-07T04:45:12.406Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:45:12.406Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  [length]: 4
]
[32m[2022-01-07T04:45:12.407] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"enrich","previous":"Enriching","next":"EnrichCompleted"}
[32m[2022-01-07T04:45:12.407] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'enrich',
  previous: 'Enriching',
  next: 'EnrichCompleted'
}
[32m[2022-01-07T04:45:12.407] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.408] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:45:12.414Z] [61b9b81d9efc3e6b7da2283a] [WARN] CAMIngestionJob.js:492 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB finalStarted flag set, finalization will continue
[2022-01-07T04:45:12.414Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:188 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Final Enrichment step!
[32m[2022-01-07T04:45:12.414] [INFO] FeatureFlag.js - [39mFeatureFlagCache cache expired 61b9b81d9efc3e6b7da2283a-BCM4384_Partition:[object Promise]: {"hits":116,"misses":17,"keys":15,"ksize":752,"vsize":1200} 
[32m[2022-01-07T04:45:12.414] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 65718 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.414] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 65718 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:12.418Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM4384_Partition found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM4384_Partition"]}
[2022-01-07T04:45:12.418Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM4384_Partition = true
[2022-01-07T04:45:12.420Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:179 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Marking partitions of follows periods as 'Ingested' : 
[2022-01-07T04:45:12.420Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:203 --- Update Partition State :: Partition Name => standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:12.421Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:203 --- Update Partition State :: Partition Name => standard_cost_202112_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:12.422Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:245 --- Partition State Updated :: Partition Name => standard_cost_202112_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:12.422Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:245 --- Partition State Updated :: Partition Name => standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
*************************acStartsperiod [
  {
    jobid: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
    jobIdsCostSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0'
    ],
    jobIdsCostFail: [],
    jobIdsAssetSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics'
    ],
    jobIdsAssetFail: [],
    jobIdsMetricSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M'
    ],
    jobIdsMetricFail: [],
    startPeriod: 202112,
    failedPeriodList: [],
    continueOnError: false,
    ingestionStartDate: 2022-01-07T04:41:41.834Z,
    providerName: 'gcp',
    billingAccount: '008C93-7B2B98-816781',
    success: true
  }
]
[2022-01-07T04:45:12.425Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:376 --- acctStartPeriods before removing periods with no change in data length greater************************ [{"jobid":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","jobIdsCostSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0"],"jobIdsCostFail":[],"jobIdsAssetSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics"],"jobIdsAssetFail":[],"jobIdsMetricSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M"],"jobIdsMetricFail":[],"startPeriod":202112,"failedPeriodList":[],"continueOnError":false,"ingestionStartDate":"2022-01-07T04:41:41.834Z","providerName":"gcp","billingAccount":"008C93-7B2B98-816781","success":true}]
************resultsinUpdateStartPeriodinConside[{"accounts":{"gcp-008C93-7B2B98-816781":202201}}]
[2022-01-07T04:45:12.426Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:379 --- ************************ after update start period acctStartPeriods after removing periods with no change in data : [{"jobid":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","jobIdsCostSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0"],"jobIdsCostFail":[],"jobIdsAssetSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics"],"jobIdsAssetFail":[],"jobIdsMetricSuccess":["61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M"],"jobIdsMetricFail":[],"startPeriod":202201,"failedPeriodList":[],"continueOnError":false,"ingestionStartDate":"2022-01-07T04:41:41.834Z","providerName":"gcp","billingAccount":"008C93-7B2B98-816781","success":true}]
************************accounJboids [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M'
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: true,
  enrichmentCompleted: true,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
    providerName: 'gcp',
    period: 202112,
    startDate: '2022-01-07T04:41:48.323Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: false,
    metric: false,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'EnrichCompleted' },
    ingestionStagesTimeLog: { Extraction: [Object], Enrichment: [Object] },
    operation_timestamp: 2022-01-07T04:43:01.242Z,
    published: true,
    reason: 'no change in data',
    NoChangeInData: true
  }
}
[2022-01-07T04:45:12.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.429Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 state=EnrichCompleted transition=InvokeFinalize nextState=Finalizing changed=true
[2022-01-07T04:45:12.429Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Finalizing"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.429Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.startTime":"2022-01-07T04:45:12.429Z"}
[32m[2022-01-07T04:45:12.429] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3, transition: EnrichCompleted -> Finalizing
[32m[2022-01-07T04:45:12.429] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3:Finalizing, size: 1
[2022-01-07T04:45:12.433Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:45:12.433Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  [length]: 4
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: true,
    metric: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'EnrichCompleted' },
    ingestionStagesTimeLog: { Extraction: [Object], Enrichment: [Object] },
    operation_timestamp: 2022-01-07T04:42:23.921Z,
    published: true
  }
}
[2022-01-07T04:45:12.435Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.436Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=EnrichCompleted transition=InvokeFinalize nextState=Finalizing changed=true
[2022-01-07T04:45:12.436Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Finalizing"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.436Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.startTime":"2022-01-07T04:45:12.436Z"}
[32m[2022-01-07T04:45:12.436] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: EnrichCompleted -> Finalizing
[32m[2022-01-07T04:45:12.436] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:Finalizing, size: 2
[32m[2022-01-07T04:45:12.437] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","operation":"enrich","previous":"EnrichCompleted","next":"Finalizing"}
[32m[2022-01-07T04:45:12.437] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  operation: 'enrich',
  previous: 'EnrichCompleted',
  next: 'Finalizing'
}
[32m[2022-01-07T04:45:12.437] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.437] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[2022-01-07T04:45:12.442Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:45:12.443Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  [length]: 4
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'EnrichCompleted' },
    ingestionStagesTimeLog: { Extraction: [Object], Enrichment: [Object] },
    operation_timestamp: 2022-01-07T04:44:25.984Z
  }
}
[2022-01-07T04:45:12.445Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.446Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=EnrichCompleted transition=InvokeFinalize nextState=Finalizing changed=true
[2022-01-07T04:45:12.446Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Finalizing"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.446Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.startTime":"2022-01-07T04:45:12.446Z"}
[32m[2022-01-07T04:45:12.446] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: EnrichCompleted -> Finalizing
[32m[2022-01-07T04:45:12.446] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:Finalizing, size: 3
[2022-01-07T04:45:12.451Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:45:12.451Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (EnrichCompleted)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  [length]: 4
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    metric: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'EnrichCompleted' },
    ingestionStagesTimeLog: { Extraction: [Object], Enrichment: [Object] },
    operation_timestamp: 2022-01-07T04:45:12.400Z
  }
}
[2022-01-07T04:45:12.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:12.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=EnrichCompleted transition=InvokeFinalize nextState=Finalizing changed=true
[2022-01-07T04:45:12.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"Finalizing"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:12.453Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.startTime":"2022-01-07T04:45:12.453Z"}
[32m[2022-01-07T04:45:12.453] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: EnrichCompleted -> Finalizing
[32m[2022-01-07T04:45:12.453] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:Finalizing, size: 4
[2022-01-07T04:45:12.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:45:12.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 202112 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  [length]: 4
]
[2022-01-07T04:45:12.460Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:224 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB enrich_ageDays: {
  jobid: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  jobIdsCostSuccess: [
    '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
    '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
    [length]: 2
  ],
  jobIdsCostFail: [ [length]: 0 ],
  jobIdsAssetSuccess: [
    '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
    [length]: 1
  ],
  jobIdsAssetFail: [ [length]: 0 ],
  jobIdsMetricSuccess: [
    '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
    [length]: 1
  ],
  jobIdsMetricFail: [ [length]: 0 ],
  startPeriod: 202201,
  failedPeriodList: [ [length]: 0 ],
  continueOnError: false,
  ingestionStartDate: 2022-01-07T04:41:41.834Z,
  providerName: 'gcp',
  billingAccount: '008C93-7B2B98-816781',
  success: true
}
[2022-01-07T04:45:12.460Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1147 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]::Final period list for age days => [202112,202201]
[2022-01-07T04:45:12.461Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1161 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781 202201, asset accounts : ["cost-asset-analytics"]
[2022-01-07T04:45:12.462Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] enrichment.js:1113 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781 202201 cost-asset-analytics updating...
[32m[2022-01-07T04:45:12.485] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"enrich","previous":"EnrichCompleted","next":"Finalizing"}
[32m[2022-01-07T04:45:12.485] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'enrich',
  previous: 'EnrichCompleted',
  next: 'Finalizing'
}
[32m[2022-01-07T04:45:12.485] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"enrich","previous":"EnrichCompleted","next":"Finalizing"}
[32m[2022-01-07T04:45:12.485] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'enrich',
  previous: 'EnrichCompleted',
  next: 'Finalizing'
}
[32m[2022-01-07T04:45:12.485] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"enrich","previous":"EnrichCompleted","next":"Finalizing"}
[32m[2022-01-07T04:45:12.485] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'enrich',
  previous: 'EnrichCompleted',
  next: 'Finalizing'
}
[32m[2022-01-07T04:45:12.485] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.486] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:12.486] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:12.486] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:12.486] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:12.486] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:12.613Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] enrichment.js:435 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781 202201 cost-asset-analytics:run_pipeline_stream_bulk_update:onfinish to standard_asset_build, count=0
[2022-01-07T04:45:12.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1173 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781 202201 cost-asset-analytics updated=0. Execution time => startTime=2022-01-07T04:45:12.461Z, endTime=2022-01-07T04:45:12.613Z, elapsedTime=00:00:00
[2022-01-07T04:45:12.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1179 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781 202201, totalUpdated=0, startTime=2022-01-07T04:45:12.461Z, endTime=2022-01-07T04:45:12.613Z, elapsedTime=00:00:00, totalTime=00:00:00
[2022-01-07T04:45:12.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:1182 --- Finished 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:setStartDateAgeDays: gcp 008C93-7B2B98-816781, totalUpdated for all periods=0
[2022-01-07T04:45:12.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:226 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]:: Successfully set start age days for periods => [202201]
[2022-01-07T04:45:12.614Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:234 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB post_process_merge:cost: provider gcp period 202201 account 008C93-7B2B98-816781 
[32m[2022-01-07T04:45:12.614] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90064 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.615] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90064 ::: returning cached refresh_token_promise in 1 ms
[36m[2022-01-07T04:45:12.615] [DEBUG] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Query config value of key PIPELINE_TIMEOUT, URL: http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/PIPELINE_TIMEOUT
[32m[2022-01-07T04:45:12.619] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully retrieved config for key: PIPELINE_TIMEOUT = 7200000
[32m[2022-01-07T04:45:12.619] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Set ConfigCache value: 61b9b81d9efc3e6b7da2283a-PIPELINE_TIMEOUT = 7200000
[32m[2022-01-07T04:45:12.621] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 16263 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.621] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 16263 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:12.621Z] [61b9b81d9efc3e6b7da2283a] [INFO] CorePricingPolicies.js:123 --- Fetching pricing policies from core
[2022-01-07T04:45:12.647Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=7200000
[2022-01-07T04:45:12.693Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=7200000
[2022-01-07T04:45:12.733Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:963 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessMerge completed successfully from standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB gcp 202201 008C93-7B2B98-816781 cost. Execution time => undefined
[2022-01-07T04:45:12.733Z] [61b9b81d9efc3e6b7da2283a] [INFO] InvokeEnrichment.js:239 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB post_process_merge:asset: provider gcp period 202201 account 008C93-7B2B98-816781 
[32m[2022-01-07T04:45:12.734] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 24774 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:12.735] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 24774 ::: returning cached refresh_token_promise in 1 ms
[2022-01-07T04:45:12.735Z] [61b9b81d9efc3e6b7da2283a] [INFO] CorePricingPolicies.js:123 --- Fetching pricing policies from core
[2022-01-07T04:45:12.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:898 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Copying pricing rule cost from std_cost to asset_build (gcp 202201 008C93-7B2B98-816781)
[2022-01-07T04:45:12.745Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=true,timeout=7200000
[2022-01-07T04:45:12.752Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:908 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Copying pricing rule cost from std_cost to asset_build (gcp 202201 008C93-7B2B98-816781), time taken : startTime=2022-01-07T04:45:12.745Z, endTime=2022-01-07T04:45:12.752Z, elapsedTime=00:00:00
[2022-01-07T04:45:12.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.016Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichment.js:963 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessMerge completed successfully from standard_asset_build gcp 202201 008C93-7B2B98-816781 asset. Execution time => startTime=2022-01-07T04:45:12.753Z, endTime=2022-01-07T04:45:13.015Z, elapsedTime=00:00:00
************************finializedaccounts [
  {
    jobid: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
    jobIdsCostSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0'
    ],
    jobIdsCostFail: [],
    jobIdsAssetSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics'
    ],
    jobIdsAssetFail: [],
    jobIdsMetricSuccess: [
      '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M'
    ],
    jobIdsMetricFail: [],
    startPeriod: 202201,
    failedPeriodList: [],
    continueOnError: false,
    ingestionStartDate: 2022-01-07T04:41:41.834Z,
    providerName: 'gcp',
    billingAccount: '008C93-7B2B98-816781',
    success: true
  }
]
[32m[2022-01-07T04:45:13.017] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
************************jobStatus {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  state: { execution_log: [ [Object], [Object], [Object], [Object] ] },
  ingestionStartDate: 2022-01-07T04:41:41.834Z,
  job_definition_id: null,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false
}
[2022-01-07T04:45:13.019Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1542 --- Copy partition data with resiliency...
[2022-01-07T04:45:13.022Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1555 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]::Period account map => {
  '202201': {
    billingAccounts: [ '008C93-7B2B98-816781', [length]: 1 ],
    status: 'Started'
  }
}
[2022-01-07T04:45:13.023Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1556 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]::Period wise accounts in system => {
  '202012': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202101': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202102': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202103': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202104': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202105': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202106': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202107': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202108': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202109': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202110': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202111': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202112': [ '008C93-7B2B98-816781', [length]: 1 ],
  '202201': [ '008C93-7B2B98-816781', [length]: 1 ]
}
(node:1) DeprecationWarning: collection.update is deprecated. Use updateOne, updateMany, or bulkWrite instead.
[2022-01-07T04:45:13.028Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:13.029Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active","attributes.period":202201}:
[2022-01-07T04:45:13.029Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1613 --- No copy required for this period: 202201
[2022-01-07T04:45:13.029Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:1679 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating copy task status for 202201 : {"billingAccounts":["008C93-7B2B98-816781"],"status":"Started"} as Success
************************accounJboids [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M'
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: false,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
    providerName: 'gcp',
    period: 202112,
    startDate: '2022-01-07T04:41:48.323Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: false,
    metric: false,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'Finalizing' },
    ingestionStagesTimeLog: {
      Extraction: [Object],
      Enrichment: [Object],
      Finalization: [Object]
    },
    operation_timestamp: 2022-01-07T04:45:12.429Z,
    published: true,
    reason: 'no change in data',
    NoChangeInData: true
  }
}
[2022-01-07T04:45:13.038Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:13.038Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 state=Finalizing transition=Success nextState=FinalizeCompleted changed=true
[2022-01-07T04:45:13.038Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"FinalizeCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:13.038Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.endTime":"2022-01-07T04:45:13.038Z","state.execution_log.$[element].endDate":"2022-01-07T04:45:13.038Z","state.execution_log.$[element].Error":null}
[32m[2022-01-07T04:45:13.038] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3, transition: Finalizing -> FinalizeCompleted
[32m[2022-01-07T04:45:13.038] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3:FinalizeCompleted, size: 3
[2022-01-07T04:45:13.043Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3
[2022-01-07T04:45:13.043Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 202201 gcp 008C93-7B2B98-816781 cost (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Finalizing)',
  [length]: 3
]
[32m[2022-01-07T04:45:13.045] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3","operation":"enrich","previous":"Finalizing","next":"FinalizeCompleted"}
[32m[2022-01-07T04:45:13.045] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:3',
  operation: 'enrich',
  previous: 'Finalizing',
  next: 'FinalizeCompleted'
}
[32m[2022-01-07T04:45:13.045] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:13.045] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: true,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: true,
    metric: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'Finalizing' },
    ingestionStagesTimeLog: {
      Extraction: [Object],
      Enrichment: [Object],
      Finalization: [Object]
    },
    operation_timestamp: 2022-01-07T04:45:12.436Z,
    published: true
  }
}
[2022-01-07T04:45:13.047Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:13.047Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 state=Finalizing transition=Success nextState=FinalizeCompleted changed=true
[2022-01-07T04:45:13.047Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0 $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"FinalizeCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:13.047Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.endTime":"2022-01-07T04:45:13.047Z","state.execution_log.$[element].endDate":"2022-01-07T04:45:13.047Z","state.execution_log.$[element].Error":null}
[32m[2022-01-07T04:45:13.047] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0, transition: Finalizing -> FinalizeCompleted
[32m[2022-01-07T04:45:13.047] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:FinalizeCompleted, size: 2
[2022-01-07T04:45:13.053Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0
[2022-01-07T04:45:13.053Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics 202201 gcp 008C93-7B2B98-816781 asset cost-asset-analytics (Finalizing)',
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Finalizing)',
  [length]: 2
]
[32m[2022-01-07T04:45:13.054] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0","operation":"enrich","previous":"Finalizing","next":"FinalizeCompleted"}
[32m[2022-01-07T04:45:13.054] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0',
  operation: 'enrich',
  previous: 'Finalizing',
  next: 'FinalizeCompleted'
}
[32m[2022-01-07T04:45:13.055] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:13.056] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: true,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    asset: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'Finalizing' },
    ingestionStagesTimeLog: {
      Extraction: [Object],
      Enrichment: [Object],
      Finalization: [Object]
    },
    operation_timestamp: 2022-01-07T04:45:12.446Z
  }
}
[2022-01-07T04:45:13.057Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:13.057Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics state=Finalizing transition=Success nextState=FinalizeCompleted changed=true
[2022-01-07T04:45:13.057Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"FinalizeCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:13.057Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.endTime":"2022-01-07T04:45:13.057Z","state.execution_log.$[element].endDate":"2022-01-07T04:45:13.057Z","state.execution_log.$[element].Error":null}
[32m[2022-01-07T04:45:13.057] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics, transition: Finalizing -> FinalizeCompleted
[32m[2022-01-07T04:45:13.058] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics:FinalizeCompleted, size: 1
[2022-01-07T04:45:13.062Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics
[2022-01-07T04:45:13.063Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [
  '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M 202201 gcp 008C93-7B2B98-816781 metric cost-asset-analytics (Finalizing)',
  [length]: 1
]
************************jobrec {
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  job: { operations: [ 'ingest', 'enrich' ] },
  hasCurrencyConversion: true,
  success: false,
  partialSuccess: true,
  completed: false,
  completedSiliently: false,
  enrichmentCompleted: false,
  execution_log: {
    _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
    providerName: 'gcp',
    period: 202201,
    startDate: '2022-01-07T04:41:48.322Z',
    billingAccount: '008C93-7B2B98-816781',
    cost: true,
    metric: true,
    extract: [ [Object] ],
    operation: { _id: 'enrich', state: 'Finalizing' },
    ingestionStagesTimeLog: {
      Extraction: [Object],
      Enrichment: [Object],
      Finalization: [Object]
    },
    operation_timestamp: 2022-01-07T04:45:12.453Z
  }
}
[2022-01-07T04:45:13.065Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:23 --- StateMachineManager::StateMachineManager 
[2022-01-07T04:45:13.065Z] [61b9b81d9efc3e6b7da2283a] [INFO] EnrichmentManager.js:319 --- transitionState: execution_log_id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M state=Finalizing transition=Success nextState=FinalizeCompleted changed=true
[2022-01-07T04:45:13.065Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:104 --- persistState: id=61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M $set={"state.execution_log.$[element].operation":{"_id":"enrich","state":"FinalizeCompleted"},"state.execution_log.$[element].operation_timestamp":"2022-01-07T04:45:13.065Z","state.execution_log.$[element].ingestionStagesTimeLog.Finalization.endTime":"2022-01-07T04:45:13.065Z","state.execution_log.$[element].endDate":"2022-01-07T04:45:13.065Z","state.execution_log.$[element].Error":null}
[32m[2022-01-07T04:45:13.065] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M, transition: Finalizing -> FinalizeCompleted
[32m[2022-01-07T04:45:13.065] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M:FinalizeCompleted, size: 0
[2022-01-07T04:45:13.071Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:131 --- State persisted in state machine id :: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M
[2022-01-07T04:45:13.072Z] [61b9b81d9efc3e6b7da2283a] [INFO] StateMachineManager.js:132 --- persistState:pending_jobs : [ [length]: 0 ]
[2022-01-07T04:45:13.073Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:419 --- Accounts successfully finalized [["gcp","008C93-7B2B98-816781"]]
[32m[2022-01-07T04:45:13.073] [INFO] EnrichmentManager.js - [39mjobPubState:state:info: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB completed Enrichment
[32m[2022-01-07T04:45:13.073] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:13.076Z] [61b9b81d9efc3e6b7da2283a] [INFO] CAMIngestionJob.js:207 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB ******************** Enrichment finished without error!
[32m[2022-01-07T04:45:13.076] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 33279 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.076] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 33279 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:45:13.076] [INFO] TenantConfig.js - [39mConfigCache cache expired 61b9b81d9efc3e6b7da2283a-ECAM_EXTENDED_AUDIT:[object Promise]: {"hits":15,"misses":3,"keys":2,"ksize":81,"vsize":160} 
[36m[2022-01-07T04:45:13.076] [DEBUG] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Query config value of key ECAM_EXTENDED_AUDIT, URL: http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/ECAM_EXTENDED_AUDIT
***** Db {
  _events: [Object: null prototype] {},
  _eventsCount: 0,
  _maxListeners: undefined,
  s: {
    dbCache: {},
    children: [],
    topology: NativeTopology {
      _events: [Object: null prototype],
      _eventsCount: 35,
      _maxListeners: Infinity,
      s: [Object],
      [Symbol(kCapture)]: false,
      [Symbol(waitQueue)]: [Denque]
    },
    options: {
      readConcern: [Object],
      authSource: 'admin',
      retryWrites: true,
      readPreference: [ReadPreference],
      promiseLibrary: [Function: Promise]
    },
    logger: Logger { className: 'Db' },
    bson: BSON {},
    readPreference: ReadPreference {
      mode: 'primary',
      tags: undefined,
      hedge: undefined
    },
    bufferMaxEntries: -1,
    parentDb: null,
    pkFactory: undefined,
    nativeParser: undefined,
    promiseLibrary: [Function: Promise],
    noListener: false,
    readConcern: ReadConcern { level: 'majority' },
    writeConcern: undefined,
    namespace: MongoDBNamespace { db: 'ECAMApp', collection: undefined }
  },
  serverConfig: [Getter],
  bufferMaxEntries: [Getter],
  databaseName: [Getter],
  [Symbol(kCapture)]: false
}
***** 61b9b81d9efc3e6b7da2283a
***** Collection {
  s: {
    pkFactory: [Function: ObjectID] {
      index: 5500915,
      createPk: [Function: createPk],
      createFromTime: [Function: createFromTime],
      createFromHexString: [Function: createFromHexString],
      isValid: [Function: isValid],
      ObjectID: [Circular],
      ObjectId: [Circular]
    },
    db: Db {
      _events: [Object: null prototype] {},
      _eventsCount: 0,
      _maxListeners: undefined,
      s: [Object],
      serverConfig: [Getter],
      bufferMaxEntries: [Getter],
      databaseName: [Getter],
      [Symbol(kCapture)]: false
    },
    topology: NativeTopology {
      _events: [Object: null prototype],
      _eventsCount: 35,
      _maxListeners: Infinity,
      s: [Object],
      [Symbol(kCapture)]: false,
      [Symbol(waitQueue)]: [Denque]
    },
    options: {
      promiseLibrary: [Function: Promise],
      readConcern: [ReadConcern],
      readPreference: [ReadPreference]
    },
    namespace: MongoDBNamespace { db: 'ECAMApp', collection: 'test' },
    readPreference: ReadPreference {
      mode: 'primary',
      tags: undefined,
      hedge: undefined
    },
    slaveOk: true,
    serializeFunctions: undefined,
    raw: undefined,
    promoteLongs: undefined,
    promoteValues: undefined,
    promoteBuffers: undefined,
    internalHint: null,
    collectionHint: null,
    promiseLibrary: [Function: Promise],
    readConcern: ReadConcern { level: 'majority' },
    writeConcern: undefined
  }
}
Time Fri, 07 Jan 2022 04:45:13 GMT DATA===>
Data {
  tenantId: '61b9b81d9efc3e6b7da2283a',
  time: 2022-01-07T04:45:13.078Z,
  status: 'postProcessing'
}
[32m[2022-01-07T04:45:13.081] [INFO] CAMIngestionJob.js - [39m61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Starting Post Enrichment: Request to Run tasks: [object Object], all:  true
[32m[2022-01-07T04:45:13.081] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:13.083] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, transition: Idle -> PostProcessing
[32m[2022-01-07T04:45:13.083] [INFO] ActiveIngestion.js - [39mAdd step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:PostProcessing, size: 1
[2022-01-07T04:45:13.084Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:83 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Initialising postprocessing tasks: [{"id":"billingAccEntry","status":"Idle","reason":null},{"id":"providerSpecificStatus","status":"Idle","reason":null},{"id":"accountNameMigrate","status":"Idle","reason":null},{"id":"postProcessCost","status":"Idle","reason":null},{"id":"postProcessAsset","status":"Idle","reason":null},{"id":"missingPricingRuleStatus","status":"Idle","reason":null},{"id":"notifyInsights","status":"Idle","reason":null},{"id":"budgetAlert","status":"Idle","reason":null},{"id":"lookupCategory","status":"Idle","reason":null},{"id":"jobServiceStatus","status":"Idle","reason":null},{"id":"notifyCDAdapter","status":"Idle","reason":null}]
[32m[2022-01-07T04:45:13.085] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Succesfully retrieved config for key: ECAM_EXTENDED_AUDIT = false
[32m[2022-01-07T04:45:13.085] [INFO] TenantConfig.js - [39m[61b9b81d9efc3e6b7da2283a] Set ConfigCache value: 61b9b81d9efc3e6b7da2283a-ECAM_EXTENDED_AUDIT = false
[32m[2022-01-07T04:45:13.086] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 51872 ::: UserDataCache.get userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.086] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 51872 ::: No user_data_promise - creating new promise
[32m[2022-01-07T04:45:13.086] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 51872 ::: UserDataCache.set userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.086] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 51872 ::: UserDataCache.set in 0 ms
[2022-01-07T04:45:13.089Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1583 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocess tasks :: billingAccEntry,providerSpecificStatus,accountNameMigrate,postProcessCost,postProcessAsset,missingPricingRuleStatus,notifyInsights,budgetAlert,lookupCategory,jobServiceStatus,notifyCDAdapter
[2022-01-07T04:45:13.089Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask billingAccEntry
[2022-01-07T04:45:13.089Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask providerSpecificStatus
[2022-01-07T04:45:13.090Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:356 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]::Updating provider specific details...
[2022-01-07T04:45:13.091Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] PostEnrichment.js:491 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB pipeProviderSet:: [
  {
    '$match': { _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB' }
  },
  {
    '$unwind': { path: '$state.execution_log', preserveNullAndEmptyArrays: true }
  },
  {
    '$unwind': {
      path: '$state.validationErrorDetails',
      preserveNullAndEmptyArrays: true
    }
  },
  {
    '$group': {
      _id: null,
      providerSet: { '$addToSet': '$state.execution_log.providerName' },
      providerSetValidation: { '$addToSet': '$state.validationErrorDetails.Provider_Name' }
    }
  },
  {
    '$addFields': {
      providerSet: {
        '$concatArrays': [ '$providerSet', '$providerSetValidation', [length]: 2 ]
      },
      providerSetValidation: '$REMOVE'
    }
  },
  { '$unwind': '$providerSet' },
  {
    '$group': { _id: null, providerSet: { '$addToSet': '$providerSet' } }
  },
  [length]: 7
] 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:45:13.091Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1897 --- collection----: EnrichmentManagerState
[2022-01-07T04:45:13.091Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1898 --- query----: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$unwind":{"path":"$state.execution_log","preserveNullAndEmptyArrays":true}},{"$unwind":{"path":"$state.validationErrorDetails","preserveNullAndEmptyArrays":true}},{"$group":{"_id":null,"providerSet":{"$addToSet":"$state.execution_log.providerName"},"providerSetValidation":{"$addToSet":"$state.validationErrorDetails.Provider_Name"}}},{"$addFields":{"providerSet":{"$concatArrays":["$providerSet","$providerSetValidation"]},"providerSetValidation":"$REMOVE"}},{"$unwind":"$providerSet"},{"$group":{"_id":null,"providerSet":{"$addToSet":"$providerSet"}}}]
[2022-01-07T04:45:13.093Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:358 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB providers for enrichment:: ["gcp"] 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:45:13.093Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:501 --- Feature Flag for BCM-5224 is true
[2022-01-07T04:45:13.093Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] PostEnrichment.js:506 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB pipeline to get provider specific job details:: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$project":{"ingestionStartDate":true,"operation":"$job.final_operation","execution_logs":{"$filter":{"input":"$state.execution_log","as":"items","cond":{"$and":[{"$eq":["$$items.providerName","gcp"]},{"$ne":[{"$let":{"vars":{"obj":{"$arrayElemAt":["$$items.extract",0]}},"in":"$$obj.type"}},"metric"]}]}}},"validationErrorLogs":{"$filter":{"input":"$state.validationErrorDetails","as":"items","cond":{"$and":[{"$eq":["$$items.Provider_Name","gcp"]}]}}},"terminateRequested":"$terminateRequested","postProcessingStarted":"$postProcessingStarted","postProcessingStatus":"$postProcessingStatus"}},{"$addFields":{"postProcessingError":{"$and":[{"$ifNull":["$postProcessingStarted",false]},{"$eq":["$postProcessingStatus.status","Error"]}]}}},{"$addFields":{"completed":{"$and":[{"$gt":[{"$size":{"$ifNull":["$execution_logs",[]]}},0]},{"$allElementsTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}},{"$lte":[{"$size":{"$ifNull":["$validationErrorLogs",[]]}},0]}]}}},{"$addFields":{"partialComplete":{"$or":[{"$anyElementTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}},{"$cond":[{"$and":[{"$gt":[{"$size":{"$ifNull":["$validationErrorLogs",[]]}},0]},{"$anyElementTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}}]},true,false]}]}}},{"$addFields":{"status":{"$switch":{"branches":[{"case":"$postProcessingError","then":0},{"case":"$completed","then":2},{"case":"$terminateRequested","then":0},{"case":"$partialComplete","then":1}],"default":0}}}},{"$project":{"_id":false,"lastIngestionId":"$_id","providerName":{"$ifNull":[{"$arrayElemAt":["$execution_logs.providerName",0]},{"$arrayElemAt":["$validationErrorLogs.Provider_Name",0]}]},"lastIngestionDate":"$ingestionStartDate","lastIngestionStatus":"$status"}}] 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:45:13.094Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1897 --- collection----: EnrichmentManagerState
[2022-01-07T04:45:13.094Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1898 --- query----: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$project":{"ingestionStartDate":true,"operation":"$job.final_operation","execution_logs":{"$filter":{"input":"$state.execution_log","as":"items","cond":{"$and":[{"$eq":["$$items.providerName","gcp"]},{"$ne":[{"$let":{"vars":{"obj":{"$arrayElemAt":["$$items.extract",0]}},"in":"$$obj.type"}},"metric"]}]}}},"validationErrorLogs":{"$filter":{"input":"$state.validationErrorDetails","as":"items","cond":{"$and":[{"$eq":["$$items.Provider_Name","gcp"]}]}}},"terminateRequested":"$terminateRequested","postProcessingStarted":"$postProcessingStarted","postProcessingStatus":"$postProcessingStatus"}},{"$addFields":{"postProcessingError":{"$and":[{"$ifNull":["$postProcessingStarted",false]},{"$eq":["$postProcessingStatus.status","Error"]}]}}},{"$addFields":{"completed":{"$and":[{"$gt":[{"$size":{"$ifNull":["$execution_logs",[]]}},0]},{"$allElementsTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}},{"$lte":[{"$size":{"$ifNull":["$validationErrorLogs",[]]}},0]}]}}},{"$addFields":{"partialComplete":{"$or":[{"$anyElementTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}},{"$cond":[{"$and":[{"$gt":[{"$size":{"$ifNull":["$validationErrorLogs",[]]}},0]},{"$anyElementTrue":{"$map":{"input":"$execution_logs","as":"task","in":{"$and":[{"$eq":["$$task.operation","$operation"]}]}}}}]},true,false]}]}}},{"$addFields":{"status":{"$switch":{"branches":[{"case":"$postProcessingError","then":0},{"case":"$completed","then":2},{"case":"$terminateRequested","then":0},{"case":"$partialComplete","then":1}],"default":0}}}},{"$project":{"_id":false,"lastIngestionId":"$_id","providerName":{"$ifNull":[{"$arrayElemAt":["$execution_logs.providerName",0]},{"$arrayElemAt":["$validationErrorLogs.Provider_Name",0]}]},"lastIngestionDate":"$ingestionStartDate","lastIngestionStatus":"$status"}}]
[2022-01-07T04:45:13.096Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:367 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Provider Name: gcp Job details:  [{"lastIngestionId":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","providerName":"gcp","lastIngestionDate":"2022-01-07T04:41:41.834Z","lastIngestionStatus":2}] 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.096] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 25999 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.097] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 25999 ::: returning cached refresh_token_promise in 1 ms
[2022-01-07T04:45:13.097Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:190 --- Requesting GET function http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/serviceProviders
[32m[2022-01-07T04:45:13.098] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 51872 ::: Resolving core call
[32m[2022-01-07T04:45:13.101] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics","operation":"enrich","previous":"Finalizing","next":"FinalizeCompleted"}
[32m[2022-01-07T04:45:13.101] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics',
  operation: 'enrich',
  previous: 'Finalizing',
  next: 'FinalizeCompleted'
}
[32m[2022-01-07T04:45:13.101] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"tenant-id":"61b9b81d9efc3e6b7da2283a","_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","type":"job_state_transition","consumes":"cam_ingestion","execution_log_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M","operation":"enrich","previous":"Finalizing","next":"FinalizeCompleted"}
[32m[2022-01-07T04:45:13.101] [INFO] CAMIngestionJob.js - [39monJobEvent: {
  'tenant-id': '61b9b81d9efc3e6b7da2283a',
  _id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  type: 'job_state_transition',
  consumes: 'cam_ingestion',
  execution_log_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:0:cost-asset-analytics_M',
  operation: 'enrich',
  previous: 'Finalizing',
  next: 'FinalizeCompleted'
}
[32m[2022-01-07T04:45:13.101] [INFO] EnrichmentManager.js - [39monJobEvent:payload: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB {"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB","state":"completed","info":"Enrichment","type":"cam_ingestion"}
[32m[2022-01-07T04:45:13.102] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[32m[2022-01-07T04:45:13.102] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:13.102] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:13.102] [INFO] MessageManager.js - [39mMessageManager.js channel.publish exchange=ECAMV1, topic=job, returnVal=undefined
[32m[2022-01-07T04:45:13.102] [INFO] EnrichmentManager.js - [39mGetting tenant:[object Object] _id:61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:13.106Z] [61b9b81d9efc3e6b7da2283a] [WARN] CAMIngestionJob.js:489 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB finalStarted flag not set, finalization may already be running
[2022-01-07T04:45:13.107Z] [61b9b81d9efc3e6b7da2283a] [WARN] CAMIngestionJob.js:489 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB finalStarted flag not set, finalization may already be running
[2022-01-07T04:45:13.120Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:195 --- Response (200) from http://cb-cred-svc.dev-core.svc.cluster.local:8000/cb-credential-service/api/v2.0/serviceProviders
[2022-01-07T04:45:13.121Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:203 --- Retrieved providers from core: ["alicloud","aws","azure","gcp","git","ibmcloud","icam","icd","icds","rhm","snow","vra"]
[2022-01-07T04:45:13.121Z] [61b9b81d9efc3e6b7da2283a] [INFO] ProviderCoreServices.js:77 --- Public providers are ["alicloud","aws","azure","gcp","ibmcloud"]
[2022-01-07T04:45:13.121Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:383 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Entry for provider  gcp  is present. 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:45:13.121Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:385 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating the document. 61b9b81d9efc3e6b7da2283a
[2022-01-07T04:45:13.121Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:386 --- is entry present:::: {
  _id: 61d6ecc3a576e8118acdac0e,
  type: 'public',
  lastIngestionId: '61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu',
  lastIngestionDate: 2022-01-07T04:31:07.732Z,
  lastIngestionStatus: 2,
  providerName: 'gcp',
  activationDate: 2022-01-06T13:08:10.329Z
}
[2022-01-07T04:45:13.126Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task providerSpecificStatus to Completed, reason: null
[2022-01-07T04:45:13.131Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask accountNameMigrate
[2022-01-07T04:45:13.133Z] [61b9b81d9efc3e6b7da2283a] [INFO] account.name.migrator.js:145 --- Account name migration started
[2022-01-07T04:45:13.135Z] [61b9b81d9efc3e6b7da2283a] [INFO] account.name.migrator.js:155 --- No new account names to migrate
[2022-01-07T04:45:13.135Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task accountNameMigrate to Completed, reason: null
[32m[2022-01-07T04:45:13.136] [INFO] AuditLogger.js - [39m[61b9b81d9efc3e6b7da2283a] Status code from Audit Logger: 200
[2022-01-07T04:45:13.140Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask postProcessCost
[2022-01-07T04:45:13.140Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1705 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Retrieving PostProcessTasks: all: false
[2022-01-07T04:45:13.140Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1725 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitBQuery PostProcessTasks queryArray: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$project":{"_id":0,"tasks":{"$filter":{"input":"$postProcessingStatus.tasks","as":"task","cond":{"$ne":["$$task.status","Completed"]}}}}}]
[2022-01-07T04:45:13.141Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1728 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Logging PostProcessTasks for debug: [{"tasks":[{"id":"billingAccEntry","status":"Idle","reason":null},{"id":"postProcessCost","status":"Idle","reason":null},{"id":"postProcessAsset","status":"Idle","reason":null},{"id":"missingPricingRuleStatus","status":"Idle","reason":null},{"id":"notifyInsights","status":"Idle","reason":null},{"id":"budgetAlert","status":"Idle","reason":null},{"id":"lookupCategory","status":"Idle","reason":null},{"id":"jobServiceStatus","status":"Idle","reason":null},{"id":"notifyCDAdapter","status":"Idle","reason":null}]}]
[2022-01-07T04:45:13.141Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1731 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Returning PostProcessTasks :: billingAccEntry,postProcessCost,postProcessAsset,missingPricingRuleStatus,notifyInsights,budgetAlert,lookupCategory,jobServiceStatus,notifyCDAdapter
[2022-01-07T04:45:13.142Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:550 --- Collections to Initialise --> Collection array : UniqueKeysCAT_AT,UniqueKeysCAT_AT_daily,UniqueProviderCurrencies_PerPeriod,standard_cost_allTags_group,standard_cost_allTags_group_daily,UniqueTags_AT,UniqueTags_Assets,UniqueKeys_AT_flattened,UniqueKeys_AT_flattened_short,extended_attributes,extended_attributes_uniquekeys
[2022-01-07T04:45:13.151Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:726 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessCost:create tags standard_cost
[2022-01-07T04:45:13.152Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1542 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Activating cost partitions
[2022-01-07T04:45:13.154Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:13.155Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.physicalName":{"$in":["standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB"]},"state":{"$ne":"Active"}}:
[2022-01-07T04:45:13.155Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1554 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Cost partitions to be activated : [[202201,"standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB"]]
[2022-01-07T04:45:13.164Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:13.167Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active"}:
[2022-01-07T04:45:13.167Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202111_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.168Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202112_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.168Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202110_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.168Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202109_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.169Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202108_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.169Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202107_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.169Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202106_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.170Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202105_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.170Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202104_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.170Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202102_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.170Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202103_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.171Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202101_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.171Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202012_61b9b81d9efc3e6b7da2283a_iC8SJf6dNvqeTpb8f8MTvJ====================
[2022-01-07T04:45:13.171Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:890 --- stdCollectionName:: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB====================
[2022-01-07T04:45:13.540Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:619 --- Running assetTypeExistsFunction!
[2022-01-07T04:45:13.541Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:633 --- Running CustomerCurrencyExists!
[2022-01-07T04:45:13.543Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_cost
[2022-01-07T04:45:13.544Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:320 --- getActiveCostPartitionName featureFlag: true
[2022-01-07T04:45:13.544Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:331 --- Get/Retry PartitionKey to Period: 202201
[2022-01-07T04:45:13.545Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:13.546Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active","attributes.period":202201}:
[2022-01-07T04:45:13.546Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:335 --- partitionKey: [object Object]
[2022-01-07T04:45:13.547Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:348 --- PartitionKey Pulled successfully: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:13.547Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:13.548Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from standard_cost_allTags_group for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]},{"$or":[{"providerName":{"$in":["gcp"]}},{"_id.providerName":{"$in":["gcp"]}}]},{"$or":[{"billingAccountId":{"$in":["008C93-7B2B98-816781"]}},{"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}]}]}
[2022-01-07T04:45:13.586Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 69 records deleted from standard_cost_allTags_group
[2022-01-07T04:45:13.587Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.612Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"providerName":{"$in":["gcp"]},"billingAccountId":{"$in":["008C93-7B2B98-816781"]},"period":202201}},{"$group":{"_id":{"period":"$period","providerName":"$providerName","category":"$category","assetType":"$assetType","allTags":"$allTags","assetAccountId":"$assetAccountId","billingAccountId":"$billingAccountId","resourceGroupId":"$resourceGroupId","providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency","invoiceStartDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceStartDate"},"month":{"$month":"$invoiceStartDate"},"day":{"$dayOfMonth":"$invoiceStartDate"},"hour":{"$hour":"$invoiceStartDate"},"minute":{"$minute":"$invoiceStartDate"}}}},"invoiceEndDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceEndDate"},"month":{"$month":"$invoiceEndDate"},"day":{"$dayOfMonth":"$invoiceEndDate"},"hour":{"$hour":"$invoiceEndDate"},"minute":{"$minute":"$invoiceEndDate"}}}},"vtags":"$vtags","vattributes":"$vattributes"},"billingAccountName":{"$max":"$billingAccountName"},"assetAccountName":{"$max":"$assetAccountName"},"count":{"$sum":1},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"pcProviderTotalCost":{"$sum":"$pcProviderTotalCost"},"ccCustomerTotalCost":{"$sum":"$ccCustomerTotalCost"},"period":{"$min":"$period"},"providerName":{"$min":"$providerName"}}},{"$merge":{"into":"standard_cost_allTags_group","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_cost
[2022-01-07T04:45:13.612Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished standard_cost_allTags_group_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.587Z, endTime=2022-01-07T04:45:13.612Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.612Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_cost_allTags_group
[2022-01-07T04:45:13.612Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_cost_allTags_group
[2022-01-07T04:45:13.613Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from UniqueKeysCAT_AT for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]},{"$or":[{"providerName":{"$in":["gcp"]}},{"_id.providerName":{"$in":["gcp"]}}]},{"$or":[{"billingAccountId":{"$in":["008C93-7B2B98-816781"]}},{"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}]}]}
[2022-01-07T04:45:13.647Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 69 records deleted from UniqueKeysCAT_AT
[2022-01-07T04:45:13.648Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.662Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"_id.period":202201,"_id.providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$group":{"_id":{"providerName":"$providerName","billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","period":"$period","category":"$_id.category","assetType":"$_id.assetType","resourceGroupId":"$_id.resourceGroupId","providerCurrency":"$_id.providerCurrency","customerCurrency":"$_id.customerCurrency","invoiceStartDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceStartDate"},"month":{"$month":"$_id.invoiceStartDate"},"day":{"$dayOfMonth":"$_id.invoiceStartDate"},"hour":{"$hour":"$_id.invoiceStartDate"},"minute":{"$minute":"$_id.invoiceStartDate"}}}},"invoiceEndDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceEndDate"},"month":{"$month":"$_id.invoiceEndDate"},"day":{"$dayOfMonth":"$_id.invoiceEndDate"},"hour":{"$hour":"$_id.invoiceEndDate"},"minute":{"$minute":"$_id.invoiceEndDate"}}}},"vtags":"$_id.vtags","vattributes":"$_id.vattributes"},"billingAccountName":{"$max":"$billingAccountName"},"assetAccountName":{"$max":"$assetAccountName"},"cost":{"$sum":"$ccCustomerTotalCost"},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"pcProviderTotalCost":{"$sum":"$pcProviderTotalCost"},"ccCustomerTotalCost":{"$sum":"$ccCustomerTotalCost"},"count":{"$sum":"$count"},"providerCurrency":{"$min":"$_id.providerCurrency"},"customerCurrency":{"$min":"$_id.customerCurrency"},"invoiceStartDate":{"$min":"$_id.invoiceStartDate"},"invoiceEndDate":{"$max":"$_id.invoiceEndDate"},"period":{"$min":"$period"},"providerName":{"$min":"$providerName"}}},{"$merge":{"into":"UniqueKeysCAT_AT","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_cost_allTags_group
[2022-01-07T04:45:13.662Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueKeysCAT_AT_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.647Z, endTime=2022-01-07T04:45:13.662Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.665Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_cost_allTags_group
[2022-01-07T04:45:13.665Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_cost_allTags_group
[2022-01-07T04:45:13.666Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.678Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$addFields":{"allTagKeys":{"$map":{"input":"$_id.allTags","as":"nextTag","in":{"$let":{"vars":{"nextKey":{"$arrayElemAt":[{"$objectToArray":"$$nextTag"},0]}},"in":"$$nextKey.k"}}}}}},{"$group":{"_id":{"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","category":"$_id.category","assetType":"$_id.assetType","resourceGroupId":"$_id.resourceGroupId","allTags_kv":{"$map":{"input":"$_id.allTags","as":"tag","in":{"$arrayElemAt":[{"$objectToArray":"$$tag"},0]}}}},"allTags_kv_keys":{"$addToSet":"$allTagKeys"},"billingAccountName":{"$last":"$billingAccountName"},"assetAccountName":{"$last":"$assetAccountName"},"period":{"$max":"$period"}}},{"$merge":{"into":"UniqueKeys_AT_flattened","on":"_id","whenMatched":[{"$set":{"allTags_kv_keys":{"$setUnion":[{"$switch":{"branches":[{"case":{"$eq":[null,"$allTags_kv_keys"]},"then":[]},{"case":{"allTags_kv_keys":{"$type":2}},"then":[]}],"default":"$allTags_kv_keys"}},"$$new.allTags_kv_keys"]},"billingAccountName":"$$new.billingAccountName","assetAccountName":"$$new.assetAccountName","period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_cost_allTags_group
[2022-01-07T04:45:13.678Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueKeys_AT_flattened_scatg_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.665Z, endTime=2022-01-07T04:45:13.678Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.678Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:822 --- Populated UniqueKeys_AT_flattened
[2022-01-07T04:45:13.679Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from UniqueKeysCAT_AT
[2022-01-07T04:45:13.679Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: UniqueKeysCAT_AT
[2022-01-07T04:45:13.679Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from UniqueProviderCurrencies_PerPeriod for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]},{"$or":[{"providerName":{"$in":["gcp"]}},{"_id.providerName":{"$in":["gcp"]}}]},{"$or":[{"billingAccountId":{"$in":["008C93-7B2B98-816781"]}},{"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}]}]}
[2022-01-07T04:45:13.680Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 0 records deleted from UniqueProviderCurrencies_PerPeriod
[2022-01-07T04:45:13.681Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.683Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"billingAccountId":{"$in":["008C93-7B2B98-816781"]},"invoiceStartDate":{"$ne":null},"invoiceEndDate":{"$ne":null}}},{"$group":{"_id":{"providerName":"$providerName","period":"$period","invoiceStartDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceStartDate"},"month":{"$month":"$invoiceStartDate"},"day":{"$dayOfMonth":"$invoiceStartDate"},"hour":{"$hour":"$invoiceStartDate"},"minute":{"$minute":"$invoiceStartDate"}}}},"invoiceEndDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceEndDate"},"month":{"$month":"$invoiceEndDate"},"day":{"$dayOfMonth":"$invoiceEndDate"},"hour":{"$hour":"$invoiceEndDate"},"minute":{"$minute":"$invoiceEndDate"}}}},"providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency"}}},{"$replaceRoot":{"newRoot":"$_id"}},{"$merge":{"into":"UniqueProviderCurrencies_PerPeriod","on":["providerName","period","invoiceStartDate","invoiceEndDate","providerCurrency","customerCurrency"],"whenMatched":"replace","whenNotMatched":"insert"}}] from UniqueKeysCAT_AT
[2022-01-07T04:45:13.683Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished unique_providerCurrencies_PerPeriod_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.681Z, endTime=2022-01-07T04:45:13.683Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.705Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:550 --- Collections to Initialise --> Collection array : UniqueKeys_AT_flattened_short
[2022-01-07T04:45:13.707Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.734Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1198 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessCost:create tags standard_cost : UniqueKeys_AT_flattened_short.json : UniqueKeysCAT_AT finished in => startTime=2022-01-07T04:45:13.707Z, endTime=2022-01-07T04:45:13.734Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.739Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_cost_allTags_group
[2022-01-07T04:45:13.739Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_cost_allTags_group
[2022-01-07T04:45:13.740Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]},"_id.allTags.0":{"$exists":true}}},{"$match":{"_id.allTags.0":{"$exists":true}}},{"$unwind":{"path":"$_id.allTags"}},{"$project":{"_id":0,"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","category":"$_id.category","assetType":"$_id.assetType","tag":{"$objectToArray":"$_id.allTags"},"period":"$period"}},{"$unwind":{"path":"$tag"}},{"$group":{"_id":{"providerName":"$providerName","allTags_kv":"$tag"},"billingAccountId":{"$addToSet":"$billingAccountId"},"assetAccountId":{"$addToSet":"$assetAccountId"},"category":{"$addToSet":"$category"},"assetType":{"$addToSet":"$assetType"},"period":{"$max":"$period"}}},{"$merge":{"into":"UniqueTags_Assets","on":"_id","whenMatched":[{"$set":{"billingAccountId":{"$setUnion":["$billingAccountId","$$new.billingAccountId"]},"assetAccountId":{"$setUnion":["$assetAccountId","$$new.assetAccountId"]},"category":{"$setUnion":["$category","$$new.category"]},"assetType":{"$setUnion":["$assetType","$$new.assetType"]},"period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_cost_allTags_group
[2022-01-07T04:45:13.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueTags_Assets_COST_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.740Z, endTime=2022-01-07T04:45:13.744Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:850 --- TAGS DELTA(COST) == Ran Delta for UniqueTags_Assets for Cost Source
[2022-01-07T04:45:13.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_cost_allTags_group
[2022-01-07T04:45:13.744Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_cost_allTags_group
[2022-01-07T04:45:13.745Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.748Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$unwind":"$_id.allTags"},{"$project":{"tag":{"$cond":[{"$eq":[{"$type":"$_id.allTags"},"object"]},{"$objectToArray":"$_id.allTags"},[]]},"period":"$period"}},{"$unwind":"$tag"},{"$group":{"_id":"$tag.k","period":{"$max":"$period"}}},{"$sort":{"_id":1}},{"$merge":{"into":"UniqueTags_AT","on":"_id","whenMatched":[{"$set":{"period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_cost_allTags_group
[2022-01-07T04:45:13.748Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueTags_AT_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.745Z, endTime=2022-01-07T04:45:13.748Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.748Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:854 --- TAGS KEYS DELTA(COST) == Ran Delta for UniqueTags_AT for COST Source
[32m[2022-01-07T04:45:13.748] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 43208 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:13.748] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 43208 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:13.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM4662_CostTrendAnalysis found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM4662_CostTrendAnalysis"]}
[2022-01-07T04:45:13.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM4662_CostTrendAnalysis = true
[2022-01-07T04:45:13.753Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:873 --- Trends flag is enabled along with partitioning
[2022-01-07T04:45:13.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:876 --- created indexes for trends collections
[2022-01-07T04:45:13.757Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:919 --- Aggregating trends collections
[2022-01-07T04:45:13.761Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:320 --- getActiveCostPartitionName featureFlag: true
[2022-01-07T04:45:13.761Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:331 --- Get/Retry PartitionKey to Period: 202201
[2022-01-07T04:45:13.761Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active","attributes.period":202201}:
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:335 --- partitionKey: [object Object]
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] enrichmentUtilities.js:348 --- PartitionKey Pulled successfully: standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:50 --- startDate:: 2022-01-07T04:41:41.834Z
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:56 --- minute:
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:59 --- minuteCeil:
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:62 --- now:
[2022-01-07T04:45:13.763Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:64 --- trun seconds time:
[32m[2022-01-07T04:45:13.764] [INFO] IngestDate.js - [39mDate to be inserted into time_intervals 2022 1 7 4 50
[32m[2022-01-07T04:45:13.764] [INFO] IngestDate.js - [39mingest date pipeline:{
  '$addFields': {
    '_id.ingestDate': { '$dateFromParts': { year: 2022, month: 1, day: 7 } }
  }
}
[2022-01-07T04:45:13.764Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1320 --- Processing aggregateCurrentPeriodTrends :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
      period : {"202201":["gcp"]} from standard_cost_allTags_group
[2022-01-07T04:45:13.764Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1330 --- Data is aggregated from collection: standard_cost_allTags_group
[2022-01-07T04:45:13.765Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.770Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1444 --- Processed aggregateCurrentPeriodTrends for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$addFields":{"_id.ingestDate":{"$dateFromParts":{"year":2022,"month":1,"day":7}}}},{"$merge":{"into":"standard_cost_allTags_group_daily","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_cost_allTags_group
[2022-01-07T04:45:13.770Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1449 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished standard_cost_allTags_group_Delta_daily.json for 202201. Execution time => startTime=2022-01-07T04:45:13.765Z, endTime=2022-01-07T04:45:13.770Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.770Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:958 --- successfully aggregated standard_cost_allTags_group_daily
[2022-01-07T04:45:13.771Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1320 --- Processing aggregateCurrentPeriodTrends :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB
      period : {"202201":["gcp"]} from UniqueKeysCAT_AT
[2022-01-07T04:45:13.771Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1330 --- Data is aggregated from collection: UniqueKeysCAT_AT
[2022-01-07T04:45:13.771Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.777Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1444 --- Processed aggregateCurrentPeriodTrends for : [{"$match":{"_id.period":202201,"_id.providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$addFields":{"_id.ingestDate":{"$dateFromParts":{"year":2022,"month":1,"day":7}}}},{"$merge":{"into":"UniqueKeysCAT_AT_daily","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from UniqueKeysCAT_AT
[2022-01-07T04:45:13.777Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1449 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueKeysCAT_AT_Delta_daily.json for 202201. Execution time => startTime=2022-01-07T04:45:13.771Z, endTime=2022-01-07T04:45:13.777Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.777Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:962 --- successfully aggregated UniqueKeysCAT_AT_daily
[2022-01-07T04:45:13.778Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:203 --- Inserting time interval entry of today => {
  period: 202201,
  ingestDate: 2022-01-07T00:00:00.000Z,
  job_id: '61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB',
  cost_partition: 'standard_cost_202201_61b9b81d9efc3e6b7da2283a_3aUJp4Gua9Rx5j56QVNitB',
  isWeekly: false,
  isActive: true
}
[2022-01-07T04:45:13.785Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:82 --- ingestDate job_id:
[2022-01-07T04:45:13.786Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:92 --- getCurrentTimeInterval ret:[
  {
    _id: 61d7c2f356c28aebcb30f96f,
    period: 202201,
    ingestDate: 2022-01-07T00:00:00.000Z,
    job_id: '61b9b81d9efc3e6b7da2283a:bkS5obzuWmbF6vFk6EGmzu',
    cost_partition: 'standard_cost_202201_61b9b81d9efc3e6b7da2283a_bkS5obzuWmbF6vFk6EGmzu',
    isWeekly: false,
    isActive: true
  },
  {
    _id: 61d7350d56c28aebcb2fbea2,
    period: 202201,
    ingestDate: 2022-01-06T00:00:00.000Z,
    job_id: '61b9b81d9efc3e6b7da2283a:4efiY8SrvgAXJWifeBs75r',
    cost_partition: 'standard_cost_202201_61b9b81d9efc3e6b7da2283a_4efiY8SrvgAXJWifeBs75r',
    isWeekly: false,
    isActive: true
  },
  [length]: 2
]
[32m[2022-01-07T04:45:13.786] [INFO] TimeIntervalManager.js - [39mweekly:: false
[32m[2022-01-07T04:45:13.787] [INFO] TimeIntervalManager.js - [39molderDate:: Moment<2021-12-22T00:00:00+00:00>  input date: 2022-01-07T00:00:00.000Z
[32m[2022-01-07T04:45:13.787] [INFO] TimeIntervalManager.js - [39mweekly:: false
[32m[2022-01-07T04:45:13.787] [INFO] TimeIntervalManager.js - [39molderDate:: Moment<2021-12-22T00:00:00+00:00>  input date: 2022-01-06T00:00:00.000Z
[2022-01-07T04:45:13.788Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:108 --- filter=
[2022-01-07T04:45:13.792Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js[object Object]
[2022-01-07T04:45:13.793Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:965 --- successfully created entry of job_id: 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB in time_intervals
[2022-01-07T04:45:13.835Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task postProcessCost to Completed, reason: null
[2022-01-07T04:45:13.842Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask postProcessAsset
[2022-01-07T04:45:13.842Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1705 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Retrieving PostProcessTasks: all: false
[2022-01-07T04:45:13.842Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1725 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitBQuery PostProcessTasks queryArray: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$project":{"_id":0,"tasks":{"$filter":{"input":"$postProcessingStatus.tasks","as":"task","cond":{"$ne":["$$task.status","Completed"]}}}}}]
[2022-01-07T04:45:13.843Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1728 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Logging PostProcessTasks for debug: [{"tasks":[{"id":"billingAccEntry","status":"Idle","reason":null},{"id":"postProcessAsset","status":"Idle","reason":null},{"id":"missingPricingRuleStatus","status":"Idle","reason":null},{"id":"notifyInsights","status":"Idle","reason":null},{"id":"budgetAlert","status":"Idle","reason":null},{"id":"lookupCategory","status":"Idle","reason":null},{"id":"jobServiceStatus","status":"Idle","reason":null},{"id":"notifyCDAdapter","status":"Idle","reason":null}]}]
[2022-01-07T04:45:13.843Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1731 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Returning PostProcessTasks :: billingAccEntry,postProcessAsset,missingPricingRuleStatus,notifyInsights,budgetAlert,lookupCategory,jobServiceStatus,notifyCDAdapter
[2022-01-07T04:45:13.843Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:550 --- Collections to Initialise --> Collection array : standard_asset_allTags_group,standard_asset_heatmap,Unique_assetCountPerPeriodWithCosts_WithoutTags,Unique_assetCountPerPeriodWithCosts_WithoutFilters,UniqueTags_BulkTagging,Uniquefilterobjects_Asset
[2022-01-07T04:45:13.848Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:989 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessAsset:create tags standard_asset
[2022-01-07T04:45:13.885Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset
[2022-01-07T04:45:13.885Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset
[2022-01-07T04:45:13.885Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:13.942Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"billingAccountId":{"$in":["008C93-7B2B98-816781"]},"ccProviderTotalCost":{"$ne":0}}},{"$sort":{"period":1,"cost":-1}},{"$project":{"period":"$period","correlationAssetId":"$correlationAssetId","cost":"$cost","ccProviderTotalCost":"$ccProviderTotalCost","allTags":"$allTags","attributes":"$attributes","providerName":"$providerName","providerAssetId":"$providerAssetId","assetType":"$assetType","assetSource":"$assetSource","resourceGroupId":"$resourceGroupId","billingAccountName":"$billingAccountName","billingAccountId":"$billingAccountId","assetAccountId":"$assetAccountId","assetAccountName":"$assetAccountName","category":"$category","location":"$location","operationalState":"$operationalState","utilizationScore":"$utilizationScore","utilizationLevel":"$utilizationLevel","supportingMetrics":{"$cond":{"if":{"$and":[{"$not":{"$in":["$utilizationScore",[null,""]]}},{"$not":{"$in":["$providerName",["aws","azure","gcp","ibmcloud","democloud","alicloud","huawei"]]}}]},"then":{"$filter":{"input":"$supportingMetrics","as":"items","cond":{"$in":["$$items.metric_name",["MemoryUtilization","CPUUtilization","NetworkUtilization","DiskUtilization"]]}}},"else":"$supportingMetrics"}},"providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency","ageDays":"$ageDays","assetId":"$providerAssetId","assetName":"$assetName","count":"$count","invoiceStartDate":"$invoiceStartDate","invoiceEndDate":"$invoiceEndDate"}},{"$merge":{"into":"standard_asset_heatmap","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_asset
[2022-01-07T04:45:13.943Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished standard_asset_heatmap_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:13.885Z, endTime=2022-01-07T04:45:13.942Z, elapsedTime=00:00:00
[2022-01-07T04:45:13.943Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1045 --- Ran Delta for standard_asset_heatmap
[2022-01-07T04:45:13.945Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset
[2022-01-07T04:45:13.945Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset
[2022-01-07T04:45:13.946Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from standard_asset_allTags_group for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]},{"$or":[{"providerName":{"$in":["gcp"]}},{"_id.providerName":{"$in":["gcp"]}}]},{"$or":[{"billingAccountId":{"$in":["008C93-7B2B98-816781"]}},{"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}]}]}
[2022-01-07T04:45:14.012Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 203 records deleted from standard_asset_allTags_group
[2022-01-07T04:45:14.013Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.082Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$group":{"_id":{"period":"$period","providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency","providerName":"$providerName","assetType":"$assetType","billingAccountId":"$billingAccountId","assetAccountId":"$assetAccountId","category":"$category","location":"$location","operationalState":"$operationalState","utilizationLevel":"$utilizationLevel","resourceGroupId":"$resourceGroupId","assetSource":"$assetSource","allTags":"$allTags","invoiceStartDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceStartDate"},"month":{"$month":"$invoiceStartDate"},"day":{"$dayOfMonth":"$invoiceStartDate"},"hour":{"$hour":"$invoiceStartDate"},"minute":{"$minute":"$invoiceStartDate"}}}},"invoiceEndDate":{"$toDate":{"$dateFromParts":{"year":{"$year":"$invoiceEndDate"},"month":{"$month":"$invoiceEndDate"},"day":{"$dayOfMonth":"$invoiceEndDate"},"hour":{"$hour":"$invoiceEndDate"},"minute":{"$minute":"$invoiceEndDate"}}}}},"billingAccountName":{"$max":"$billingAccountName"},"assetAccountName":{"$max":"$assetAccountName"},"count":{"$sum":1},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"cost":{"$sum":"$cost"},"period":{"$min":"$period"},"providerName":{"$min":"$providerName"}}},{"$merge":{"into":"standard_asset_allTags_group","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_asset
[2022-01-07T04:45:14.082Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished standard_asset_allTags_group_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.013Z, endTime=2022-01-07T04:45:14.082Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.083Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1063 --- Ran Delta for standard_asset_allTags_group
[2022-01-07T04:45:14.085Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.085Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.086Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from Unique_assetCountPerPeriodWithCosts_WithoutTags for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]},{"$or":[{"providerName":{"$in":["gcp"]}},{"_id.providerName":{"$in":["gcp"]}}]},{"$or":[{"billingAccountId":{"$in":["008C93-7B2B98-816781"]}},{"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}]}]}
[2022-01-07T04:45:14.108Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 72 records deleted from Unique_assetCountPerPeriodWithCosts_WithoutTags
[2022-01-07T04:45:14.108Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.126Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"_id.period":202201,"_id.providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$group":{"_id":{"providerName":"$_id.providerName","period":"$_id.period","providerCurrency":"$_id.providerCurrency","customerCurrency":"$_id.customerCurrency","invoiceStartDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceStartDate"},"month":{"$month":"$_id.invoiceStartDate"},"day":{"$dayOfMonth":"$_id.invoiceStartDate"},"hour":{"$hour":"$_id.invoiceStartDate"},"minute":{"$minute":"$_id.invoiceStartDate"}}},"invoiceEndDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceEndDate"},"month":{"$month":"$_id.invoiceEndDate"},"day":{"$dayOfMonth":"$_id.invoiceEndDate"},"hour":{"$hour":"$_id.invoiceEndDate"},"minute":{"$minute":"$_id.invoiceEndDate"}}},"billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","category":"$_id.category","assetType":"$_id.assetType","location":"$_id.location","operationalState":"$_id.operationalState","utilizationLevel":"$_id.utilizationLevel","resourceGroupId":"$_id.resourceGroupId","assetSource":"$_id.assetSource"},"billingAccountName":{"$max":"$billingAccountName"},"assetAccountName":{"$max":"$assetAccountName"},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"pcProviderTotalCost":{"$sum":"$pcProviderTotalCost"},"cost":{"$sum":"$cost"},"count":{"$sum":"$count"}}},{"$project":{"_id":0,"providerName":"$_id.providerName","period":"$_id.period","providerCurrency":"$_id.providerCurrency","customerCurrency":"$_id.customerCurrency","invoiceStartDate":"$_id.invoiceStartDate","invoiceEndDate":"$_id.invoiceEndDate","ccProviderTotalCost":"$ccProviderTotalCost","billingAccountName":"$billingAccountName","billingAccountId":"$_id.billingAccountId","assetAccountName":"$assetAccountName","assetAccountId":"$_id.assetAccountId","category":"$_id.category","assetType":"$_id.assetType","location":"$_id.location","operationalState":"$_id.operationalState","utilizationLevel":"$_id.utilizationLevel","resourceGroupId":"$_id.resourceGroupId","assetSource":"$_id.assetSource","cost":"$cost","pcProviderTotalCost":"$pcProviderTotalCost","count":"$count"}},{"$merge":{"into":"Unique_assetCountPerPeriodWithCosts_WithoutTags","on":"_id","whenMatched":"replace","whenNotMatched":"insert"}}] from standard_asset_allTags_group
[2022-01-07T04:45:14.127Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished asset_count_per_period_summary_level1_delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.108Z, endTime=2022-01-07T04:45:14.126Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.127Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1075 --- Ran Delta for Unique_assetCountPerPeriodWithCosts_WithoutTags
[2022-01-07T04:45:14.127Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.127Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.129Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1487 --- deleting record from Unique_assetCountPerPeriodWithCosts_WithoutFilters for filter ==>  {"$and":[{"$or":[{"period":202201},{"_id.period":202201}]}]}
[2022-01-07T04:45:14.145Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1489 --- 1 records deleted from Unique_assetCountPerPeriodWithCosts_WithoutFilters
[2022-01-07T04:45:14.146Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.150Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"_id.period":202201}},{"$group":{"_id":{"period":"$_id.period","providerCurrency":"$_id.providerCurrency","customerCurrency":"$_id.customerCurrency","invoiceStartDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceStartDate"},"month":{"$month":"$_id.invoiceStartDate"},"day":{"$dayOfMonth":"$_id.invoiceStartDate"},"hour":{"$hour":"$_id.invoiceStartDate"},"minute":{"$minute":"$_id.invoiceStartDate"}}},"invoiceEndDate":{"$dateFromParts":{"year":{"$year":"$_id.invoiceEndDate"},"month":{"$month":"$_id.invoiceEndDate"},"day":{"$dayOfMonth":"$_id.invoiceEndDate"},"hour":{"$hour":"$_id.invoiceEndDate"},"minute":{"$minute":"$_id.invoiceEndDate"}}}},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"cost":{"$sum":"$cost"},"count":{"$sum":"$count"}}},{"$project":{"_id":0,"period":"$_id.period","providerCurrency":{"$ifNull":["$_id.providerCurrency",""]},"customerCurrency":{"$ifNull":["$_id.customerCurrency",""]},"invoiceStartDate":{"$ifNull":["$_id.invoiceStartDate",""]},"invoiceEndDate":{"$ifNull":["$_id.invoiceEndDate",""]},"ccProviderTotalCost":"$ccProviderTotalCost","cost":"$cost","count":"$count"}},{"$merge":{"into":"Unique_assetCountPerPeriodWithCosts_WithoutFilters","on":["period","providerCurrency","customerCurrency","invoiceStartDate","invoiceEndDate"],"whenMatched":"replace","whenNotMatched":"insert"}}] from standard_asset_allTags_group
[2022-01-07T04:45:14.150Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished asset_count_per_period_summary_level0_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.146Z, endTime=2022-01-07T04:45:14.150Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.153Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.153Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.153Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.203Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$addFields":{"allTagKeys":{"$map":{"input":"$_id.allTags","as":"nextTag","in":{"$let":{"vars":{"nextKey":{"$arrayElemAt":[{"$objectToArray":"$$nextTag"},0]}},"in":"$$nextKey.k"}}}}}},{"$group":{"_id":{"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","category":"$_id.category","operationalState":"$_id.operationalState","assetType":"$_id.assetType","resourceGroupId":"$_id.resourceGroupId","location":"$_id.location","utilizationLevel":"$_id.utilizationLevel","allTags_kv":{"$map":{"input":"$_id.allTags","as":"tag","in":{"$arrayElemAt":[{"$objectToArray":"$$tag"},0]}}},"assetSource":"$_id.assetSource"},"allTags_kv_keys":{"$addToSet":"$allTagKeys"},"billingAccountName":{"$last":"$billingAccountName"},"assetAccountName":{"$last":"$assetAccountName"},"period":{"$max":"$period"}}},{"$merge":{"into":"Uniquefilterobjects_Asset","on":"_id","whenMatched":[{"$set":{"allTags_kv_keys":{"$setUnion":[{"$switch":{"branches":[{"case":{"$eq":[null,"$allTags_kv_keys"]},"then":[]},{"case":{"allTags_kv_keys":{"$type":2}},"then":[]}],"default":"$allTags_kv_keys"}},"$$new.allTags_kv_keys"]},"billingAccountName":"$$new.billingAccountName","assetAccountName":"$$new.assetAccountName","period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_asset_allTags_group
[2022-01-07T04:45:14.203Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished filter_objects_Asset_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.153Z, endTime=2022-01-07T04:45:14.202Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.203Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1085 --- Populated Uniquefilterobjects_Asset.
[2022-01-07T04:45:14.216Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:550 --- Collections to Initialise --> Collection array : Uniquefilterobjects_Asset_short
[2022-01-07T04:45:14.218Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.236Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1198 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB postProcessAsset:create tags standard_asset : filter_objects_Asset_short.json : standard_asset_allTags_group finished in => startTime=2022-01-07T04:45:14.217Z, endTime=2022-01-07T04:45:14.236Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.236Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.236Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.237Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.280Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]},"_id.allTags.0":{"$exists":true}}},{"$match":{"_id.allTags.0":{"$exists":true}}},{"$unwind":{"path":"$_id.allTags"}},{"$project":{"_id":0,"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","assetAccountId":"$_id.assetAccountId","category":"$_id.category","assetType":"$_id.assetType","tag":{"$objectToArray":"$_id.allTags"},"period":"$period"}},{"$unwind":{"path":"$tag"}},{"$group":{"_id":{"providerName":"$providerName","allTags_kv":"$tag"},"billingAccountId":{"$addToSet":"$billingAccountId"},"assetAccountId":{"$addToSet":"$assetAccountId"},"category":{"$addToSet":"$category"},"assetType":{"$addToSet":"$assetType"},"period":{"$max":"$period"}}},{"$merge":{"into":"UniqueTags_Assets","on":"_id","whenMatched":[{"$set":{"billingAccountId":{"$setUnion":["$billingAccountId","$$new.billingAccountId"]},"assetAccountId":{"$setUnion":["$assetAccountId","$$new.assetAccountId"]},"category":{"$setUnion":["$category","$$new.category"]},"assetType":{"$setUnion":["$assetType","$$new.assetType"]},"period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_asset_allTags_group
[2022-01-07T04:45:14.281Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueTags_Assets_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.237Z, endTime=2022-01-07T04:45:14.280Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.281Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1102 --- TAGS DELTA(ASSET) == Ran Delta for UniqueTags_Assets for Asset Source
[2022-01-07T04:45:14.281Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.281Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.281Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.288Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"period":202201,"providerName":{"$in":["gcp"]},"_id.billingAccountId":{"$in":["008C93-7B2B98-816781"]}}},{"$match":{"_id.allTags.0":{"$exists":true}}},{"$unwind":"$_id.allTags"},{"$project":{"tag":{"$cond":[{"$eq":[{"$type":"$_id.allTags"},"object"]},{"$objectToArray":"$_id.allTags"},[]]},"period":"$period"}},{"$unwind":"$tag"},{"$group":{"_id":"$tag.k","period":{"$max":"$period"}}},{"$sort":{"_id":1}},{"$merge":{"into":"UniqueTags_AT","on":"_id","whenMatched":[{"$set":{"period":{"$switch":{"branches":[{"case":{"$or":[{"$gte":["$$new.period","$period"]},{"$eq":[null,"$period"]}]},"then":"$$new.period"},{"case":{"$lt":["$$new.period","$period"]},"then":"$period"}],"default":"$$new.period"}}}}],"whenNotMatched":"insert"}}] from standard_asset_allTags_group
[2022-01-07T04:45:14.288Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueTags_AT_Asset_Delta.json for 202201. Execution time => startTime=2022-01-07T04:45:14.281Z, endTime=2022-01-07T04:45:14.288Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.288Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1105 --- TAGS KEYS DELTA(ASSET) == Ran Delta for UniqueTags_AT for Asset Source
[2022-01-07T04:45:14.289Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:671 --- Running DeleteProviderLessProviderTags!
[2022-01-07T04:45:14.291Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:678 --- 0 records deleted from UniqueTags_Assets for not having a providerName
[2022-01-07T04:45:14.293Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1142 --- <<<<<<< No PeriodWise Schema Updates ran. >>>>>
[2022-01-07T04:45:14.293Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1244 --- Processing aggregatePerPeriod :61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB period : {"202201":["gcp"]} from standard_asset_allTags_group
[2022-01-07T04:45:14.293Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1251 --- Data is aggregated from collection: standard_asset_allTags_group
[2022-01-07T04:45:14.293Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:277 --- Params to aggregate : allowDiskUse=true,collation=null,writeConcern=null,timeout=7200000
[2022-01-07T04:45:14.342Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1267 --- Processed aggregatePerPeriod for : [{"$match":{"_id.period":202201,"_id.assetSource":"asset","_id.operationalState":{"$in":["On","Off"]}}},{"$unwind":"$_id.allTags"},{"$project":{"_id":0,"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","billingAccountName":"$billingAccountName","assetAccountId":"$_id.assetAccountId","assetAccountName":"$assetAccountName","tag":{"$objectToArray":"$_id.allTags"},"count":"$count"}},{"$group":{"_id":{"providerName":"$providerName","billingAccountId":"$billingAccountId","assetAccountId":"$assetAccountId","TAG_KEY":{"$arrayElemAt":["$tag.k",0]},"TAG_VALUE":{"$arrayElemAt":["$tag.v",0]}},"billingAccountName":{"$max":"$billingAccountName"},"assetAccountName":{"$max":"$assetAccountName"},"ASSETS":{"$sum":"$count"}}},{"$project":{"_id":0,"providerName":"$_id.providerName","billingAccountId":"$_id.billingAccountId","billingAccountName":"$billingAccountName","assetAccountId":"$_id.assetAccountId","assetAccountName":"$assetAccountName","TAG_KEY":{"$cond":{"if":{"$eq":["Unknown","$_id.TAG_KEY"]},"then":"","else":"$_id.TAG_KEY"}},"TAG_VALUE":{"$cond":{"if":{"$eq":["Unknown","$_id.TAG_VALUE"]},"then":"","else":"$_id.TAG_VALUE"}},"Assets":"$ASSETS"}},{"$sort":{"Assets":-1}},{"$out":"UniqueTags_BulkTagging"}] from standard_asset_allTags_group
[2022-01-07T04:45:14.342Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1272 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB: finished tag_UniqueTags_BulkTagging.json for 202201. Execution time => startTime=2022-01-07T04:45:14.293Z, endTime=2022-01-07T04:45:14.342Z, elapsedTime=00:00:00
[2022-01-07T04:45:14.366Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task postProcessAsset to Completed, reason: null
[2022-01-07T04:45:14.369Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask missingPricingRuleStatus
[2022-01-07T04:45:14.371Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:14.374Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"standard_cost","state":"Active"}:
[2022-01-07T04:45:14.375Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:435 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Updating missing currency conversion and pricing rule details...
[2022-01-07T04:45:14.386Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:450 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : Data from `Missing_Conversion_Pricingrule` collection : []
[2022-01-07T04:45:14.386Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:455 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB : No failed currency/pricing conversions found
[2022-01-07T04:45:14.386Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task missingPricingRuleStatus to Completed, reason: null
[2022-01-07T04:45:14.390Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask notifyInsights
[2022-01-07T04:45:14.393Z] [61b9b81d9efc3e6b7da2283a] [WARN] insights_service.js:37 --- 61b9b81d9efc3e6b7da2283a : Insights Path is not defined in env
[2022-01-07T04:45:14.393Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task notifyInsights to Completed, reason: null
[2022-01-07T04:45:14.398Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask budgetAlert
[2022-01-07T04:45:14.398Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:225 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Sending budget alerts
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 63244 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 63244 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 56030 ::: UserDataCache.get userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 56030 ::: returning cached user_data_promise in 0 ms
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 :::
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 ::: USER_ID: 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.398] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 ::: TENANT_ID: 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.399] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 ::: CACHE_KEY: 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.399] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 ::: No auth_mgr_promise - creating new promise
[32m[2022-01-07T04:45:14.399] [INFO] FeatureFlag.js - [39mFeatureFlagCache cache expired 61b9b81d9efc3e6b7da2283a-ActivateEphemeralDRGs:[object Promise]: {"hits":226,"misses":19,"keys":16,"ksize":798,"vsize":1280} 
[32m[2022-01-07T04:45:14.399] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 46946 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.399] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 46946 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:45:14.399] [INFO] AuthorizationManager.js - [39mAuthorizationManager.create() ::: reqId: 36530 ::: tenantAuthMgrCache.set in 1 ms
[2022-01-07T04:45:14.403Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key ActivateEphemeralDRGs found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["ActivateEphemeralDRGs"]}
[2022-01-07T04:45:14.403Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-ActivateEphemeralDRGs = false
[32m[2022-01-07T04:45:14.404] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] getting ReportModels data!
[32m[2022-01-07T04:45:14.404] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] No mongo cache_promise found. creating the new promise for getting data from ReportModels collection.
[2022-01-07T04:45:14.406Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:414 --- calling http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/ECAM_RATE_LIMITS
[2022-01-07T04:45:14.410Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:428 --- MongoStoreServerConfigCache returned: {"configurationkey":"ECAM_RATE_LIMITS","configurationvalue":{"max_records":20480,"max_download_records":40960,"user_time_out_ms":65000,"background_time_out_ms":600000,"download_time_out_ms":130000}}
[2022-01-07T04:45:14.410Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:414 --- calling http://cb-core-configuration-service.dev-core.svc.cluster.local:5054/core/configuration/v1/configvalues/ECAM_PROGRESSIVE
[2022-01-07T04:45:14.414Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:428 --- MongoStoreServerConfigCache returned: {"configurationkey":"ECAM_PROGRESSIVE","configurationvalue":{"enabled":true}}
[32m[2022-01-07T04:45:14.415] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a]::ReportModels cache not found calling mongo data_promise
[2022-01-07T04:45:14.415Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1313 --- report: costAggregationByVTAG_V2.json, progressive report: costAggregationByVTAG_V2_PRMs
[2022-01-07T04:45:14.416Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:1330 --- Selecting progressive report model:costAggregationByVTAG_V2_PRMs:costAggregationByVTAG_V2_PRMs implementations=[{"report_id":"costAggregationByVTAG_V2_NoTags.json"},{"report_id":"costAggregationByVTAG_V2_NoTags_daily_trend.json"},{"report_id":"costAggregationByVTAG_V2.json"},{"report_id":"costAggregationByVTAG_V2_daily_trend.json"},{"report_id":"cm_app.json"}]
[32m[2022-01-07T04:45:14.416] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] getting ReportModels data!
[32m[2022-01-07T04:45:14.416] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] data found in ReportModels cache adding cache promise!
[32m[2022-01-07T04:45:14.416] [INFO] MongoCache.js - [39m[61b9b81d9efc3e6b7da2283a] No mongo cache_promise found. creating the new promise for getting data from ReportModels collection.
[2022-01-07T04:45:14.418Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1343 --- evaluting report model:costAggregationByVTAG_V2_NoTags.json
[2022-01-07T04:45:14.419Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1122 --- report.uid :: costAggregationByVTAG_V2_NoTags.json,
      report.type:: aggregation,
      report.groupBy:: vtag_duplicates,
      report.query_param::  {"vtags":["$All"],"type":"v1","expr":""},
      append:: false,
      templateParams:: {"append":false,"group":{"by":{"budgetaryUnitCode":"budgetaryUnitCode","period":"period"},"ccCustomerTotalCost":{"$sum":"ccCustomerTotalCost"},"ccProviderTotalCostConverted":{"$sum":"ccProviderTotalCostConverted"}},"vtags":["$Budget"],"expr":"(period>202011)"}
[32m[2022-01-07T04:45:14.424] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 97695 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.424] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 97695 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:14.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key BCM5137_RemoveDynamicCC found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["BCM5137_RemoveDynamicCC"]}
[2022-01-07T04:45:14.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-BCM5137_RemoveDynamicCC = false
[2022-01-07T04:45:14.428Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] MongoStoreServer.js:1040 --- default_currency.currency_code: USD
[2022-01-07T04:45:14.428Z] [61b9b81d9efc3e6b7da2283a] [INFO] CurrencyConverter.js:377 --- getCurrencyConversionRate(61b9b81d9efc3e6b7da2283a) /core/currency/v2/currencyConversionRates
[2022-01-07T04:45:14.448Z] [61b9b81d9efc3e6b7da2283a] [INFO] CurrencyConverter.js:386 --- converation rates ok: 61b9b81d9efc3e6b7da2283a)
[32m[2022-01-07T04:45:14.449] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 68683 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.449] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 68683 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:14.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key QUERY_NORMALIZER found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["QUERY_NORMALIZER"]}
[2022-01-07T04:45:14.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-QUERY_NORMALIZER = true
[2022-01-07T04:45:14.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] QueryNormalizer.js:150 --- Inside query normalizer...
[2022-01-07T04:45:14.453Z] [61b9b81d9efc3e6b7da2283a] [INFO] QueryNormalizer.js:151 --- Query => {"$and":[{"__NO_VIRTUAL_TAGS__":true},{"period":{"$gt":202011}}]}
[2022-01-07T04:45:14.454Z] [61b9b81d9efc3e6b7da2283a] [INFO] QueryNormalizer.js:155 --- Optimized query => {"$and":[{"__NO_VIRTUAL_TAGS__":true},{"period":{"$gt":202011}}]}
[2022-01-07T04:45:14.454Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:14.455Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"UniqueKeysCAT_AT","state":"Active"}:
[2022-01-07T04:45:14.455Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:290 --- Getting $match expression with cost trend interval => monthly
[2022-01-07T04:45:14.455Z] [61b9b81d9efc3e6b7da2283a] [INFO] TimeIntervalManager.js:299 --- Not injecting time interval expression returning default! [interval-> monthly]
[2022-01-07T04:45:14.456Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1249 --- VtagPipeline => null
[36m[2022-01-07T04:45:14.458] [DEBUG] CacheUtil.js - [39mCacheUtil.js getCachePromise(ECAM_PROGRESSIVE) returning cache_promise
[2022-01-07T04:45:14.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1276 --- diagnostics: {"report_fields":{"period":{"count":1,"isInQueryFields":true,"useFieldName":"period"}},"histogram":{"period":[{"operator":">","right":202011}]}}
[2022-01-07T04:45:14.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1347 --- report=costAggregationByVTAG_V2_PRMs, using report :costAggregationByVTAG_V2_NoTags.json.
[2022-01-07T04:45:14.458Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1320 --- alternativeReport=costAggregationByVTAG_V2_NoTags.json
[2022-01-07T04:45:14.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:474 --- getPartitions.q:
[2022-01-07T04:45:14.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] PartitionManager.js:478 --- matchPartition: {"_id.logicalName":"UniqueKeysCAT_AT","state":"Active"}:
[2022-01-07T04:45:14.459Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:1481 --- Physical Collection Name => UniqueKeysCAT_AT
[2022-01-07T04:45:14.460Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:319 --- report: costAggregationByVTAG_V2_NoTags.json, params: {"allowDiskUse":true,"maxTimeMS":0}
[2022-01-07T04:45:14.460Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:320 --- collection----: UniqueKeysCAT_AT
[2022-01-07T04:45:14.460Z] [61b9b81d9efc3e6b7da2283a] [INFO] MongoStoreServer.js:321 --- query----: [{"$match":{"$and":[{"__NO_VIRTUAL_TAGS__":true},{"period":{"$gt":202011}}]}},{"$group":{"_id":{"period":"$period","billingAccountId":"$_id.billingAccountId","billingAccountName":"$billingAccountName","assetAccountId":"$_id.assetAccountId","assetAccountName":"$assetAccountName","providerName":"$_id.providerName","category":"$_id.category","assetType":"$_id.assetType","resourceGroupId":"$_id.resourceGroupId","vtag":"$vtags.vtag","vtag_type":"$vtags.vtag_type","budgetaryUnitCode":"$vtags.budgetaryUnitCode","budgetaryUnitName":"$vtags.budgetaryUnitName","providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency","invoiceStartDate":"$_id.invoiceStartDate","invoiceEndDate":"$_id.invoiceEndDate","vattributes":"$vtags.vattributes","lineItemType":"$_id.attributes.LineItemType","costType":"$_id.costType","account_guid":"$_id.attributes.account_guid","ProductCode":"$_id.attributes.ProductCode"},"providerCurrency":{"$min":"$providerCurrency"},"customerCurrency":{"$min":"$customerCurrency"},"invoiceStartDate":{"$min":"$_id.invoiceStartDate"},"invoiceEndDate":{"$max":"$_id.invoiceEndDate"},"ccProviderTotalCost":{"$sum":"$ccProviderTotalCost"},"pcProviderTotalCost":{"$sum":"$pcProviderTotalCost"},"ccCustomerTotalCost":{"$sum":"$ccCustomerTotalCost"},"cost":{"$sum":"$ccCustomerTotalCost"},"count":{"$sum":"$count"}}},{"$addFields":{"providerCurrency":{"$ifNull":[{"$cond":[{"$in":["$providerCurrency",["",null]]},null,"$providerCurrency"]},"USD"]}}},{"$addFields":{"convertedCost":{"$switch":{"branches":[{"case":{"$eq":[{"$ifNull":[{"$cond":[{"$in":["$customerCurrency",["",null]]},null,"$customerCurrency"]},"$providerCurrency"]},"USD"]},"then":{"ccProviderTotalCostConverted":{"$multiply":[{"$cond":[{"$eq":[{"$type":"$ccProviderTotalCost"},"string"]},null,"$ccProviderTotalCost"]},1]},"pcProviderTotalCostConverted":{"$multiply":[{"$cond":[{"$eq":[{"$type":"$pcProviderTotalCost"},"string"]},null,"$pcProviderTotalCost"]},1]},"ccCustomerTotalCostConverted":{"$multiply":[{"$cond":[{"$eq":[{"$type":"$ccCustomerTotalCost"},"string"]},null,"$ccCustomerTotalCost"]},1]},"corporateCurrency":"USD","chargeBackCurrency":null,"conversionRate":1,"currencyConversion":true}}],"default":{"ccProviderTotalCostConverted":null,"pcProviderTotalCostConverted":null,"ccCustomerTotalCostConverted":null,"currencyConversion":false}}}}},{"$addFields":{"ccCustomerTotalCost":{"$ifNull":["$convertedCost.ccCustomerTotalCostConverted","$convertedCost.ccProviderTotalCostConverted"]},"ccCustomerUnitCost":"$convertedCost.ccCustomerUnitCostConverted","customerCurrency":"$convertedCost.corporateCurrency","customerConversionRate":{"$cond":{"if":{"$eq":["$customerCurrency","$convertedCost.corporateCurrency"]},"then":"$customerConversionRate","else":"$convertedCost.conversionRate"}}}},{"$project":{"period":"$_id.period","billingAccountId":"$_id.billingAccountId","billingAccountName":"$_id.billingAccountName","assetAccountId":"$_id.assetAccountId","assetAccountName":"$_id.assetAccountName","providerName":"$_id.providerName","category":"$_id.category","assetType":"$_id.assetType","resourceGroupId":"$_id.resourceGroupId","vtag":"$_id.vtag","vtag_type":"$_id.vtag_type","budgetaryUnitCode":"$_id.budgetaryUnitCode","budgetaryUnitName":"$_id.budgetaryUnitName","cost":"$cost","ccCustomerTotalCost":"$ccCustomerTotalCost","ccProviderTotalCost":"$ccProviderTotalCost","count":"$count","invoiceStartDate":"$invoiceStartDate","invoiceEndDate":"$invoiceEndDate","providerCurrency":"$providerCurrency","customerCurrency":"$customerCurrency","corporateCurrency":"$convertedCost.corporateCurrency","chargeBackCurrency":"$convertedCost.chargeBackCurrency","conversionRate":"$convertedCost.conversionRate","ccProviderTotalCostConverted":"$convertedCost.ccProviderTotalCostConverted","pcProviderTotalCostConverted":"$convertedCost.pcProviderTotalCostConverted","vattributes":"$_id.vattributes","lineItemType":"$_id.lineItemType","costType":"$_id.costType","account_guid":"$_id.account_guid","ProductCode":"$_id.attributes.ProductCode"}},{"$sort":{"period":1}},{"$group":{"_id":{"budgetaryUnitCode":"$budgetaryUnitCode","period":"$period"},"budgetaryUnitCode":{"$first":{"$cond":[{"$and":[{"$isArray":"$budgetaryUnitCode"},{"$lte":[{"$size":"$budgetaryUnitCode"},1]}]},{"$arrayElemAt":["$budgetaryUnitCode",0]},"$budgetaryUnitCode"]}},"period":{"$first":{"$cond":[{"$and":[{"$isArray":"$period"},{"$lte":[{"$size":"$period"},1]}]},{"$arrayElemAt":["$period",0]},"$period"]}},"ccCustomerTotalCost":{"$sum":"$ccCustomerTotalCost"},"ccProviderTotalCostConverted":{"$sum":"$ccProviderTotalCostConverted"}}},{"$unset":"_id"}]
[2022-01-07T04:45:14.462Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:268 --- BU cost : []
[2022-01-07T04:45:14.462Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task budgetAlert to Completed, reason: null
[2022-01-07T04:45:14.466Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask lookupCategory
[2022-01-07T04:45:14.466Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1514 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB post_process_lookups:TYPE: cost
[2022-01-07T04:45:14.467Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1535 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB create_categories: collection standard_cost_out
[2022-01-07T04:45:14.469Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] PostEnrichment.js:365 --- run_pipeline_stream:onFinish to lookupServiceCategories, 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB create_categories: collection standard_cost_out, count=0
[2022-01-07T04:45:14.469Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1514 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB post_process_lookups:TYPE: asset
[2022-01-07T04:45:14.470Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1535 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB create_categories: collection standard_asset_out
[2022-01-07T04:45:14.476Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] PostEnrichment.js:365 --- run_pipeline_stream:onFinish to lookupServiceCategories, 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB create_categories: collection standard_asset_out, count=0
[2022-01-07T04:45:14.477Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task lookupCategory to Completed, reason: null
[2022-01-07T04:45:14.480Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask jobServiceStatus
[2022-01-07T04:45:14.481Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:134 --- Manual ingestion job, not updating job service status [jobId => 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]
[2022-01-07T04:45:14.481Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task jobServiceStatus to Completed, reason: null
[2022-01-07T04:45:14.485Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1587 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Running postprocessTask notifyCDAdapter
[32m[2022-01-07T04:45:14.485] [INFO] FeatureFlag.js - [39mFeatureFlagCache cache expired 61b9b81d9efc3e6b7da2283a-COMMON_DISCOVERY:[object Promise]: {"hits":229,"misses":22,"keys":18,"ksize":892,"vsize":1440} 
[32m[2022-01-07T04:45:14.486] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 51957 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.486] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 51957 ::: returning cached refresh_token_promise in 0 ms
[2022-01-07T04:45:14.490Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:61 --- FeatureFlag.getValue response.data: {"message":"No configuration key COMMON_DISCOVERY found","translateCode":"CO404KEY_NOT_FOUND","translateParameters":["COMMON_DISCOVERY"]}
[2022-01-07T04:45:14.490Z] [61b9b81d9efc3e6b7da2283a] [INFO] FeatureFlag.js:94 --- [61b9b81d9efc3e6b7da2283a] Set Feature Flag value: 61b9b81d9efc3e6b7da2283a-COMMON_DISCOVERY = false
[2022-01-07T04:45:14.490Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task notifyCDAdapter to Completed, reason: null
[2022-01-07T04:45:14.494Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:533 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]: Making billing accounts entry in ecam_accounts...
[2022-01-07T04:45:14.495Z] [61b9b81d9efc3e6b7da2283a] [DEBUG] PostEnrichment.js:520 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]: get billling accounts status pipeline: [{"$match":{"_id":"61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB"}},{"$unwind":{"path":"$state.execution_log"}},{"$match":{"$expr":{"$ne":[{"$let":{"vars":{"obj":{"$arrayElemAt":["$state.execution_log.extract",0]}},"in":"$$obj.type"}},"metric"]}}},{"$group":{"_id":"$state.execution_log.billingAccount","states":{"$push":{"state":"$state.execution_log.operation.state"}},"failedPeriods":{"$addToSet":{"$cond":[{"$eq":["$state.execution_log.operation.state","Error"]},"$state.execution_log.period",null]}},"finalOperation":{"$first":"$job.final_operation.state"},"ingestionStartDate":{"$max":{"$toDate":"$state.execution_log.startDate"}}}},{"$addFields":{"status":{"$allElementsTrue":{"$map":{"input":"$states","as":"task","in":{"$eq":["$$task.state","$finalOperation"]}}}},"failedPeriods":{"$filter":{"input":"$failedPeriods","as":"period","cond":{"$ne":["$$period",null]}}},"ingestionStartDate":{"$cond":[{"$and":[{"$eq":[{"$year":"$ingestionStartDate"},{"$year":"$$NOW"}]},{"$eq":[{"$month":"$ingestionStartDate"},{"$month":"$$NOW"}]}]},"$ingestionStartDate",null]}}},{"$project":{"_id":1,"status":1,"failedPeriods":1,"ingestionStartDate":1}}]
[2022-01-07T04:45:14.496Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:536 --- [61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB]: BillingAccount status : [{"_id":"008C93-7B2B98-816781","failedPeriods":[],"ingestionStartDate":"2022-01-07T04:41:48.323Z","status":true}]
[2022-01-07T04:45:14.497Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1736 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status of task billingAccEntry to Completed, reason: null
[2022-01-07T04:45:14.504Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1761 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB Updating postprocess status to Completed
[2022-01-07T04:45:14.508Z] [61b9b81d9efc3e6b7da2283a] [INFO] PostEnrichment.js:1621 --- 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB PostEnrichment completed successfully
[32m[2022-01-07T04:45:14.508] [INFO] ActiveIngestion.js - [39mJob 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB, transition: PostProcessing -> PostProcessingCompleted
[32m[2022-01-07T04:45:14.508] [INFO] ActiveIngestion.js - [39mDelete step 61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB:PostProcessingCompleted, size: 0
[32m[2022-01-07T04:45:14.510] [INFO] CAMIngestionJob.js - [39m61b9b81d9efc3e6b7da2283a:3aUJp4Gua9Rx5j56QVNitB ******************** Post Enrichment finished without error!
[32m[2022-01-07T04:45:14.510] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90358 ::: RefreshTokenCache.get TOKEN_CACHE_KEY 61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.510] [INFO] AuthorizationManager.js - [39mAuthorizationManager.getRefreshToken() ::: reqId: 90358 ::: returning cached refresh_token_promise in 0 ms
[32m[2022-01-07T04:45:14.510] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 60229 ::: UserDataCache.get userCacheKey 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a
[32m[2022-01-07T04:45:14.510] [INFO] AuthorizationManager.js - [39mAuthorizationManager.get_user_data() ::: reqId: 60229 ::: returning cached user_data_promise in 0 ms
[32m[2022-01-07T04:45:14.551] [INFO] AuditLogger.js - [39m[61b9b81d9efc3e6b7da2283a] Status code from Audit Logger: 200
[32m[2022-01-07T04:45:47.065] [INFO] AuthorizationManager.js - [39mUserDataCache cache expired 61b9b81d9efc3e6b7da2283a:61b9b81d9efc3e6b7da2283a:[object Promise]: {"hits":3,"misses":2,"keys":0,"ksize":0,"vsize":0} 
[32m[2022-01-07T04:45:47.066] [INFO] AuthorizationManager.js - [39mRefreshTokenCache cache expired 61b9b81d9efc3e6b7da2283a:[object Promise]: {"hits":40,"misses":3,"keys":0,"ksize":0,"vsize":0} 
